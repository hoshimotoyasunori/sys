function My(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ly(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Hp={exports:{}},va={},qp={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=Symbol.for("react.element"),Uy=Symbol.for("react.portal"),Fy=Symbol.for("react.fragment"),zy=Symbol.for("react.strict_mode"),By=Symbol.for("react.profiler"),Vy=Symbol.for("react.provider"),Wy=Symbol.for("react.context"),Hy=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Ky=Symbol.for("react.memo"),Gy=Symbol.for("react.lazy"),uf=Symbol.iterator;function Yy(e){return e===null||typeof e!="object"?null:(e=uf&&e[uf]||e["@@iterator"],typeof e=="function"?e:null)}var Kp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gp=Object.assign,Yp={};function ws(e,t,n){this.props=e,this.context=t,this.refs=Yp,this.updater=n||Kp}ws.prototype.isReactComponent={};ws.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ws.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xp(){}Xp.prototype=ws.prototype;function Su(e,t,n){this.props=e,this.context=t,this.refs=Yp,this.updater=n||Kp}var Eu=Su.prototype=new Xp;Eu.constructor=Su;Gp(Eu,ws.prototype);Eu.isPureReactComponent=!0;var df=Array.isArray,Qp=Object.prototype.hasOwnProperty,Cu={current:null},Jp={key:!0,ref:!0,__self:!0,__source:!0};function Zp(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Qp.call(t,r)&&!Jp.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:To,type:e,key:o,ref:i,props:s,_owner:Cu.current}}function Xy(e,t){return{$$typeof:To,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Nu(e){return typeof e=="object"&&e!==null&&e.$$typeof===To}function Qy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ff=/\/+/g;function ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qy(""+e.key):t.toString(36)}function yi(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case To:case Uy:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+ol(i,0):r,df(s)?(n="",e!=null&&(n=e.replace(ff,"$&/")+"/"),yi(s,t,n,"",function(u){return u})):s!=null&&(Nu(s)&&(s=Xy(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(ff,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",df(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+ol(o,l);i+=yi(o,t,n,c,s)}else if(c=Yy(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+ol(o,l++),i+=yi(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Wo(e,t,n){if(e==null)return e;var r=[],s=0;return yi(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Jy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},xi={transition:null},Zy={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:xi,ReactCurrentOwner:Cu};function em(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Wo,forEach:function(e,t,n){Wo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wo(e,function(){t++}),t},toArray:function(e){return Wo(e,function(t){return t})||[]},only:function(e){if(!Nu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=ws;Z.Fragment=Fy;Z.Profiler=By;Z.PureComponent=Su;Z.StrictMode=zy;Z.Suspense=qy;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zy;Z.act=em;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gp({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Cu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Qp.call(t,c)&&!Jp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:To,type:e.type,key:s,ref:o,props:r,_owner:i}};Z.createContext=function(e){return e={$$typeof:Wy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vy,_context:e},e.Consumer=e};Z.createElement=Zp;Z.createFactory=function(e){var t=Zp.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Hy,render:e}};Z.isValidElement=Nu;Z.lazy=function(e){return{$$typeof:Gy,_payload:{_status:-1,_result:e},_init:Jy}};Z.memo=function(e,t){return{$$typeof:Ky,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=xi.transition;xi.transition={};try{e()}finally{xi.transition=t}};Z.unstable_act=em;Z.useCallback=function(e,t){return Ge.current.useCallback(e,t)};Z.useContext=function(e){return Ge.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Ge.current.useEffect(e,t)};Z.useId=function(){return Ge.current.useId()};Z.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Ge.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};Z.useRef=function(e){return Ge.current.useRef(e)};Z.useState=function(e){return Ge.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return Ge.current.useTransition()};Z.version="18.3.1";qp.exports=Z;var h=qp.exports;const W=Wp(h),tm=My({__proto__:null,default:W},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex=h,tx=Symbol.for("react.element"),nx=Symbol.for("react.fragment"),rx=Object.prototype.hasOwnProperty,sx=ex.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ox={key:!0,ref:!0,__self:!0,__source:!0};function nm(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)rx.call(t,r)&&!ox.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:tx,type:e,key:o,ref:i,props:s,_owner:sx.current}}va.Fragment=nx;va.jsx=nm;va.jsxs=nm;Hp.exports=va;var a=Hp.exports,Ql={},rm={exports:{}},pt={},sm={exports:{}},om={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,P){var M=T.length;T.push(P);e:for(;0<M;){var B=M-1>>>1,ne=T[B];if(0<s(ne,P))T[B]=P,T[M]=ne,M=B;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var P=T[0],M=T.pop();if(M!==P){T[0]=M;e:for(var B=0,ne=T.length,Te=ne>>>1;B<Te;){var _e=2*(B+1)-1,Ie=T[_e],fe=_e+1,z=T[fe];if(0>s(Ie,M))fe<ne&&0>s(z,Ie)?(T[B]=z,T[fe]=M,B=fe):(T[B]=Ie,T[_e]=M,B=_e);else if(fe<ne&&0>s(z,M))T[B]=z,T[fe]=M,B=fe;else break e}}return P}function s(T,P){var M=T.sortIndex-P.sortIndex;return M!==0?M:T.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,p=3,g=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=T)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function _(T){if(w=!1,v(T),!y)if(n(c)!==null)y=!0,F(j);else{var P=n(u);P!==null&&X(_,P.startTime-T)}}function j(T,P){y=!1,w&&(w=!1,m(k),k=-1),g=!0;var M=p;try{for(v(P),f=n(c);f!==null&&(!(f.expirationTime>P)||T&&!I());){var B=f.callback;if(typeof B=="function"){f.callback=null,p=f.priorityLevel;var ne=B(f.expirationTime<=P);P=e.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(c)&&r(c),v(P)}else r(c);f=n(c)}if(f!==null)var Te=!0;else{var _e=n(u);_e!==null&&X(_,_e.startTime-P),Te=!1}return Te}finally{f=null,p=M,g=!1}}var E=!1,S=null,k=-1,$=5,C=-1;function I(){return!(e.unstable_now()-C<$)}function A(){if(S!==null){var T=e.unstable_now();C=T;var P=!0;try{P=S(!0,T)}finally{P?D():(E=!1,S=null)}}else E=!1}var D;if(typeof x=="function")D=function(){x(A)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,L=N.port2;N.port1.onmessage=A,D=function(){L.postMessage(null)}}else D=function(){b(A,0)};function F(T){S=T,E||(E=!0,D())}function X(T,P){k=b(function(){T(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,F(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var M=p;p=P;try{return T()}finally{p=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,P){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var M=p;p=T;try{return P()}finally{p=M}},e.unstable_scheduleCallback=function(T,P,M){var B=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?B+M:B):M=B,T){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=M+ne,T={id:d++,callback:P,priorityLevel:T,startTime:M,expirationTime:ne,sortIndex:-1},M>B?(T.sortIndex=M,t(u,T),n(c)===null&&T===n(u)&&(w?(m(k),k=-1):w=!0,X(_,M-B))):(T.sortIndex=ne,t(c,T),y||g||(y=!0,F(j))),T},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(T){var P=p;return function(){var M=p;p=P;try{return T.apply(this,arguments)}finally{p=M}}}})(om);sm.exports=om;var ix=sm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax=h,ht=ix;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var im=new Set,io={};function jr(e,t){cs(e,t),cs(e+"Capture",t)}function cs(e,t){for(io[e]=t,e=0;e<t.length;e++)im.add(t[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=Object.prototype.hasOwnProperty,lx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hf={},pf={};function cx(e){return Jl.call(pf,e)?!0:Jl.call(hf,e)?!1:lx.test(e)?pf[e]=!0:(hf[e]=!0,!1)}function ux(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dx(e,t,n,r){if(t===null||typeof t>"u"||ux(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pu=/[\-:]([a-z])/g;function Tu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pu,Tu);Oe[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pu,Tu);Oe[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pu,Tu);Oe[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ru(e,t,n,r){var s=Oe.hasOwnProperty(t)?Oe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dx(t,n,s,r)&&(n=null),r||s===null?cx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xn=ax.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ho=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Vr=Symbol.for("react.fragment"),Au=Symbol.for("react.strict_mode"),Zl=Symbol.for("react.profiler"),am=Symbol.for("react.provider"),lm=Symbol.for("react.context"),Ou=Symbol.for("react.forward_ref"),ec=Symbol.for("react.suspense"),tc=Symbol.for("react.suspense_list"),Iu=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),cm=Symbol.for("react.offscreen"),mf=Symbol.iterator;function Rs(e){return e===null||typeof e!="object"?null:(e=mf&&e[mf]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,il;function Vs(e){if(il===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);il=t&&t[1]||""}return`
`+il+e}var al=!1;function ll(e,t){if(!e||al)return"";al=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{al=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vs(e):""}function fx(e){switch(e.tag){case 5:return Vs(e.type);case 16:return Vs("Lazy");case 13:return Vs("Suspense");case 19:return Vs("SuspenseList");case 0:case 2:case 15:return e=ll(e.type,!1),e;case 11:return e=ll(e.type.render,!1),e;case 1:return e=ll(e.type,!0),e;default:return""}}function nc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vr:return"Fragment";case Br:return"Portal";case Zl:return"Profiler";case Au:return"StrictMode";case ec:return"Suspense";case tc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lm:return(e.displayName||"Context")+".Consumer";case am:return(e._context.displayName||"Context")+".Provider";case Ou:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Iu:return t=e.displayName||null,t!==null?t:nc(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return nc(e(t))}catch{}}return null}function hx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nc(t);case 8:return t===Au?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function um(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function px(e){var t=um(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qo(e){e._valueTracker||(e._valueTracker=px(e))}function dm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=um(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rc(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fm(e,t){t=t.checked,t!=null&&Ru(e,"checked",t,!1)}function sc(e,t){fm(e,t);var n=Wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oc(e,t.type,n):t.hasOwnProperty("defaultValue")&&oc(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function oc(e,t,n){(t!=="number"||Ai(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ws=Array.isArray;function es(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ic(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Ws(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wn(n)}}function hm(e,t){var n=Wn(t.value),r=Wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ac(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ko,mm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ko=Ko||document.createElement("div"),Ko.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ko.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ao(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mx=["Webkit","ms","Moz","O"];Object.keys(Gs).forEach(function(e){mx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gs[t]=Gs[e]})});function gm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Gs.hasOwnProperty(e)&&Gs[e]?(""+t).trim():t+"px"}function vm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var gx=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lc(e,t){if(t){if(gx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function cc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uc=null;function Du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dc=null,ts=null,ns=null;function wf(e){if(e=Oo(e)){if(typeof dc!="function")throw Error(R(280));var t=e.stateNode;t&&(t=_a(t),dc(e.stateNode,e.type,t))}}function ym(e){ts?ns?ns.push(e):ns=[e]:ts=e}function xm(){if(ts){var e=ts,t=ns;if(ns=ts=null,wf(e),t)for(e=0;e<t.length;e++)wf(t[e])}}function wm(e,t){return e(t)}function bm(){}var cl=!1;function _m(e,t,n){if(cl)return e(t,n);cl=!0;try{return wm(e,t,n)}finally{cl=!1,(ts!==null||ns!==null)&&(bm(),xm())}}function lo(e,t){var n=e.stateNode;if(n===null)return null;var r=_a(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var fc=!1;if(ln)try{var As={};Object.defineProperty(As,"passive",{get:function(){fc=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{fc=!1}function vx(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ys=!1,Oi=null,Ii=!1,hc=null,yx={onError:function(e){Ys=!0,Oi=e}};function xx(e,t,n,r,s,o,i,l,c){Ys=!1,Oi=null,vx.apply(yx,arguments)}function wx(e,t,n,r,s,o,i,l,c){if(xx.apply(this,arguments),Ys){if(Ys){var u=Oi;Ys=!1,Oi=null}else throw Error(R(198));Ii||(Ii=!0,hc=u)}}function $r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bf(e){if($r(e)!==e)throw Error(R(188))}function bx(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return bf(s),e;if(o===r)return bf(s),t;o=o.sibling}throw Error(R(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function $m(e){return e=bx(e),e!==null?km(e):null}function km(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=km(e);if(t!==null)return t;e=e.sibling}return null}var Sm=ht.unstable_scheduleCallback,_f=ht.unstable_cancelCallback,_x=ht.unstable_shouldYield,jx=ht.unstable_requestPaint,be=ht.unstable_now,$x=ht.unstable_getCurrentPriorityLevel,Mu=ht.unstable_ImmediatePriority,Em=ht.unstable_UserBlockingPriority,Di=ht.unstable_NormalPriority,kx=ht.unstable_LowPriority,Cm=ht.unstable_IdlePriority,ya=null,Wt=null;function Sx(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Nx,Ex=Math.log,Cx=Math.LN2;function Nx(e){return e>>>=0,e===0?32:31-(Ex(e)/Cx|0)|0}var Go=64,Yo=4194304;function Hs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Hs(l):(o&=i,o!==0&&(r=Hs(o)))}else i=n&~s,i!==0?r=Hs(i):o!==0&&(r=Hs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tt(t),s=1<<n,r|=e[n],t&=~s;return r}function Px(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Tt(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=Px(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function pc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nm(){var e=Go;return Go<<=1,!(Go&4194240)&&(Go=64),e}function ul(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ro(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function Rx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Tt(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Lu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var re=0;function Pm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tm,Uu,Rm,Am,Om,mc=!1,Xo=[],In=null,Dn=null,Mn=null,co=new Map,uo=new Map,Nn=[],Ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jf(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(t.pointerId)}}function Os(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Oo(t),t!==null&&Uu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ox(e,t,n,r,s){switch(t){case"focusin":return In=Os(In,e,t,n,r,s),!0;case"dragenter":return Dn=Os(Dn,e,t,n,r,s),!0;case"mouseover":return Mn=Os(Mn,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return co.set(o,Os(co.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,uo.set(o,Os(uo.get(o)||null,e,t,n,r,s)),!0}return!1}function Im(e){var t=cr(e.target);if(t!==null){var n=$r(t);if(n!==null){if(t=n.tag,t===13){if(t=jm(n),t!==null){e.blockedOn=t,Om(e.priority,function(){Rm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=gc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uc=r,n.target.dispatchEvent(r),uc=null}else return t=Oo(n),t!==null&&Uu(t),e.blockedOn=n,!1;t.shift()}return!0}function $f(e,t,n){wi(e)&&n.delete(t)}function Ix(){mc=!1,In!==null&&wi(In)&&(In=null),Dn!==null&&wi(Dn)&&(Dn=null),Mn!==null&&wi(Mn)&&(Mn=null),co.forEach($f),uo.forEach($f)}function Is(e,t){e.blockedOn===t&&(e.blockedOn=null,mc||(mc=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,Ix)))}function fo(e){function t(s){return Is(s,e)}if(0<Xo.length){Is(Xo[0],e);for(var n=1;n<Xo.length;n++){var r=Xo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(In!==null&&Is(In,e),Dn!==null&&Is(Dn,e),Mn!==null&&Is(Mn,e),co.forEach(t),uo.forEach(t),n=0;n<Nn.length;n++)r=Nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)Im(n),n.blockedOn===null&&Nn.shift()}var rs=xn.ReactCurrentBatchConfig,Li=!0;function Dx(e,t,n,r){var s=re,o=rs.transition;rs.transition=null;try{re=1,Fu(e,t,n,r)}finally{re=s,rs.transition=o}}function Mx(e,t,n,r){var s=re,o=rs.transition;rs.transition=null;try{re=4,Fu(e,t,n,r)}finally{re=s,rs.transition=o}}function Fu(e,t,n,r){if(Li){var s=gc(e,t,n,r);if(s===null)wl(e,t,r,Ui,n),jf(e,r);else if(Ox(s,e,t,n,r))r.stopPropagation();else if(jf(e,r),t&4&&-1<Ax.indexOf(e)){for(;s!==null;){var o=Oo(s);if(o!==null&&Tm(o),o=gc(e,t,n,r),o===null&&wl(e,t,r,Ui,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else wl(e,t,r,null,n)}}var Ui=null;function gc(e,t,n,r){if(Ui=null,e=Du(r),e=cr(e),e!==null)if(t=$r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ui=e,null}function Dm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($x()){case Mu:return 1;case Em:return 4;case Di:case kx:return 16;case Cm:return 536870912;default:return 16}default:return 16}}var Rn=null,zu=null,bi=null;function Mm(){if(bi)return bi;var e,t=zu,n=t.length,r,s="value"in Rn?Rn.value:Rn.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return bi=s.slice(e,1<r?1-r:void 0)}function _i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qo(){return!0}function kf(){return!1}function mt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Qo:kf,this.isPropagationStopped=kf,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),t}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bu=mt(bs),Ao=xe({},bs,{view:0,detail:0}),Lx=mt(Ao),dl,fl,Ds,xa=xe({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ds&&(Ds&&e.type==="mousemove"?(dl=e.screenX-Ds.screenX,fl=e.screenY-Ds.screenY):fl=dl=0,Ds=e),dl)},movementY:function(e){return"movementY"in e?e.movementY:fl}}),Sf=mt(xa),Ux=xe({},xa,{dataTransfer:0}),Fx=mt(Ux),zx=xe({},Ao,{relatedTarget:0}),hl=mt(zx),Bx=xe({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Vx=mt(Bx),Wx=xe({},bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hx=mt(Wx),qx=xe({},bs,{data:0}),Ef=mt(qx),Kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yx[e])?!!t[e]:!1}function Vu(){return Xx}var Qx=xe({},Ao,{key:function(e){if(e.key){var t=Kx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vu,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jx=mt(Qx),Zx=xe({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cf=mt(Zx),ew=xe({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vu}),tw=mt(ew),nw=xe({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),rw=mt(nw),sw=xe({},xa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ow=mt(sw),iw=[9,13,27,32],Wu=ln&&"CompositionEvent"in window,Xs=null;ln&&"documentMode"in document&&(Xs=document.documentMode);var aw=ln&&"TextEvent"in window&&!Xs,Lm=ln&&(!Wu||Xs&&8<Xs&&11>=Xs),Nf=String.fromCharCode(32),Pf=!1;function Um(e,t){switch(e){case"keyup":return iw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function lw(e,t){switch(e){case"compositionend":return Fm(t);case"keypress":return t.which!==32?null:(Pf=!0,Nf);case"textInput":return e=t.data,e===Nf&&Pf?null:e;default:return null}}function cw(e,t){if(Wr)return e==="compositionend"||!Wu&&Um(e,t)?(e=Mm(),bi=zu=Rn=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lm&&t.locale!=="ko"?null:t.data;default:return null}}var uw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uw[e.type]:t==="textarea"}function zm(e,t,n,r){ym(r),t=Fi(t,"onChange"),0<t.length&&(n=new Bu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qs=null,ho=null;function dw(e){Jm(e,0)}function wa(e){var t=Kr(e);if(dm(t))return e}function fw(e,t){if(e==="change")return t}var Bm=!1;if(ln){var pl;if(ln){var ml="oninput"in document;if(!ml){var Rf=document.createElement("div");Rf.setAttribute("oninput","return;"),ml=typeof Rf.oninput=="function"}pl=ml}else pl=!1;Bm=pl&&(!document.documentMode||9<document.documentMode)}function Af(){Qs&&(Qs.detachEvent("onpropertychange",Vm),ho=Qs=null)}function Vm(e){if(e.propertyName==="value"&&wa(ho)){var t=[];zm(t,ho,e,Du(e)),_m(dw,t)}}function hw(e,t,n){e==="focusin"?(Af(),Qs=t,ho=n,Qs.attachEvent("onpropertychange",Vm)):e==="focusout"&&Af()}function pw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wa(ho)}function mw(e,t){if(e==="click")return wa(t)}function gw(e,t){if(e==="input"||e==="change")return wa(t)}function vw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:vw;function po(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jl.call(t,s)||!Ot(e[s],t[s]))return!1}return!0}function Of(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function If(e,t){var n=Of(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Of(n)}}function Wm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hm(){for(var e=window,t=Ai();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ai(e.document)}return t}function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yw(e){var t=Hm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wm(n.ownerDocument.documentElement,n)){if(r!==null&&Hu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=If(n,o);var i=If(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xw=ln&&"documentMode"in document&&11>=document.documentMode,Hr=null,vc=null,Js=null,yc=!1;function Df(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yc||Hr==null||Hr!==Ai(r)||(r=Hr,"selectionStart"in r&&Hu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Js&&po(Js,r)||(Js=r,r=Fi(vc,"onSelect"),0<r.length&&(t=new Bu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hr)))}function Jo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qr={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionend:Jo("Transition","TransitionEnd")},gl={},qm={};ln&&(qm=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function ba(e){if(gl[e])return gl[e];if(!qr[e])return e;var t=qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qm)return gl[e]=t[n];return e}var Km=ba("animationend"),Gm=ba("animationiteration"),Ym=ba("animationstart"),Xm=ba("transitionend"),Qm=new Map,Mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(e,t){Qm.set(e,t),jr(t,[e])}for(var vl=0;vl<Mf.length;vl++){var yl=Mf[vl],ww=yl.toLowerCase(),bw=yl[0].toUpperCase()+yl.slice(1);Gn(ww,"on"+bw)}Gn(Km,"onAnimationEnd");Gn(Gm,"onAnimationIteration");Gn(Ym,"onAnimationStart");Gn("dblclick","onDoubleClick");Gn("focusin","onFocus");Gn("focusout","onBlur");Gn(Xm,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_w=new Set("cancel close invalid load scroll toggle".split(" ").concat(qs));function Lf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wx(r,t,void 0,e),e.currentTarget=null}function Jm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Lf(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Lf(s,l,u),o=c}}}if(Ii)throw e=hc,Ii=!1,hc=null,e}function pe(e,t){var n=t[jc];n===void 0&&(n=t[jc]=new Set);var r=e+"__bubble";n.has(r)||(Zm(t,e,2,!1),n.add(r))}function xl(e,t,n){var r=0;t&&(r|=4),Zm(n,e,r,t)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function mo(e){if(!e[Zo]){e[Zo]=!0,im.forEach(function(n){n!=="selectionchange"&&(_w.has(n)||xl(n,!1,e),xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zo]||(t[Zo]=!0,xl("selectionchange",!1,t))}}function Zm(e,t,n,r){switch(Dm(t)){case 1:var s=Dx;break;case 4:s=Mx;break;default:s=Fu}n=s.bind(null,t,n,e),s=void 0,!fc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function wl(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=cr(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}_m(function(){var u=o,d=Du(n),f=[];e:{var p=Qm.get(e);if(p!==void 0){var g=Bu,y=e;switch(e){case"keypress":if(_i(n)===0)break e;case"keydown":case"keyup":g=Jx;break;case"focusin":y="focus",g=hl;break;case"focusout":y="blur",g=hl;break;case"beforeblur":case"afterblur":g=hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Fx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=tw;break;case Km:case Gm:case Ym:g=Vx;break;case Xm:g=rw;break;case"scroll":g=Lx;break;case"wheel":g=ow;break;case"copy":case"cut":case"paste":g=Hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Cf}var w=(t&4)!==0,b=!w&&e==="scroll",m=w?p!==null?p+"Capture":null:p;w=[];for(var x=u,v;x!==null;){v=x;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,m!==null&&(_=lo(x,m),_!=null&&w.push(go(x,_,v)))),b)break;x=x.return}0<w.length&&(p=new g(p,y,null,n,d),f.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&n!==uc&&(y=n.relatedTarget||n.fromElement)&&(cr(y)||y[cn]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?cr(y):null,y!==null&&(b=$r(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(w=Sf,_="onMouseLeave",m="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(w=Cf,_="onPointerLeave",m="onPointerEnter",x="pointer"),b=g==null?p:Kr(g),v=y==null?p:Kr(y),p=new w(_,x+"leave",g,n,d),p.target=b,p.relatedTarget=v,_=null,cr(d)===u&&(w=new w(m,x+"enter",y,n,d),w.target=v,w.relatedTarget=b,_=w),b=_,g&&y)t:{for(w=g,m=y,x=0,v=w;v;v=Tr(v))x++;for(v=0,_=m;_;_=Tr(_))v++;for(;0<x-v;)w=Tr(w),x--;for(;0<v-x;)m=Tr(m),v--;for(;x--;){if(w===m||m!==null&&w===m.alternate)break t;w=Tr(w),m=Tr(m)}w=null}else w=null;g!==null&&Uf(f,p,g,w,!1),y!==null&&b!==null&&Uf(f,b,y,w,!0)}}e:{if(p=u?Kr(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var j=fw;else if(Tf(p))if(Bm)j=gw;else{j=pw;var E=hw}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=mw);if(j&&(j=j(e,u))){zm(f,j,n,d);break e}E&&E(e,p,u),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&oc(p,"number",p.value)}switch(E=u?Kr(u):window,e){case"focusin":(Tf(E)||E.contentEditable==="true")&&(Hr=E,vc=u,Js=null);break;case"focusout":Js=vc=Hr=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,Df(f,n,d);break;case"selectionchange":if(xw)break;case"keydown":case"keyup":Df(f,n,d)}var S;if(Wu)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wr?Um(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Lm&&n.locale!=="ko"&&(Wr||k!=="onCompositionStart"?k==="onCompositionEnd"&&Wr&&(S=Mm()):(Rn=d,zu="value"in Rn?Rn.value:Rn.textContent,Wr=!0)),E=Fi(u,k),0<E.length&&(k=new Ef(k,e,null,n,d),f.push({event:k,listeners:E}),S?k.data=S:(S=Fm(n),S!==null&&(k.data=S)))),(S=aw?lw(e,n):cw(e,n))&&(u=Fi(u,"onBeforeInput"),0<u.length&&(d=new Ef("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}Jm(f,t)})}function go(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=lo(e,n),o!=null&&r.unshift(go(e,o,s)),o=lo(e,t),o!=null&&r.push(go(e,o,s))),e=e.return}return r}function Tr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uf(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=lo(n,o),c!=null&&i.unshift(go(n,c,l))):s||(c=lo(n,o),c!=null&&i.push(go(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var jw=/\r\n?/g,$w=/\u0000|\uFFFD/g;function Ff(e){return(typeof e=="string"?e:""+e).replace(jw,`
`).replace($w,"")}function ei(e,t,n){if(t=Ff(t),Ff(e)!==t&&n)throw Error(R(425))}function zi(){}var xc=null,wc=null;function bc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _c=typeof setTimeout=="function"?setTimeout:void 0,kw=typeof clearTimeout=="function"?clearTimeout:void 0,zf=typeof Promise=="function"?Promise:void 0,Sw=typeof queueMicrotask=="function"?queueMicrotask:typeof zf<"u"?function(e){return zf.resolve(null).then(e).catch(Ew)}:_c;function Ew(e){setTimeout(function(){throw e})}function bl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),fo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);fo(t)}function Ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _s=Math.random().toString(36).slice(2),zt="__reactFiber$"+_s,vo="__reactProps$"+_s,cn="__reactContainer$"+_s,jc="__reactEvents$"+_s,Cw="__reactListeners$"+_s,Nw="__reactHandles$"+_s;function cr(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cn]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bf(e);e!==null;){if(n=e[zt])return n;e=Bf(e)}return t}e=n,n=e.parentNode}return null}function Oo(e){return e=e[zt]||e[cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function _a(e){return e[vo]||null}var $c=[],Gr=-1;function Yn(e){return{current:e}}function me(e){0>Gr||(e.current=$c[Gr],$c[Gr]=null,Gr--)}function de(e,t){Gr++,$c[Gr]=e.current,e.current=t}var Hn={},Be=Yn(Hn),nt=Yn(!1),vr=Hn;function us(e,t){var n=e.type.contextTypes;if(!n)return Hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function rt(e){return e=e.childContextTypes,e!=null}function Bi(){me(nt),me(Be)}function Vf(e,t,n){if(Be.current!==Hn)throw Error(R(168));de(Be,t),de(nt,n)}function eg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(R(108,hx(e)||"Unknown",s));return xe({},n,r)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,vr=Be.current,de(Be,e),de(nt,nt.current),!0}function Wf(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=eg(e,t,vr),r.__reactInternalMemoizedMergedChildContext=e,me(nt),me(Be),de(Be,e)):me(nt),de(nt,n)}var rn=null,ja=!1,_l=!1;function tg(e){rn===null?rn=[e]:rn.push(e)}function Pw(e){ja=!0,tg(e)}function Xn(){if(!_l&&rn!==null){_l=!0;var e=0,t=re;try{var n=rn;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,ja=!1}catch(s){throw rn!==null&&(rn=rn.slice(e+1)),Sm(Mu,Xn),s}finally{re=t,_l=!1}}return null}var Yr=[],Xr=0,Wi=null,Hi=0,gt=[],vt=0,yr=null,sn=1,on="";function rr(e,t){Yr[Xr++]=Hi,Yr[Xr++]=Wi,Wi=e,Hi=t}function ng(e,t,n){gt[vt++]=sn,gt[vt++]=on,gt[vt++]=yr,yr=e;var r=sn;e=on;var s=32-Tt(r)-1;r&=~(1<<s),n+=1;var o=32-Tt(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,sn=1<<32-Tt(t)+s|n<<s|r,on=o+e}else sn=1<<o|n<<s|r,on=e}function qu(e){e.return!==null&&(rr(e,1),ng(e,1,0))}function Ku(e){for(;e===Wi;)Wi=Yr[--Xr],Yr[Xr]=null,Hi=Yr[--Xr],Yr[Xr]=null;for(;e===yr;)yr=gt[--vt],gt[vt]=null,on=gt[--vt],gt[vt]=null,sn=gt[--vt],gt[vt]=null}var dt=null,ct=null,ge=!1,Nt=null;function rg(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ct=Ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yr!==null?{id:sn,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,dt=e,ct=null,!0):!1;default:return!1}}function kc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sc(e){if(ge){var t=ct;if(t){var n=t;if(!Hf(e,t)){if(kc(e))throw Error(R(418));t=Ln(n.nextSibling);var r=dt;t&&Hf(e,t)?rg(r,n):(e.flags=e.flags&-4097|2,ge=!1,dt=e)}}else{if(kc(e))throw Error(R(418));e.flags=e.flags&-4097|2,ge=!1,dt=e}}}function qf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function ti(e){if(e!==dt)return!1;if(!ge)return qf(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bc(e.type,e.memoizedProps)),t&&(t=ct)){if(kc(e))throw sg(),Error(R(418));for(;t;)rg(e,t),t=Ln(t.nextSibling)}if(qf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ct=Ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=dt?Ln(e.stateNode.nextSibling):null;return!0}function sg(){for(var e=ct;e;)e=Ln(e.nextSibling)}function ds(){ct=dt=null,ge=!1}function Gu(e){Nt===null?Nt=[e]:Nt.push(e)}var Tw=xn.ReactCurrentBatchConfig;function Ms(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function ni(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kf(e){var t=e._init;return t(e._payload)}function og(e){function t(m,x){if(e){var v=m.deletions;v===null?(m.deletions=[x],m.flags|=16):v.push(x)}}function n(m,x){if(!e)return null;for(;x!==null;)t(m,x),x=x.sibling;return null}function r(m,x){for(m=new Map;x!==null;)x.key!==null?m.set(x.key,x):m.set(x.index,x),x=x.sibling;return m}function s(m,x){return m=Bn(m,x),m.index=0,m.sibling=null,m}function o(m,x,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<x?(m.flags|=2,x):v):(m.flags|=2,x)):(m.flags|=1048576,x)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,x,v,_){return x===null||x.tag!==6?(x=Nl(v,m.mode,_),x.return=m,x):(x=s(x,v),x.return=m,x)}function c(m,x,v,_){var j=v.type;return j===Vr?d(m,x,v.props.children,_,v.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Sn&&Kf(j)===x.type)?(_=s(x,v.props),_.ref=Ms(m,x,v),_.return=m,_):(_=Ni(v.type,v.key,v.props,null,m.mode,_),_.ref=Ms(m,x,v),_.return=m,_)}function u(m,x,v,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=Pl(v,m.mode,_),x.return=m,x):(x=s(x,v.children||[]),x.return=m,x)}function d(m,x,v,_,j){return x===null||x.tag!==7?(x=pr(v,m.mode,_,j),x.return=m,x):(x=s(x,v),x.return=m,x)}function f(m,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Nl(""+x,m.mode,v),x.return=m,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ho:return v=Ni(x.type,x.key,x.props,null,m.mode,v),v.ref=Ms(m,null,x),v.return=m,v;case Br:return x=Pl(x,m.mode,v),x.return=m,x;case Sn:var _=x._init;return f(m,_(x._payload),v)}if(Ws(x)||Rs(x))return x=pr(x,m.mode,v,null),x.return=m,x;ni(m,x)}return null}function p(m,x,v,_){var j=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:l(m,x,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ho:return v.key===j?c(m,x,v,_):null;case Br:return v.key===j?u(m,x,v,_):null;case Sn:return j=v._init,p(m,x,j(v._payload),_)}if(Ws(v)||Rs(v))return j!==null?null:d(m,x,v,_,null);ni(m,v)}return null}function g(m,x,v,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(v)||null,l(x,m,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ho:return m=m.get(_.key===null?v:_.key)||null,c(x,m,_,j);case Br:return m=m.get(_.key===null?v:_.key)||null,u(x,m,_,j);case Sn:var E=_._init;return g(m,x,v,E(_._payload),j)}if(Ws(_)||Rs(_))return m=m.get(v)||null,d(x,m,_,j,null);ni(x,_)}return null}function y(m,x,v,_){for(var j=null,E=null,S=x,k=x=0,$=null;S!==null&&k<v.length;k++){S.index>k?($=S,S=null):$=S.sibling;var C=p(m,S,v[k],_);if(C===null){S===null&&(S=$);break}e&&S&&C.alternate===null&&t(m,S),x=o(C,x,k),E===null?j=C:E.sibling=C,E=C,S=$}if(k===v.length)return n(m,S),ge&&rr(m,k),j;if(S===null){for(;k<v.length;k++)S=f(m,v[k],_),S!==null&&(x=o(S,x,k),E===null?j=S:E.sibling=S,E=S);return ge&&rr(m,k),j}for(S=r(m,S);k<v.length;k++)$=g(S,m,k,v[k],_),$!==null&&(e&&$.alternate!==null&&S.delete($.key===null?k:$.key),x=o($,x,k),E===null?j=$:E.sibling=$,E=$);return e&&S.forEach(function(I){return t(m,I)}),ge&&rr(m,k),j}function w(m,x,v,_){var j=Rs(v);if(typeof j!="function")throw Error(R(150));if(v=j.call(v),v==null)throw Error(R(151));for(var E=j=null,S=x,k=x=0,$=null,C=v.next();S!==null&&!C.done;k++,C=v.next()){S.index>k?($=S,S=null):$=S.sibling;var I=p(m,S,C.value,_);if(I===null){S===null&&(S=$);break}e&&S&&I.alternate===null&&t(m,S),x=o(I,x,k),E===null?j=I:E.sibling=I,E=I,S=$}if(C.done)return n(m,S),ge&&rr(m,k),j;if(S===null){for(;!C.done;k++,C=v.next())C=f(m,C.value,_),C!==null&&(x=o(C,x,k),E===null?j=C:E.sibling=C,E=C);return ge&&rr(m,k),j}for(S=r(m,S);!C.done;k++,C=v.next())C=g(S,m,k,C.value,_),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?k:C.key),x=o(C,x,k),E===null?j=C:E.sibling=C,E=C);return e&&S.forEach(function(A){return t(m,A)}),ge&&rr(m,k),j}function b(m,x,v,_){if(typeof v=="object"&&v!==null&&v.type===Vr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ho:e:{for(var j=v.key,E=x;E!==null;){if(E.key===j){if(j=v.type,j===Vr){if(E.tag===7){n(m,E.sibling),x=s(E,v.props.children),x.return=m,m=x;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Sn&&Kf(j)===E.type){n(m,E.sibling),x=s(E,v.props),x.ref=Ms(m,E,v),x.return=m,m=x;break e}n(m,E);break}else t(m,E);E=E.sibling}v.type===Vr?(x=pr(v.props.children,m.mode,_,v.key),x.return=m,m=x):(_=Ni(v.type,v.key,v.props,null,m.mode,_),_.ref=Ms(m,x,v),_.return=m,m=_)}return i(m);case Br:e:{for(E=v.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(m,x.sibling),x=s(x,v.children||[]),x.return=m,m=x;break e}else{n(m,x);break}else t(m,x);x=x.sibling}x=Pl(v,m.mode,_),x.return=m,m=x}return i(m);case Sn:return E=v._init,b(m,x,E(v._payload),_)}if(Ws(v))return y(m,x,v,_);if(Rs(v))return w(m,x,v,_);ni(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(m,x.sibling),x=s(x,v),x.return=m,m=x):(n(m,x),x=Nl(v,m.mode,_),x.return=m,m=x),i(m)):n(m,x)}return b}var fs=og(!0),ig=og(!1),qi=Yn(null),Ki=null,Qr=null,Yu=null;function Xu(){Yu=Qr=Ki=null}function Qu(e){var t=qi.current;me(qi),e._currentValue=t}function Ec(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ss(e,t){Ki=e,Yu=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function bt(e){var t=e._currentValue;if(Yu!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(Ki===null)throw Error(R(308));Qr=e,Ki.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var ur=null;function Ju(e){ur===null?ur=[e]:ur.push(e)}function ag(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ju(t)):(n.next=s.next,s.next=n),t.interleaved=n,un(e,r)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var En=!1;function Zu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,un(e,n)}return s=r.interleaved,s===null?(t.next=t,Ju(r)):(t.next=s.next,s.next=t),r.interleaved=t,un(e,n)}function ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lu(e,n)}}function Gf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gi(e,t,n,r){var s=e.updateQueue;En=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var p=l.lane,g=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(p=t,g=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(g,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(g,f,p):y,p==null)break e;f=xe({},f,p);break e;case 2:En=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);wr|=i,e.lanes=i,e.memoizedState=f}}function Yf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(R(191,s));s.call(r)}}}var Io={},Ht=Yn(Io),yo=Yn(Io),xo=Yn(Io);function dr(e){if(e===Io)throw Error(R(174));return e}function ed(e,t){switch(de(xo,t),de(yo,e),de(Ht,Io),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ac(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ac(t,e)}me(Ht),de(Ht,t)}function hs(){me(Ht),me(yo),me(xo)}function cg(e){dr(xo.current);var t=dr(Ht.current),n=ac(t,e.type);t!==n&&(de(yo,e),de(Ht,n))}function td(e){yo.current===e&&(me(Ht),me(yo))}var ve=Yn(0);function Yi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jl=[];function nd(){for(var e=0;e<jl.length;e++)jl[e]._workInProgressVersionPrimary=null;jl.length=0}var $i=xn.ReactCurrentDispatcher,$l=xn.ReactCurrentBatchConfig,xr=0,ye=null,$e=null,Ne=null,Xi=!1,Zs=!1,wo=0,Rw=0;function De(){throw Error(R(321))}function rd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function sd(e,t,n,r,s,o){if(xr=o,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$i.current=e===null||e.memoizedState===null?Dw:Mw,e=n(r,s),Zs){o=0;do{if(Zs=!1,wo=0,25<=o)throw Error(R(301));o+=1,Ne=$e=null,t.updateQueue=null,$i.current=Lw,e=n(r,s)}while(Zs)}if($i.current=Qi,t=$e!==null&&$e.next!==null,xr=0,Ne=$e=ye=null,Xi=!1,t)throw Error(R(300));return e}function od(){var e=wo!==0;return wo=0,e}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?ye.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function _t(){if($e===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=Ne===null?ye.memoizedState:Ne.next;if(t!==null)Ne=t,$e=e;else{if(e===null)throw Error(R(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Ne===null?ye.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function bo(e,t){return typeof t=="function"?t(e):t}function kl(e){var t=_t(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=$e,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((xr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,ye.lanes|=d,wr|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,Ot(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ye.lanes|=o,wr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sl(e){var t=_t(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Ot(o,t.memoizedState)||(Ze=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ug(){}function dg(e,t){var n=ye,r=_t(),s=t(),o=!Ot(r.memoizedState,s);if(o&&(r.memoizedState=s,Ze=!0),r=r.queue,id(pg.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,_o(9,hg.bind(null,n,r,s,t),void 0,null),Pe===null)throw Error(R(349));xr&30||fg(n,t,s)}return s}function fg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hg(e,t,n,r){t.value=n,t.getSnapshot=r,mg(t)&&gg(e)}function pg(e,t,n){return n(function(){mg(t)&&gg(e)})}function mg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function gg(e){var t=un(e,1);t!==null&&Rt(t,e,1,-1)}function Xf(e){var t=Ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Iw.bind(null,ye,e),[t.memoizedState,e]}function _o(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vg(){return _t().memoizedState}function ki(e,t,n,r){var s=Ft();ye.flags|=e,s.memoizedState=_o(1|t,n,void 0,r===void 0?null:r)}function $a(e,t,n,r){var s=_t();r=r===void 0?null:r;var o=void 0;if($e!==null){var i=$e.memoizedState;if(o=i.destroy,r!==null&&rd(r,i.deps)){s.memoizedState=_o(t,n,o,r);return}}ye.flags|=e,s.memoizedState=_o(1|t,n,o,r)}function Qf(e,t){return ki(8390656,8,e,t)}function id(e,t){return $a(2048,8,e,t)}function yg(e,t){return $a(4,2,e,t)}function xg(e,t){return $a(4,4,e,t)}function wg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bg(e,t,n){return n=n!=null?n.concat([e]):null,$a(4,4,wg.bind(null,t,e),n)}function ad(){}function _g(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jg(e,t){var n=_t();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $g(e,t,n){return xr&21?(Ot(n,t)||(n=Nm(),ye.lanes|=n,wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n)}function Aw(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=$l.transition;$l.transition={};try{e(!1),t()}finally{re=n,$l.transition=r}}function kg(){return _t().memoizedState}function Ow(e,t,n){var r=zn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Sg(e))Eg(t,n);else if(n=ag(e,t,n,r),n!==null){var s=qe();Rt(n,e,r,s),Cg(n,t,r)}}function Iw(e,t,n){var r=zn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sg(e))Eg(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,Ot(l,i)){var c=t.interleaved;c===null?(s.next=s,Ju(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=ag(e,t,s,r),n!==null&&(s=qe(),Rt(n,e,r,s),Cg(n,t,r))}}function Sg(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Eg(e,t){Zs=Xi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lu(e,n)}}var Qi={readContext:bt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Dw={readContext:bt,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:bt,useEffect:Qf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ki(4194308,4,wg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ki(4194308,4,e,t)},useInsertionEffect:function(e,t){return ki(4,2,e,t)},useMemo:function(e,t){var n=Ft();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ft();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ow.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:Xf,useDebugValue:ad,useDeferredValue:function(e){return Ft().memoizedState=e},useTransition:function(){var e=Xf(!1),t=e[0];return e=Aw.bind(null,e[1]),Ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,s=Ft();if(ge){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Pe===null)throw Error(R(349));xr&30||fg(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Qf(pg.bind(null,r,o,e),[e]),r.flags|=2048,_o(9,hg.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ft(),t=Pe.identifierPrefix;if(ge){var n=on,r=sn;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Mw={readContext:bt,useCallback:_g,useContext:bt,useEffect:id,useImperativeHandle:bg,useInsertionEffect:yg,useLayoutEffect:xg,useMemo:jg,useReducer:kl,useRef:vg,useState:function(){return kl(bo)},useDebugValue:ad,useDeferredValue:function(e){var t=_t();return $g(t,$e.memoizedState,e)},useTransition:function(){var e=kl(bo)[0],t=_t().memoizedState;return[e,t]},useMutableSource:ug,useSyncExternalStore:dg,useId:kg,unstable_isNewReconciler:!1},Lw={readContext:bt,useCallback:_g,useContext:bt,useEffect:id,useImperativeHandle:bg,useInsertionEffect:yg,useLayoutEffect:xg,useMemo:jg,useReducer:Sl,useRef:vg,useState:function(){return Sl(bo)},useDebugValue:ad,useDeferredValue:function(e){var t=_t();return $e===null?t.memoizedState=e:$g(t,$e.memoizedState,e)},useTransition:function(){var e=Sl(bo)[0],t=_t().memoizedState;return[e,t]},useMutableSource:ug,useSyncExternalStore:dg,useId:kg,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Cc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ka={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qe(),s=zn(e),o=an(r,s);o.payload=t,n!=null&&(o.callback=n),t=Un(e,o,s),t!==null&&(Rt(t,e,s,r),ji(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qe(),s=zn(e),o=an(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Un(e,o,s),t!==null&&(Rt(t,e,s,r),ji(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qe(),r=zn(e),s=an(n,r);s.tag=2,t!=null&&(s.callback=t),t=Un(e,s,r),t!==null&&(Rt(t,e,r,n),ji(t,e,r))}};function Jf(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!po(n,r)||!po(s,o):!0}function Ng(e,t,n){var r=!1,s=Hn,o=t.contextType;return typeof o=="object"&&o!==null?o=bt(o):(s=rt(t)?vr:Be.current,r=t.contextTypes,o=(r=r!=null)?us(e,s):Hn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ka,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Zf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ka.enqueueReplaceState(t,t.state,null)}function Nc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Zu(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=bt(o):(o=rt(t)?vr:Be.current,s.context=us(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Cc(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ka.enqueueReplaceState(s,s.state,null),Gi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ps(e,t){try{var n="",r=t;do n+=fx(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function El(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Pc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Uw=typeof WeakMap=="function"?WeakMap:Map;function Pg(e,t,n){n=an(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zi||(Zi=!0,Fc=r),Pc(e,t)},n}function Tg(e,t,n){n=an(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Pc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Pc(e,t),typeof r!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function eh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Uw;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Zw.bind(null,e,t,n),t.then(e,e))}function th(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=an(-1,1),t.tag=2,Un(n,t,1))),n.lanes|=1),e)}var Fw=xn.ReactCurrentOwner,Ze=!1;function Ve(e,t,n,r){t.child=e===null?ig(t,null,n,r):fs(t,e.child,n,r)}function rh(e,t,n,r,s){n=n.render;var o=t.ref;return ss(t,s),r=sd(e,t,n,r,o,s),n=od(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dn(e,t,s)):(ge&&n&&qu(t),t.flags|=1,Ve(e,t,r,s),t.child)}function sh(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!md(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Rg(e,t,o,r,s)):(e=Ni(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:po,n(i,r)&&e.ref===t.ref)return dn(e,t,s)}return t.flags|=1,e=Bn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Rg(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(po(o,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,dn(e,t,s)}return Tc(e,t,n,r,s)}function Ag(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Zr,at),at|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Zr,at),at|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,de(Zr,at),at|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,de(Zr,at),at|=r;return Ve(e,t,s,n),t.child}function Og(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tc(e,t,n,r,s){var o=rt(n)?vr:Be.current;return o=us(t,o),ss(t,s),n=sd(e,t,n,r,o,s),r=od(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,dn(e,t,s)):(ge&&r&&qu(t),t.flags|=1,Ve(e,t,n,s),t.child)}function oh(e,t,n,r,s){if(rt(n)){var o=!0;Vi(t)}else o=!1;if(ss(t,s),t.stateNode===null)Si(e,t),Ng(t,n,r),Nc(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=bt(u):(u=rt(n)?vr:Be.current,u=us(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Zf(t,i,r,u),En=!1;var p=t.memoizedState;i.state=p,Gi(t,r,i,s),c=t.memoizedState,l!==r||p!==c||nt.current||En?(typeof d=="function"&&(Cc(t,n,d,r),c=t.memoizedState),(l=En||Jf(t,n,l,r,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,lg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:St(t.type,l),i.props=u,f=t.pendingProps,p=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=bt(c):(c=rt(n)?vr:Be.current,c=us(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Zf(t,i,r,c),En=!1,p=t.memoizedState,i.state=p,Gi(t,r,i,s);var y=t.memoizedState;l!==f||p!==y||nt.current||En?(typeof g=="function"&&(Cc(t,n,g,r),y=t.memoizedState),(u=En||Jf(t,n,u,r,p,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Rc(e,t,n,r,o,s)}function Rc(e,t,n,r,s,o){Og(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Wf(t,n,!1),dn(e,t,o);r=t.stateNode,Fw.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=fs(t,e.child,null,o),t.child=fs(t,null,l,o)):Ve(e,t,l,o),t.memoizedState=r.state,s&&Wf(t,n,!0),t.child}function Ig(e){var t=e.stateNode;t.pendingContext?Vf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vf(e,t.context,!1),ed(e,t.containerInfo)}function ih(e,t,n,r,s){return ds(),Gu(s),t.flags|=256,Ve(e,t,n,r),t.child}var Ac={dehydrated:null,treeContext:null,retryLane:0};function Oc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dg(e,t,n){var r=t.pendingProps,s=ve.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),de(ve,s&1),e===null)return Sc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ca(i,r,0,null),e=pr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Oc(n),t.memoizedState=Ac,e):ld(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return zw(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Bn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Bn(l,o):(o=pr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Oc(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Ac,r}return o=e.child,e=o.sibling,r=Bn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ld(e,t){return t=Ca({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ri(e,t,n,r){return r!==null&&Gu(r),fs(t,e.child,null,n),e=ld(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zw(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=El(Error(R(422))),ri(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Ca({mode:"visible",children:r.children},s,0,null),o=pr(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&fs(t,e.child,null,i),t.child.memoizedState=Oc(i),t.memoizedState=Ac,o);if(!(t.mode&1))return ri(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(R(419)),r=El(o,r,void 0),ri(e,t,i,r)}if(l=(i&e.childLanes)!==0,Ze||l){if(r=Pe,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,un(e,s),Rt(r,e,s,-1))}return pd(),r=El(Error(R(421))),ri(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=e1.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,ct=Ln(s.nextSibling),dt=t,ge=!0,Nt=null,e!==null&&(gt[vt++]=sn,gt[vt++]=on,gt[vt++]=yr,sn=e.id,on=e.overflow,yr=t),t=ld(t,r.children),t.flags|=4096,t)}function ah(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ec(e.return,t,n)}function Cl(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function Mg(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Ve(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ah(e,n,t);else if(e.tag===19)ah(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Yi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Cl(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Cl(t,!0,n,null,o);break;case"together":Cl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Si(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bw(e,t,n){switch(t.tag){case 3:Ig(t),ds();break;case 5:cg(t);break;case 1:rt(t.type)&&Vi(t);break;case 4:ed(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;de(qi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?Dg(e,t,n):(de(ve,ve.current&1),e=dn(e,t,n),e!==null?e.sibling:null);de(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Mg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Ag(e,t,n)}return dn(e,t,n)}var Lg,Ic,Ug,Fg;Lg=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ic=function(){};Ug=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,dr(Ht.current);var o=null;switch(n){case"input":s=rc(e,s),r=rc(e,r),o=[];break;case"select":s=xe({},s,{value:void 0}),r=xe({},r,{value:void 0}),o=[];break;case"textarea":s=ic(e,s),r=ic(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zi)}lc(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(io.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(io.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&pe("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Fg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ls(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vw(e,t,n){var r=t.pendingProps;switch(Ku(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return rt(t.type)&&Bi(),Me(t),null;case 3:return r=t.stateNode,hs(),me(nt),me(Be),nd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ti(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(Vc(Nt),Nt=null))),Ic(e,t),Me(t),null;case 5:td(t);var s=dr(xo.current);if(n=t.type,e!==null&&t.stateNode!=null)Ug(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Me(t),null}if(e=dr(Ht.current),ti(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[zt]=t,r[vo]=o,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(s=0;s<qs.length;s++)pe(qs[s],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":gf(r,o),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},pe("invalid",r);break;case"textarea":yf(r,o),pe("invalid",r)}lc(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&ei(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ei(r.textContent,l,e),s=["children",""+l]):io.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&pe("scroll",r)}switch(n){case"input":qo(r),vf(r,o,!0);break;case"textarea":qo(r),xf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zi)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[zt]=t,e[vo]=r,Lg(e,t,!1,!1),t.stateNode=e;e:{switch(i=cc(n,r),n){case"dialog":pe("cancel",e),pe("close",e),s=r;break;case"iframe":case"object":case"embed":pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<qs.length;s++)pe(qs[s],e);s=r;break;case"source":pe("error",e),s=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),s=r;break;case"details":pe("toggle",e),s=r;break;case"input":gf(e,r),s=rc(e,r),pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=xe({},r,{value:void 0}),pe("invalid",e);break;case"textarea":yf(e,r),s=ic(e,r),pe("invalid",e);break;default:s=r}lc(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?vm(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mm(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ao(e,c):typeof c=="number"&&ao(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(io.hasOwnProperty(o)?c!=null&&o==="onScroll"&&pe("scroll",e):c!=null&&Ru(e,o,c,i))}switch(n){case"input":qo(e),vf(e,r,!1);break;case"textarea":qo(e),xf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?es(e,!!r.multiple,o,!1):r.defaultValue!=null&&es(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=zi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Me(t),null;case 6:if(e&&t.stateNode!=null)Fg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=dr(xo.current),dr(Ht.current),ti(t)){if(r=t.stateNode,n=t.memoizedProps,r[zt]=t,(o=r.nodeValue!==n)&&(e=dt,e!==null))switch(e.tag){case 3:ei(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ei(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=t,t.stateNode=r}return Me(t),null;case 13:if(me(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&ct!==null&&t.mode&1&&!(t.flags&128))sg(),ds(),t.flags|=98560,o=!1;else if(o=ti(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(R(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[zt]=t}else ds(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),o=!1}else Nt!==null&&(Vc(Nt),Nt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?ke===0&&(ke=3):pd())),t.updateQueue!==null&&(t.flags|=4),Me(t),null);case 4:return hs(),Ic(e,t),e===null&&mo(t.stateNode.containerInfo),Me(t),null;case 10:return Qu(t.type._context),Me(t),null;case 17:return rt(t.type)&&Bi(),Me(t),null;case 19:if(me(ve),o=t.memoizedState,o===null)return Me(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Ls(o,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Yi(e),i!==null){for(t.flags|=128,Ls(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(ve,ve.current&1|2),t.child}e=e.sibling}o.tail!==null&&be()>ms&&(t.flags|=128,r=!0,Ls(o,!1),t.lanes=4194304)}else{if(!r)if(e=Yi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ls(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ge)return Me(t),null}else 2*be()-o.renderingStartTime>ms&&n!==1073741824&&(t.flags|=128,r=!0,Ls(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=be(),t.sibling=null,n=ve.current,de(ve,r?n&1|2:n&1),t):(Me(t),null);case 22:case 23:return hd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?at&1073741824&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Ww(e,t){switch(Ku(t),t.tag){case 1:return rt(t.type)&&Bi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hs(),me(nt),me(Be),nd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return td(t),null;case 13:if(me(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));ds()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ve),null;case 4:return hs(),null;case 10:return Qu(t.type._context),null;case 22:case 23:return hd(),null;case 24:return null;default:return null}}var si=!1,Ue=!1,Hw=typeof WeakSet=="function"?WeakSet:Set,U=null;function Jr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(e,t,r)}else n.current=null}function Dc(e,t,n){try{n()}catch(r){we(e,t,r)}}var lh=!1;function qw(e,t){if(xc=Li,e=Hm(),Hu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===e)break t;if(p===n&&++u===s&&(l=i),p===o&&++d===r&&(c=i),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(wc={focusedElem:e,selectionRange:n},Li=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,m=t.stateNode,x=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:St(t.type,w),b);m.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(_){we(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return y=lh,lh=!1,y}function eo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Dc(t,n,o)}s=s.next}while(s!==r)}}function Sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Mc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zg(e){var t=e.alternate;t!==null&&(e.alternate=null,zg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[vo],delete t[jc],delete t[Cw],delete t[Nw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bg(e){return e.tag===5||e.tag===3||e.tag===4}function ch(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zi));else if(r!==4&&(e=e.child,e!==null))for(Lc(e,t,n),e=e.sibling;e!==null;)Lc(e,t,n),e=e.sibling}function Uc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uc(e,t,n),e=e.sibling;e!==null;)Uc(e,t,n),e=e.sibling}var Re=null,Et=!1;function wn(e,t,n){for(n=n.child;n!==null;)Vg(e,t,n),n=n.sibling}function Vg(e,t,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ya,n)}catch{}switch(n.tag){case 5:Ue||Jr(n,t);case 6:var r=Re,s=Et;Re=null,wn(e,t,n),Re=r,Et=s,Re!==null&&(Et?(e=Re,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Re.removeChild(n.stateNode));break;case 18:Re!==null&&(Et?(e=Re,n=n.stateNode,e.nodeType===8?bl(e.parentNode,n):e.nodeType===1&&bl(e,n),fo(e)):bl(Re,n.stateNode));break;case 4:r=Re,s=Et,Re=n.stateNode.containerInfo,Et=!0,wn(e,t,n),Re=r,Et=s;break;case 0:case 11:case 14:case 15:if(!Ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Dc(n,t,i),s=s.next}while(s!==r)}wn(e,t,n);break;case 1:if(!Ue&&(Jr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){we(n,t,l)}wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:n.mode&1?(Ue=(r=Ue)||n.memoizedState!==null,wn(e,t,n),Ue=r):wn(e,t,n);break;default:wn(e,t,n)}}function uh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hw),t.forEach(function(r){var s=t1.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function $t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Re=l.stateNode,Et=!1;break e;case 3:Re=l.stateNode.containerInfo,Et=!0;break e;case 4:Re=l.stateNode.containerInfo,Et=!0;break e}l=l.return}if(Re===null)throw Error(R(160));Vg(o,i,s),Re=null,Et=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){we(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wg(t,e),t=t.sibling}function Wg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(t,e),Ut(e),r&4){try{eo(3,e,e.return),Sa(3,e)}catch(w){we(e,e.return,w)}try{eo(5,e,e.return)}catch(w){we(e,e.return,w)}}break;case 1:$t(t,e),Ut(e),r&512&&n!==null&&Jr(n,n.return);break;case 5:if($t(t,e),Ut(e),r&512&&n!==null&&Jr(n,n.return),e.flags&32){var s=e.stateNode;try{ao(s,"")}catch(w){we(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&fm(s,o),cc(l,i);var u=cc(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?vm(s,f):d==="dangerouslySetInnerHTML"?mm(s,f):d==="children"?ao(s,f):Ru(s,d,f,u)}switch(l){case"input":sc(s,o);break;case"textarea":hm(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?es(s,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?es(s,!!o.multiple,o.defaultValue,!0):es(s,!!o.multiple,o.multiple?[]:"",!1))}s[vo]=o}catch(w){we(e,e.return,w)}}break;case 6:if($t(t,e),Ut(e),r&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(w){we(e,e.return,w)}}break;case 3:if($t(t,e),Ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fo(t.containerInfo)}catch(w){we(e,e.return,w)}break;case 4:$t(t,e),Ut(e);break;case 13:$t(t,e),Ut(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(dd=be())),r&4&&uh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ue=(u=Ue)||d,$t(t,e),Ue=u):$t(t,e),Ut(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(f=U=d;U!==null;){switch(p=U,g=p.child,p.tag){case 0:case 11:case 14:case 15:eo(4,p,p.return);break;case 1:Jr(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){we(r,n,w)}}break;case 5:Jr(p,p.return);break;case 22:if(p.memoizedState!==null){fh(f);continue}}g!==null?(g.return=p,U=g):fh(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=gm("display",i))}catch(w){we(e,e.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){we(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$t(t,e),Ut(e),r&4&&uh(e);break;case 21:break;default:$t(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bg(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ao(s,""),r.flags&=-33);var o=ch(e);Uc(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=ch(e);Lc(e,l,i);break;default:throw Error(R(161))}}catch(c){we(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kw(e,t,n){U=e,Hg(e)}function Hg(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var s=U,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||si;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ue;l=si;var u=Ue;if(si=i,(Ue=c)&&!u)for(U=s;U!==null;)i=U,c=i.child,i.tag===22&&i.memoizedState!==null?hh(s):c!==null?(c.return=i,U=c):hh(s);for(;o!==null;)U=o,Hg(o),o=o.sibling;U=s,si=l,Ue=u}dh(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,U=o):dh(e)}}function dh(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||Sa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ue)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Yf(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yf(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&fo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ue||t.flags&512&&Mc(t)}catch(p){we(t,t.return,p)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function fh(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function hh(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sa(4,t)}catch(c){we(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){we(t,s,c)}}var o=t.return;try{Mc(t)}catch(c){we(t,o,c)}break;case 5:var i=t.return;try{Mc(t)}catch(c){we(t,i,c)}}}catch(c){we(t,t.return,c)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var Gw=Math.ceil,Ji=xn.ReactCurrentDispatcher,cd=xn.ReactCurrentOwner,xt=xn.ReactCurrentBatchConfig,te=0,Pe=null,je=null,Ae=0,at=0,Zr=Yn(0),ke=0,jo=null,wr=0,Ea=0,ud=0,to=null,Qe=null,dd=0,ms=1/0,en=null,Zi=!1,Fc=null,Fn=null,oi=!1,An=null,ea=0,no=0,zc=null,Ei=-1,Ci=0;function qe(){return te&6?be():Ei!==-1?Ei:Ei=be()}function zn(e){return e.mode&1?te&2&&Ae!==0?Ae&-Ae:Tw.transition!==null?(Ci===0&&(Ci=Nm()),Ci):(e=re,e!==0||(e=window.event,e=e===void 0?16:Dm(e.type)),e):1}function Rt(e,t,n,r){if(50<no)throw no=0,zc=null,Error(R(185));Ro(e,n,r),(!(te&2)||e!==Pe)&&(e===Pe&&(!(te&2)&&(Ea|=n),ke===4&&Pn(e,Ae)),st(e,r),n===1&&te===0&&!(t.mode&1)&&(ms=be()+500,ja&&Xn()))}function st(e,t){var n=e.callbackNode;Tx(e,t);var r=Mi(e,e===Pe?Ae:0);if(r===0)n!==null&&_f(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&_f(n),t===1)e.tag===0?Pw(ph.bind(null,e)):tg(ph.bind(null,e)),Sw(function(){!(te&6)&&Xn()}),n=null;else{switch(Pm(r)){case 1:n=Mu;break;case 4:n=Em;break;case 16:n=Di;break;case 536870912:n=Cm;break;default:n=Di}n=Zg(n,qg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qg(e,t){if(Ei=-1,Ci=0,te&6)throw Error(R(327));var n=e.callbackNode;if(os()&&e.callbackNode!==n)return null;var r=Mi(e,e===Pe?Ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ta(e,r);else{t=r;var s=te;te|=2;var o=Gg();(Pe!==e||Ae!==t)&&(en=null,ms=be()+500,hr(e,t));do try{Qw();break}catch(l){Kg(e,l)}while(1);Xu(),Ji.current=o,te=s,je!==null?t=0:(Pe=null,Ae=0,t=ke)}if(t!==0){if(t===2&&(s=pc(e),s!==0&&(r=s,t=Bc(e,s))),t===1)throw n=jo,hr(e,0),Pn(e,r),st(e,be()),n;if(t===6)Pn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Yw(s)&&(t=ta(e,r),t===2&&(o=pc(e),o!==0&&(r=o,t=Bc(e,o))),t===1))throw n=jo,hr(e,0),Pn(e,r),st(e,be()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:sr(e,Qe,en);break;case 3:if(Pn(e,r),(r&130023424)===r&&(t=dd+500-be(),10<t)){if(Mi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){qe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=_c(sr.bind(null,e,Qe,en),t);break}sr(e,Qe,en);break;case 4:if(Pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Tt(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gw(r/1960))-r,10<r){e.timeoutHandle=_c(sr.bind(null,e,Qe,en),r);break}sr(e,Qe,en);break;case 5:sr(e,Qe,en);break;default:throw Error(R(329))}}}return st(e,be()),e.callbackNode===n?qg.bind(null,e):null}function Bc(e,t){var n=to;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=ta(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&Vc(t)),e}function Vc(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function Yw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Ot(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~ud,t&=~Ea,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),r=1<<n;e[n]=-1,t&=~r}}function ph(e){if(te&6)throw Error(R(327));os();var t=Mi(e,0);if(!(t&1))return st(e,be()),null;var n=ta(e,t);if(e.tag!==0&&n===2){var r=pc(e);r!==0&&(t=r,n=Bc(e,r))}if(n===1)throw n=jo,hr(e,0),Pn(e,t),st(e,be()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sr(e,Qe,en),st(e,be()),null}function fd(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(ms=be()+500,ja&&Xn())}}function br(e){An!==null&&An.tag===0&&!(te&6)&&os();var t=te;te|=1;var n=xt.transition,r=re;try{if(xt.transition=null,re=1,e)return e()}finally{re=r,xt.transition=n,te=t,!(te&6)&&Xn()}}function hd(){at=Zr.current,me(Zr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,kw(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Ku(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bi();break;case 3:hs(),me(nt),me(Be),nd();break;case 5:td(r);break;case 4:hs();break;case 13:me(ve);break;case 19:me(ve);break;case 10:Qu(r.type._context);break;case 22:case 23:hd()}n=n.return}if(Pe=e,je=e=Bn(e.current,null),Ae=at=t,ke=0,jo=null,ud=Ea=wr=0,Qe=to=null,ur!==null){for(t=0;t<ur.length;t++)if(n=ur[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}ur=null}return e}function Kg(e,t){do{var n=je;try{if(Xu(),$i.current=Qi,Xi){for(var r=ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xi=!1}if(xr=0,Ne=$e=ye=null,Zs=!1,wo=0,cd.current=null,n===null||n.return===null){ke=1,jo=t,je=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Ae,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=th(i);if(g!==null){g.flags&=-257,nh(g,i,l,o,t),g.mode&1&&eh(o,u,t),t=g,c=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(c),t.updateQueue=w}else y.add(c);break e}else{if(!(t&1)){eh(o,u,t),pd();break e}c=Error(R(426))}}else if(ge&&l.mode&1){var b=th(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),nh(b,i,l,o,t),Gu(ps(c,l));break e}}o=c=ps(c,l),ke!==4&&(ke=2),to===null?to=[o]:to.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=Pg(o,c,t);Gf(o,m);break e;case 1:l=c;var x=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Fn===null||!Fn.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Tg(o,l,t);Gf(o,_);break e}}o=o.return}while(o!==null)}Xg(n)}catch(j){t=j,je===n&&n!==null&&(je=n=n.return);continue}break}while(1)}function Gg(){var e=Ji.current;return Ji.current=Qi,e===null?Qi:e}function pd(){(ke===0||ke===3||ke===2)&&(ke=4),Pe===null||!(wr&268435455)&&!(Ea&268435455)||Pn(Pe,Ae)}function ta(e,t){var n=te;te|=2;var r=Gg();(Pe!==e||Ae!==t)&&(en=null,hr(e,t));do try{Xw();break}catch(s){Kg(e,s)}while(1);if(Xu(),te=n,Ji.current=r,je!==null)throw Error(R(261));return Pe=null,Ae=0,ke}function Xw(){for(;je!==null;)Yg(je)}function Qw(){for(;je!==null&&!_x();)Yg(je)}function Yg(e){var t=Jg(e.alternate,e,at);e.memoizedProps=e.pendingProps,t===null?Xg(e):je=t,cd.current=null}function Xg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ww(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,je=null;return}}else if(n=Vw(n,t,at),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);ke===0&&(ke=5)}function sr(e,t,n){var r=re,s=xt.transition;try{xt.transition=null,re=1,Jw(e,t,n,r)}finally{xt.transition=s,re=r}return null}function Jw(e,t,n,r){do os();while(An!==null);if(te&6)throw Error(R(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Rx(e,o),e===Pe&&(je=Pe=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oi||(oi=!0,Zg(Di,function(){return os(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=xt.transition,xt.transition=null;var i=re;re=1;var l=te;te|=4,cd.current=null,qw(e,n),Wg(n,e),yw(wc),Li=!!xc,wc=xc=null,e.current=n,Kw(n),jx(),te=l,re=i,xt.transition=o}else e.current=n;if(oi&&(oi=!1,An=e,ea=s),o=e.pendingLanes,o===0&&(Fn=null),Sx(n.stateNode),st(e,be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zi)throw Zi=!1,e=Fc,Fc=null,e;return ea&1&&e.tag!==0&&os(),o=e.pendingLanes,o&1?e===zc?no++:(no=0,zc=e):no=0,Xn(),null}function os(){if(An!==null){var e=Pm(ea),t=xt.transition,n=re;try{if(xt.transition=null,re=16>e?16:e,An===null)var r=!1;else{if(e=An,An=null,ea=0,te&6)throw Error(R(331));var s=te;for(te|=4,U=e.current;U!==null;){var o=U,i=o.child;if(U.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:eo(8,d,o)}var f=d.child;if(f!==null)f.return=d,U=f;else for(;U!==null;){d=U;var p=d.sibling,g=d.return;if(zg(d),d===u){U=null;break}if(p!==null){p.return=g,U=p;break}U=g}}}var y=o.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}U=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,U=i;else e:for(;U!==null;){if(o=U,o.flags&2048)switch(o.tag){case 0:case 11:case 15:eo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,U=m;break e}U=o.return}}var x=e.current;for(U=x;U!==null;){i=U;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,U=v;else e:for(i=x;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sa(9,l)}}catch(j){we(l,l.return,j)}if(l===i){U=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,U=_;break e}U=l.return}}if(te=s,Xn(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ya,e)}catch{}r=!0}return r}finally{re=n,xt.transition=t}}return!1}function mh(e,t,n){t=ps(n,t),t=Pg(e,t,1),e=Un(e,t,1),t=qe(),e!==null&&(Ro(e,1,t),st(e,t))}function we(e,t,n){if(e.tag===3)mh(e,e,n);else for(;t!==null;){if(t.tag===3){mh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){e=ps(n,e),e=Tg(t,e,1),t=Un(t,e,1),e=qe(),t!==null&&(Ro(t,1,e),st(t,e));break}}t=t.return}}function Zw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Ae&n)===n&&(ke===4||ke===3&&(Ae&130023424)===Ae&&500>be()-dd?hr(e,0):ud|=n),st(e,t)}function Qg(e,t){t===0&&(e.mode&1?(t=Yo,Yo<<=1,!(Yo&130023424)&&(Yo=4194304)):t=1);var n=qe();e=un(e,t),e!==null&&(Ro(e,t,n),st(e,n))}function e1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qg(e,n)}function t1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Qg(e,n)}var Jg;Jg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)Ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ze=!1,Bw(e,t,n);Ze=!!(e.flags&131072)}else Ze=!1,ge&&t.flags&1048576&&ng(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Si(e,t),e=t.pendingProps;var s=us(t,Be.current);ss(t,n),s=sd(null,t,r,e,s,n);var o=od();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(o=!0,Vi(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zu(t),s.updater=ka,t.stateNode=s,s._reactInternals=t,Nc(t,r,e,n),t=Rc(null,t,r,!0,o,n)):(t.tag=0,ge&&o&&qu(t),Ve(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Si(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=r1(r),e=St(r,e),s){case 0:t=Tc(null,t,r,e,n);break e;case 1:t=oh(null,t,r,e,n);break e;case 11:t=rh(null,t,r,e,n);break e;case 14:t=sh(null,t,r,St(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Tc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),oh(e,t,r,s,n);case 3:e:{if(Ig(t),e===null)throw Error(R(387));r=t.pendingProps,o=t.memoizedState,s=o.element,lg(e,t),Gi(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ps(Error(R(423)),t),t=ih(e,t,r,n,s);break e}else if(r!==s){s=ps(Error(R(424)),t),t=ih(e,t,r,n,s);break e}else for(ct=Ln(t.stateNode.containerInfo.firstChild),dt=t,ge=!0,Nt=null,n=ig(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ds(),r===s){t=dn(e,t,n);break e}Ve(e,t,r,n)}t=t.child}return t;case 5:return cg(t),e===null&&Sc(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,bc(r,s)?i=null:o!==null&&bc(r,o)&&(t.flags|=32),Og(e,t),Ve(e,t,i,n),t.child;case 6:return e===null&&Sc(t),null;case 13:return Dg(e,t,n);case 4:return ed(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fs(t,null,r,n):Ve(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),rh(e,t,r,s,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,de(qi,r._currentValue),r._currentValue=i,o!==null)if(Ot(o.value,i)){if(o.children===s.children&&!nt.current){t=dn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=an(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ec(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(R(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ec(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Ve(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ss(t,n),s=bt(s),r=r(s),t.flags|=1,Ve(e,t,r,n),t.child;case 14:return r=t.type,s=St(r,t.pendingProps),s=St(r.type,s),sh(e,t,r,s,n);case 15:return Rg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Si(e,t),t.tag=1,rt(r)?(e=!0,Vi(t)):e=!1,ss(t,n),Ng(t,r,s),Nc(t,r,s,n),Rc(null,t,r,!0,e,n);case 19:return Mg(e,t,n);case 22:return Ag(e,t,n)}throw Error(R(156,t.tag))};function Zg(e,t){return Sm(e,t)}function n1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,r){return new n1(e,t,n,r)}function md(e){return e=e.prototype,!(!e||!e.isReactComponent)}function r1(e){if(typeof e=="function")return md(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ou)return 11;if(e===Iu)return 14}return 2}function Bn(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ni(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")md(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Vr:return pr(n.children,s,o,t);case Au:i=8,s|=8;break;case Zl:return e=yt(12,n,t,s|2),e.elementType=Zl,e.lanes=o,e;case ec:return e=yt(13,n,t,s),e.elementType=ec,e.lanes=o,e;case tc:return e=yt(19,n,t,s),e.elementType=tc,e.lanes=o,e;case cm:return Ca(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case am:i=10;break e;case lm:i=9;break e;case Ou:i=11;break e;case Iu:i=14;break e;case Sn:i=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=yt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function pr(e,t,n,r){return e=yt(7,e,r,t),e.lanes=n,e}function Ca(e,t,n,r){return e=yt(22,e,r,t),e.elementType=cm,e.lanes=n,e.stateNode={isHidden:!1},e}function Nl(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function Pl(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function s1(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gd(e,t,n,r,s,o,i,l,c){return e=new s1(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=yt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zu(o),e}function o1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function e0(e){if(!e)return Hn;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(rt(n))return eg(e,n,t)}return t}function t0(e,t,n,r,s,o,i,l,c){return e=gd(n,r,!0,e,s,o,i,l,c),e.context=e0(null),n=e.current,r=qe(),s=zn(n),o=an(r,s),o.callback=t??null,Un(n,o,s),e.current.lanes=s,Ro(e,s,r),st(e,r),e}function Na(e,t,n,r){var s=t.current,o=qe(),i=zn(s);return n=e0(n),t.context===null?t.context=n:t.pendingContext=n,t=an(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Un(s,t,i),e!==null&&(Rt(e,s,i,o),ji(e,s,i)),i}function na(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vd(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function i1(){return null}var n0=typeof reportError=="function"?reportError:function(e){console.error(e)};function yd(e){this._internalRoot=e}Pa.prototype.render=yd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Na(e,t,null,null)};Pa.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){Na(null,e,null,null)}),t[cn]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Am();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nn.length&&t!==0&&t<Nn[n].priority;n++);Nn.splice(n,0,e),n===0&&Im(e)}};function xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vh(){}function a1(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=na(i);o.call(u)}}var i=t0(t,r,e,0,null,!1,!1,"",vh);return e._reactRootContainer=i,e[cn]=i.current,mo(e.nodeType===8?e.parentNode:e),br(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=na(c);l.call(u)}}var c=gd(e,0,!1,null,null,!1,!1,"",vh);return e._reactRootContainer=c,e[cn]=c.current,mo(e.nodeType===8?e.parentNode:e),br(function(){Na(t,c,n,r)}),c}function Ra(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=na(i);l.call(c)}}Na(t,i,e,s)}else i=a1(n,t,e,s,r);return na(i)}Tm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hs(t.pendingLanes);n!==0&&(Lu(t,n|1),st(t,be()),!(te&6)&&(ms=be()+500,Xn()))}break;case 13:br(function(){var r=un(e,1);if(r!==null){var s=qe();Rt(r,e,1,s)}}),vd(e,1)}};Uu=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=qe();Rt(t,e,134217728,n)}vd(e,134217728)}};Rm=function(e){if(e.tag===13){var t=zn(e),n=un(e,t);if(n!==null){var r=qe();Rt(n,e,t,r)}vd(e,t)}};Am=function(){return re};Om=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};dc=function(e,t,n){switch(t){case"input":if(sc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=_a(r);if(!s)throw Error(R(90));dm(r),sc(r,s)}}}break;case"textarea":hm(e,n);break;case"select":t=n.value,t!=null&&es(e,!!n.multiple,t,!1)}};wm=fd;bm=br;var l1={usingClientEntryPoint:!1,Events:[Oo,Kr,_a,ym,xm,fd]},Us={findFiberByHostInstance:cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c1={bundleType:Us.bundleType,version:Us.version,rendererPackageName:Us.rendererPackageName,rendererConfig:Us.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$m(e),e===null?null:e.stateNode},findFiberByHostInstance:Us.findFiberByHostInstance||i1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ii.isDisabled&&ii.supportsFiber)try{ya=ii.inject(c1),Wt=ii}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l1;pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xd(t))throw Error(R(200));return o1(e,t,null,n)};pt.createRoot=function(e,t){if(!xd(e))throw Error(R(299));var n=!1,r="",s=n0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gd(e,1,!1,null,null,n,!1,r,s),e[cn]=t.current,mo(e.nodeType===8?e.parentNode:e),new yd(t)};pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=$m(t),e=e===null?null:e.stateNode,e};pt.flushSync=function(e){return br(e)};pt.hydrate=function(e,t,n){if(!Ta(t))throw Error(R(200));return Ra(null,e,t,!0,n)};pt.hydrateRoot=function(e,t,n){if(!xd(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=n0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=t0(t,null,e,1,n??null,s,!1,o,i),e[cn]=t.current,mo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Pa(t)};pt.render=function(e,t,n){if(!Ta(t))throw Error(R(200));return Ra(null,e,t,!1,n)};pt.unmountComponentAtNode=function(e){if(!Ta(e))throw Error(R(40));return e._reactRootContainer?(br(function(){Ra(null,null,e,!1,function(){e._reactRootContainer=null,e[cn]=null})}),!0):!1};pt.unstable_batchedUpdates=fd;pt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ta(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ra(e,t,n,!1,r)};pt.version="18.3.1-next-f1338f8080-20240426";function r0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r0)}catch(e){console.error(e)}}r0(),rm.exports=pt;var kr=rm.exports;const u1=Wp(kr);var yh=kr;Ql.createRoot=yh.createRoot,Ql.hydrateRoot=yh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$o.apply(this,arguments)}var On;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(On||(On={}));const xh="popstate";function d1(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return Wc("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:o0(s)}return h1(t,n,null,e)}function Ee(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function s0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function f1(){return Math.random().toString(36).substr(2,8)}function wh(e,t){return{usr:e.state,key:e.key,idx:t}}function Wc(e,t,n,r){return n===void 0&&(n=null),$o({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?js(t):t,{state:n,key:t&&t.key||r||f1()})}function o0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function js(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function h1(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=On.Pop,c=null,u=d();u==null&&(u=0,i.replaceState($o({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=On.Pop;let b=d(),m=b==null?null:b-u;u=b,c&&c({action:l,location:w.location,delta:m})}function p(b,m){l=On.Push;let x=Wc(w.location,b,m);n&&n(x,b),u=d()+1;let v=wh(x,u),_=w.createHref(x);try{i.pushState(v,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}o&&c&&c({action:l,location:w.location,delta:1})}function g(b,m){l=On.Replace;let x=Wc(w.location,b,m);n&&n(x,b),u=d();let v=wh(x,u),_=w.createHref(x);i.replaceState(v,"",_),o&&c&&c({action:l,location:w.location,delta:0})}function y(b){let m=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:o0(b);return x=x.replace(/ $/,"%20"),Ee(m,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,m)}let w={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(xh,f),c=b,()=>{s.removeEventListener(xh,f),c=null}},createHref(b){return t(s,b)},createURL:y,encodeLocation(b){let m=y(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:p,replace:g,go(b){return i.go(b)}};return w}var bh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bh||(bh={}));function p1(e,t,n){return n===void 0&&(n="/"),m1(e,t,n,!1)}function m1(e,t,n,r){let s=typeof t=="string"?js(t):t,o=l0(s.pathname||"/",n);if(o==null)return null;let i=i0(e);g1(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=E1(o);l=k1(i[c],u,r)}return l}function i0(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ee(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=mr([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Ee(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),i0(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:j1(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of a0(o.path))s(o,i,c)}),t}function a0(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=a0(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function g1(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$1(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const v1=/^:[\w-]+$/,y1=3,x1=2,w1=1,b1=10,_1=-2,_h=e=>e==="*";function j1(e,t){let n=e.split("/"),r=n.length;return n.some(_h)&&(r+=_1),t&&(r+=x1),n.filter(s=>!_h(s)).reduce((s,o)=>s+(v1.test(o)?y1:o===""?w1:b1),r)}function $1(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function k1(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=jh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=jh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:mr([o,f.pathname]),pathnameBase:A1(mr([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=mr([o,f.pathnameBase]))}return i}function jh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=S1(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let w=l[f]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[f];return g&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function S1(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),s0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function E1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return s0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function l0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function C1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?js(e):e;return{pathname:n?n.startsWith("/")?n:N1(n,t):t,search:O1(r),hash:I1(s)}}function N1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Tl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function T1(e,t){let n=P1(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function R1(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=js(e):(s=$o({},e),Ee(!s.pathname||!s.pathname.includes("?"),Tl("?","pathname","search",s)),Ee(!s.pathname||!s.pathname.includes("#"),Tl("#","pathname","hash",s)),Ee(!s.search||!s.search.includes("#"),Tl("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=C1(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const mr=e=>e.join("/").replace(/\/\/+/g,"/"),A1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,I1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function D1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const c0=["post","put","patch","delete"];new Set(c0);const M1=["get",...c0];new Set(M1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ko.apply(this,arguments)}const wd=h.createContext(null),L1=h.createContext(null),Aa=h.createContext(null),Oa=h.createContext(null),$s=h.createContext({outlet:null,matches:[],isDataRoute:!1}),u0=h.createContext(null);function Ia(){return h.useContext(Oa)!=null}function bd(){return Ia()||Ee(!1),h.useContext(Oa).location}function d0(e){h.useContext(Aa).static||h.useLayoutEffect(e)}function f0(){let{isDataRoute:e}=h.useContext($s);return e?Q1():U1()}function U1(){Ia()||Ee(!1);let e=h.useContext(wd),{basename:t,future:n,navigator:r}=h.useContext(Aa),{matches:s}=h.useContext($s),{pathname:o}=bd(),i=JSON.stringify(T1(s,n.v7_relativeSplatPath)),l=h.useRef(!1);return d0(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=R1(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:mr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function F1(e,t){return z1(e,t)}function z1(e,t,n,r){Ia()||Ee(!1);let{navigator:s}=h.useContext(Aa),{matches:o}=h.useContext($s),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=bd(),d;if(t){var f;let b=typeof t=="string"?js(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Ee(!1),d=b}else d=u;let p=d.pathname||"/",g=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=p1(e,{pathname:g}),w=q1(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:mr([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:mr([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return t&&w?h.createElement(Oa.Provider,{value:{location:ko({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:On.Pop}},w):w}function B1(){let e=X1(),t=D1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,o)}const V1=h.createElement(B1,null);class W1 extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement($s.Provider,{value:this.props.routeContext},h.createElement(u0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function H1(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(wd);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement($s.Provider,{value:t},r)}function q1(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ee(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:g}=n,y=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let g,y=!1,w=null,b=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||V1,c&&(u<0&&p===0?(J1("route-fallback",!1),y=!0,b=null):u===p&&(y=!0,b=f.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,p+1)),x=()=>{let v;return g?v=w:y?v=b:f.route.Component?v=h.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,h.createElement(H1,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?h.createElement(W1,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:x(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):x()},null)}var h0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(h0||{}),ra=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ra||{});function K1(e){let t=h.useContext(wd);return t||Ee(!1),t}function G1(e){let t=h.useContext(L1);return t||Ee(!1),t}function Y1(e){let t=h.useContext($s);return t||Ee(!1),t}function p0(e){let t=Y1(),n=t.matches[t.matches.length-1];return n.route.id||Ee(!1),n.route.id}function X1(){var e;let t=h.useContext(u0),n=G1(ra.UseRouteError),r=p0(ra.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Q1(){let{router:e}=K1(h0.UseNavigateStable),t=p0(ra.UseNavigateStable),n=h.useRef(!1);return d0(()=>{n.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ko({fromRouteId:t},o)))},[e,t])}const $h={};function J1(e,t,n){!t&&!$h[e]&&($h[e]=!0)}function Z1(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function Hc(e){Ee(!1)}function eb(e){let{basename:t="/",children:n=null,location:r,navigationType:s=On.Pop,navigator:o,static:i=!1,future:l}=e;Ia()&&Ee(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:ko({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=js(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:y="default"}=r,w=h.useMemo(()=>{let b=l0(d,c);return b==null?null:{location:{pathname:b,search:f,hash:p,state:g,key:y},navigationType:s}},[c,d,f,p,g,y,s]);return w==null?null:h.createElement(Aa.Provider,{value:u},h.createElement(Oa.Provider,{children:n,value:w}))}function tb(e){let{children:t,location:n}=e;return F1(qc(t),n)}new Promise(()=>{});function qc(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let o=[...t,s];if(r.type===h.Fragment){n.push.apply(n,qc(r.props.children,o));return}r.type!==Hc&&Ee(!1),!r.props.index||!r.props.children||Ee(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=qc(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function nb(e,t){let n=Kc(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const rb="6";try{window.__reactRouterVersion=rb}catch{}const sb="startTransition",kh=tm[sb];function ob(e){let{basename:t,children:n,future:r,window:s}=e,o=h.useRef();o.current==null&&(o.current=d1({window:s,v5Compat:!0}));let i=o.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&kh?kh(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>Z1(r),[r]),h.createElement(eb,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}var Sh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sh||(Sh={}));var Eh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Eh||(Eh={}));function ib(e){let t=h.useRef(Kc(e)),n=h.useRef(!1),r=bd(),s=h.useMemo(()=>nb(r.search,n.current?null:t.current),[r.search]),o=f0(),i=h.useCallback((l,c)=>{const u=Kc(typeof l=="function"?l(s):l);n.current=!0,o("?"+u,c)},[o,s]);return[s,i]}const ab="modulepreload",lb=function(e){return"/"+e},Ch={},Do=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=lb(o),o in Ch)return;Ch[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===o&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":ab,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},cb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Do(()=>Promise.resolve().then(()=>ks),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class _d extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class ub extends _d{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nh extends _d{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ph extends _d{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gc||(Gc={}));var db=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class fb{constructor(t,{headers:n={},customFetch:r,region:s=Gc.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=cb(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return db(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(w=>{throw new ub(w)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Nh(f);if(!f.ok)throw new Ph(f);let g=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return g==="application/json"?y=yield f.json():g==="application/octet-stream"?y=yield f.blob():g==="text/event-stream"?y=f:g==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Ph||s instanceof Nh?s.context:void 0}}})}}var Je={},jd={},Da={},Mo={},Ma={},La={},hb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gs=hb();const pb=gs.fetch,m0=gs.fetch.bind(gs),g0=gs.Headers,mb=gs.Request,gb=gs.Response,ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:g0,Request:mb,Response:gb,default:m0,fetch:pb},Symbol.toStringTag,{value:"Module"})),vb=Ly(ks);var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});let yb=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ua.default=yb;var v0=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(La,"__esModule",{value:!0});const xb=v0(vb),wb=v0(Ua);let bb=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=xb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,f=null,p=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const m=await o.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const w=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await o.text();try{u=JSON.parse(w),Array.isArray(u)&&o.status===404&&(d=[],u=null,p=200,g="OK")}catch{o.status===404&&w===""?(p=204,g="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,g="OK"),u&&this.shouldThrowOnError)throw new wb.default(u)}return{error:u,data:d,count:f,status:p,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};La.default=bb;var _b=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ma,"__esModule",{value:!0});const jb=_b(La);let $b=class extends jb.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ma.default=$b;var kb=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mo,"__esModule",{value:!0});const Sb=kb(Ma);let Eb=class extends Sb.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Mo.default=Eb;var Cb=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Da,"__esModule",{value:!0});const Fs=Cb(Mo);let Nb=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new Fs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Fs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Fs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Fs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Fs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Da.default=Nb;var Fa={},za={};Object.defineProperty(za,"__esModule",{value:!0});za.version=void 0;za.version="0.0.0-automated";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.DEFAULT_HEADERS=void 0;const Pb=za;Fa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Pb.version}`};var y0=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jd,"__esModule",{value:!0});const Tb=y0(Da),Rb=y0(Mo),Ab=Fa;let Ob=class x0{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Ab.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Tb.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new x0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new Rb.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};jd.default=Ob;var Ss=wt&&wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Je,"__esModule",{value:!0});Je.PostgrestError=Je.PostgrestBuilder=Je.PostgrestTransformBuilder=Je.PostgrestFilterBuilder=Je.PostgrestQueryBuilder=Je.PostgrestClient=void 0;const w0=Ss(jd);Je.PostgrestClient=w0.default;const b0=Ss(Da);Je.PostgrestQueryBuilder=b0.default;const _0=Ss(Mo);Je.PostgrestFilterBuilder=_0.default;const j0=Ss(Ma);Je.PostgrestTransformBuilder=j0.default;const $0=Ss(La);Je.PostgrestBuilder=$0.default;const k0=Ss(Ua);Je.PostgrestError=k0.default;var Ib=Je.default={PostgrestClient:w0.default,PostgrestQueryBuilder:b0.default,PostgrestFilterBuilder:_0.default,PostgrestTransformBuilder:j0.default,PostgrestBuilder:$0.default,PostgrestError:k0.default};const{PostgrestClient:Db,PostgrestQueryBuilder:mP,PostgrestFilterBuilder:gP,PostgrestTransformBuilder:vP,PostgrestBuilder:yP,PostgrestError:xP}=Ib;function Mb(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Lb=Mb(),Ub="2.11.15",Fb=`realtime-js/${Ub}`,zb="1.0.0",S0=1e4,Bb=1e3;var ro;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ro||(ro={}));var Le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Le||(Le={}));var Ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ct||(Ct={}));var Yc;(function(e){e.websocket="websocket"})(Yc||(Yc={}));var lr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(lr||(lr={}));class Vb{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class E0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ue;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ue||(ue={}));const Th=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=Wb(i,e,t,s),o),{})},Wb=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?C0(o,i):Xc(i)},C0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Gb(t,n)}switch(e){case ue.bool:return Hb(t);case ue.float4:case ue.float8:case ue.int2:case ue.int4:case ue.int8:case ue.numeric:case ue.oid:return qb(t);case ue.json:case ue.jsonb:return Kb(t);case ue.timestamp:return Yb(t);case ue.abstime:case ue.date:case ue.daterange:case ue.int4range:case ue.int8range:case ue.money:case ue.reltime:case ue.text:case ue.time:case ue.timestamptz:case ue.timetz:case ue.tsrange:case ue.tstzrange:return Xc(t);default:return Xc(t)}},Xc=e=>e,Hb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Kb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Gb=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>C0(t,l))}return e},Yb=e=>typeof e=="string"?e.replace(" ","T"):e,N0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Rl{constructor(t,n,r={},s=S0){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Rh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Rh||(Rh={}));class so{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=so.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=so.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=so.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const p=d.map(b=>b.presence_ref),g=f.map(b=>b.presence_ref),y=d.filter(b=>g.indexOf(b.presence_ref)<0),w=f.filter(b=>p.indexOf(b.presence_ref)<0);y.length>0&&(l[u]=y),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),p=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...p)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ah;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ah||(Ah={}));var Oh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Oh||(Oh={}));var tn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tn||(tn={}));class $d{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rl(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new E0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new so(this),this.broadcastEndpointURL=N0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Le.closed){const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(tn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(tn.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(tn.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,y=[];for(let w=0;w<g;w++){const b=p[w],{filter:{event:m,schema:x,table:v,filter:_}}=b,j=d&&d[w];if(j&&j.event===m&&j.schema===x&&j.table===v&&j.filter===_)y.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),this.state=Le.errored,t==null||t(tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(tn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Le.errored,t==null||t(tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Rl(this,Ct.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rl(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ct;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let p=this._onMessage(i,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var y,w,b;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(w=g.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(g=>g.callback(p,r)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var y,w,b,m,x,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const _=g.id,j=(y=g.filter)===null||y===void 0?void 0:y.event;return _&&((w=n.ids)===null||w===void 0?void 0:w.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(x=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:b,commit_timestamp:m,type:x,errors:v}=y;p=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:m,eventType:x,new:{},old:{},errors:v}),this._getPayloadRecords(y))}g.callback(p,r)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&$d.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ct.close,{},t)}_onError(t){this._on(Ct.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Th(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Th(t.columns,t.old_record)),n}}const Ih=()=>{},Xb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qb{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=S0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ih,this.ref=0,this.logger=Ih,this.conn=null,this.sendBuffer=[],this.serializer=new Vb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Do(()=>Promise.resolve().then(()=>ks),void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Yc.websocket}`,this.httpEndpoint=N0(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new E0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Lb),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zb}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ro.connecting:return lr.Connecting;case ro.open:return lr.Open;case ro.closing:return lr.Closing;default:return lr.Closed}}isConnected(){return this.connectionState()===lr.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new $d(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Fb};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ct.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Bb,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ct.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Xb],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class kd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Jb extends kd{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qc extends kd{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Zb=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const P0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Do(()=>Promise.resolve().then(()=>ks),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},e_=()=>Zb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Do(()=>Promise.resolve().then(()=>ks),void 0)).Response:Response}),Jc=e=>{if(Array.isArray(e))return e.map(n=>Jc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Jc(r)}),t};var Sr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Al=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t_=(e,t,n)=>Sr(void 0,void 0,void 0,function*(){const r=yield e_();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Jb(Al(s),e.status||500))}).catch(s=>{t(new Qc(Al(s),s))}):t(new Qc(Al(e),e))}),n_=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Lo(e,t,n,r,s,o){return Sr(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,n_(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>t_(c,l,r))})})}function sa(e,t,n,r){return Sr(this,void 0,void 0,function*(){return Lo(e,"GET",t,n,r)})}function Cn(e,t,n,r,s){return Sr(this,void 0,void 0,function*(){return Lo(e,"POST",t,r,s,n)})}function r_(e,t,n,r,s){return Sr(this,void 0,void 0,function*(){return Lo(e,"PUT",t,r,s,n)})}function s_(e,t,n,r){return Sr(this,void 0,void 0,function*(){return Lo(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function T0(e,t,n,r,s){return Sr(this,void 0,void 0,function*(){return Lo(e,"DELETE",t,r,s,n)})}var Xe=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const o_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class i_{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=P0(s)}uploadOrUpdate(t,n,r,s){return Xe(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Dh),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),p=yield f.json();return f.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(Ce(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Xe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Dh.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),p=yield f.json();return f.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(Ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Cn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new kd("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}update(t,n,r){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Xe(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield Cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Cn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Xe(this,void 0,void 0,function*(){try{const s=yield Cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}download(t,n){return Xe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield sa(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ce(l))return{data:null,error:l};throw l}})}info(t){return Xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield sa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Jc(r),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}exists(t){return Xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield s_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ce(r)&&r instanceof Qc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield T0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}list(t,n,r){return Xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},o_),n),{prefix:t||""});return{data:yield Cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const a_="2.7.1",l_={"X-Client-Info":`storage-js/${a_}`};var Rr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class c_{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},l_),n),this.fetch=P0(r)}listBuckets(){return Rr(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ce(t))return{data:null,error:t};throw t}})}getBucket(t){return Rr(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Rr(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Rr(this,void 0,void 0,function*(){try{return{data:yield r_(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Rr(this,void 0,void 0,function*(){try{return{data:yield Cn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Rr(this,void 0,void 0,function*(){try{return{data:yield T0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}}class u_ extends c_{constructor(t,n={},r){super(t,n,r)}from(t){return new i_(this.url,this.headers,t,this.fetch)}}const d_="2.52.0";let Ks="";typeof Deno<"u"?Ks="deno":typeof document<"u"?Ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ks="react-native":Ks="node";const f_={"X-Client-Info":`supabase-js-${Ks}/${d_}`},h_={headers:f_},p_={schema:"public"},m_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},g_={};var v_=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const y_=e=>{let t;return e?t=e:typeof fetch>"u"?t=m0:t=fetch,(...n)=>t(...n)},x_=()=>typeof Headers>"u"?g0:Headers,w_=(e,t,n)=>{const r=y_(n),s=x_();return(o,i)=>v_(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var b_=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function __(e){return e.endsWith("/")?e:e+"/"}function j_(e,t){var n,r;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,p={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>b_(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}const R0="2.71.1",Fr=30*1e3,Zc=3,Ol=Zc*Fr,$_="http://localhost:9999",k_="supabase.auth.token",S_={"X-Client-Info":`gotrue-js/${R0}`},eu="X-Supabase-Api-Version",A0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,C_=10*60*1e3;class Sd extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class N_ extends Sd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function P_(e){return K(e)&&e.name==="AuthApiError"}class O0 extends Sd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Qn extends Sd{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class $n extends Qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function T_(e){return K(e)&&e.name==="AuthSessionMissingError"}class ai extends Qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class li extends Qn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ci extends Qn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function R_(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class Mh extends Qn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tu extends Qn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Il(e){return K(e)&&e.name==="AuthRetryableFetchError"}class Lh extends Qn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class nu extends Qn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const oa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uh=` 	
\r=`.split(""),A_=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Uh.length;t+=1)e[Uh[t].charCodeAt(0)]=-2;for(let t=0;t<oa.length;t+=1)e[oa[t].charCodeAt(0)]=t;return e})();function Fh(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(oa[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(oa[r]),t.queuedBits-=6}}function I0(e,t,n){const r=A_[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zh(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{D_(i,r,n)};for(let i=0;i<e.length;i+=1)I0(e.charCodeAt(i),s,o);return t.join("")}function O_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function I_(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}O_(r,t)}}function D_(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function M_(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)I0(e.charCodeAt(s),n,r);return new Uint8Array(t)}function L_(e){const t=[];return I_(e,n=>t.push(n)),new Uint8Array(t)}function U_(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Fh(s,n,r)),Fh(null,n,r),t.join("")}function F_(e){return Math.round(Date.now()/1e3)+e}function z_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const kt=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},D0=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function B_(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const M0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Do(()=>Promise.resolve().then(()=>ks),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},V_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},nr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},bn=async(e,t)=>{await e.removeItem(t)};class Ba{constructor(){this.promise=new Ba.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ba.promiseConstructor=Promise;function Dl(e){const t=e.split(".");if(t.length!==3)throw new nu("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!E_.test(t[r]))throw new nu("JWT not in base64url format");return{header:JSON.parse(zh(t[0])),payload:JSON.parse(zh(t[1])),signature:M_(t[2]),raw:{header:t[0],payload:t[1]}}}async function W_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function H_(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function q_(e){return("0"+e.toString(16)).substr(-2)}function K_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,q_).join("")}async function G_(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Y_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await G_(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ar(e,t,n=!1){const r=K_();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await zr(e,`${t}-code-verifier`,s);const o=await Y_(r);return[o,r===o?"plain":"s256"]}const X_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q_(e){const t=e.headers.get(eu);if(!t||!t.match(X_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function J_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Z_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Or(e){if(!e2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ml(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bh(e){return JSON.parse(JSON.stringify(e))}var t2=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const or=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),n2=[502,503,504];async function Vh(e){var t;if(!V_(e))throw new tu(or(e),0);if(n2.includes(e.status))throw new tu(or(e),e.status);let n;try{n=await e.json()}catch(o){throw new O0(or(o),o)}let r;const s=Q_(e);if(s&&s.getTime()>=A0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Lh(or(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new $n}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Lh(or(n),e.status,n.weak_password.reasons);throw new N_(or(n),e.status||500,r)}const r2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Q(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[eu]||(o[eu]=A0["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await s2(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function s2(e,t,n,r,s,o){const i=r2(t,r,s,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new tu(or(c),0)}if(l.ok||await Vh(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Vh(c)}}function Zt(e){var t;let n=null;l2(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=F_(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Wh(e){const t=Zt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Tn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function o2(e){return{data:e,error:null}}function i2(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=t2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function a2(e){return e}function l2(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ll=["global","local","others"];var c2=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class u2{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=M0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Ll[0]){if(Ll.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ll.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=c2(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:i2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(K(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:a2});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Or(t);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Or(t);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Tn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Or(t);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tn})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Or(t.userId);try{const{data:n,error:r}=await Q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Or(t.userId),Or(t.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}function Hh(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function d2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ir={debug:!!(globalThis&&D0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class L0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class f2 extends L0{}async function h2(e,t,n){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new f2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ir.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}d2();const p2={url:$_,storageKey:k_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:S_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qh(e,t,n){return await n()}const Dr={};class So{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=So.nextInstanceID,So.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},p2),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new u2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=M0(s.fetch),this.lock=s.lock||qh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:kt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=h2:this.lock=qh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:D0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Hh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Hh(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Dr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Dr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=B_(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),kt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),R_(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return K(n)?{error:n}:{error:new O0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Zt}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(K(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:p}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Ar(this.storage,this.storageKey)),o=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},xform:Zt})}else if("phone"in t){const{phone:d,password:f,options:p}=t;o=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Zt})}else throw new li("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(K(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wh})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wh})}else throw new li("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ai}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,l,c,u,d,f,p,g;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:b,wallet:m,statement:x,options:v}=t;let _;if(kt())if(typeof m=="object")_=m;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const j=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let S;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")S=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)S=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),w=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:b,error:m}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:U_(w)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Zt});if(m)throw m;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new ai}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:m})}catch(b){if(K(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await nr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Zt});if(await bn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ai}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(K(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Zt}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ai}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ar(this.storage,this.storageKey));const{error:f}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new li("You must provide either an email or phone number.")}catch(l){if(K(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Zt});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Ar(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:o2})}catch(o){if(K(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new $n;const{error:s}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new li("You must provide either an email or phone number and a type")}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await nr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ol:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await nr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Ml()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tn}):await this._useSession(async n=>{var r,s,o;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $n}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Tn})})}catch(n){if(K(n))return T_(n)&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new $n;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ar(this.storage,this.storageKey));const{data:u,error:d}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Tn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $n;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=Dl(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(K(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new $n;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!kt())throw new ci("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ci(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Mh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ci("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Mh("No code detected.");const{data:x,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new ci("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let p=d+f;c&&(p=parseInt(c));const g=p-d;g*1e3<=Fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const y=p-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,d);const{data:w,error:b}=await this._getUser(o);if(b)throw b;const m={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(r){if(K(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await nr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(P_(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await bn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=z_(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ar(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(K(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:p}=o;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return kt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(K(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await H_(async s=>(s>0&&await W_(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zt})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Il(o)&&Date.now()+i-r<Fr})}catch(r){if(this._debug(n,"error",r),K(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),kt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await nr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await nr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await zr(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Ml()}else if(s&&!s.user&&!s.user){const i=await nr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await bn(this.storage,this.storageKey+"-user"),await zr(this.storage,this.storageKey,s)):s.user=Ml()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ol;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Ol}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Il(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new $n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ba;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new $n;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),K(o)){const i={session:null,error:o};return Il(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await zr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Bh(s);await zr(this.storage,this.storageKey,o)}else{const s=Bh(n);await zr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await bn(this.storage,this.storageKey),await bn(this.storage,this.storageKey+"-code-verifier"),await bn(this.storage,this.storageKey+"-user"),this.userStorage&&await bn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fr}ms, refresh threshold is ${Zc} ticks`),s<=Zc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof L0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Ar(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:l}=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(K(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Dl(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+C_>s)return r;const{data:o,error:i}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:g,error:y}=await this.getSession();if(y||!g.session)return{data:null,error:y};r=g.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Dl(r);n!=null&&n.allowExpired||J_(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:s,signature:i},error:null}}const d=Z_(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,L_(`${l}.${c}`)))throw new nu("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}So.nextInstanceID=0;const m2=So;class g2 extends m2{constructor(t){super(t)}}var v2=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class y2{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=__(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:p_,realtime:g_,auth:Object.assign(Object.assign({},m_),{storageKey:u}),global:h_},f=j_(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=w_(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Db(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new fb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new u_(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return v2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new g2({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Qb(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const x2=(e,t,n)=>new y2(e,t,n),w2="http://127.0.0.1:54321",b2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0",H=x2(w2,b2,{realtime:{params:{eventsPerSecond:10}}}),U0=h.createContext(void 0);function Jn(){const e=h.useContext(U0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function _2({children:e}){const[t,n]=h.useState(null),[r,s]=h.useState(null),[o,i]=h.useState(!0);h.useEffect(()=>{(async()=>{const{data:{session:g}}=await H.auth.getSession();s(g),n((g==null?void 0:g.user)??null),i(!1)})();const{data:{subscription:p}}=H.auth.onAuthStateChange(async(g,y)=>{s(y),n((y==null?void 0:y.user)??null),i(!1)});return()=>p.unsubscribe()},[]);const d={user:t,session:r,loading:o,signIn:async(f,p)=>{try{const{error:g}=await H.auth.signInWithPassword({email:f,password:p});return{error:g}}catch(g){return{error:g}}},signUp:async(f,p)=>{try{const{error:g}=await H.auth.signUp({email:f,password:p});return{error:g}}catch(g){return{error:g}}},signOut:async()=>{await H.auth.signOut()}};return a.jsx(U0.Provider,{value:d,children:e})}const F0=h.createContext(void 0);function Uo(){const e=h.useContext(F0);if(e===void 0)throw new Error("useProject must be used within a ProjectProvider");return e}function j2({children:e}){const{user:t}=Jn(),[n,r]=h.useState([]),[s,o]=h.useState(null),[i,l]=h.useState(!0),c=async()=>{if(!t){r([]),l(!1);return}try{const{data:y,error:w}=await H.from("projects").select(`
          *,
          project_members!inner(user_id)
        `).eq("project_members.user_id",t.id).order("created_at",{ascending:!1});if(w)throw w;const b=(y==null?void 0:y.reduce((m,x)=>(m.find(_=>_.id===x.id)||m.push({id:x.id,name:x.name,description:x.description,created_at:x.created_at,updated_at:x.updated_at,owner_id:x.owner_id}),m),[]))||[];r(b)}catch(y){console.error("Error fetching projects:",y),r([])}finally{l(!1)}};h.useEffect(()=>{c()},[t]);const g={projects:n,currentProject:s,loading:i,createProject:async(y,w)=>{if(!t)return{error:new Error("User not authenticated")};try{const{data:b,error:m}=await H.from("projects").insert([{name:y,description:w,owner_id:t.id}]).select().single();if(m)throw m;const{error:x}=await H.from("project_members").insert([{project_id:b.id,user_id:t.id,role:"owner"}]);return x&&console.error("Error adding project owner as member:",x),r(v=>[b,...v]),o(b),await c(),{error:null}}catch(b){return console.error("Error creating project:",b),{error:b}}},selectProject:y=>{o(y)},deleteProject:async y=>{if(!t)return{error:new Error("User not authenticated")};try{console.log("Attempting to delete project:",y),console.log("Current user:",t.id);const{data:w,error:b}=await H.from("projects").select("id, owner_id").eq("id",y).single();if(b)return console.error("Error fetching project for deletion:",b),{error:new Error("プロジェクトが見つかりません")};if(!w)return{error:new Error("プロジェクトが見つかりません")};if(w.owner_id!==t.id)return{error:new Error("プロジェクトを削除する権限がありません")};console.log("Project found, owner confirmed. Proceeding with deletion...");const{error:m}=await H.from("project_members").delete().eq("project_id",y);m&&console.warn("Error deleting project members:",m);const{error:x}=await H.from("project_invitations").delete().eq("project_id",y);x&&console.warn("Error deleting project invitations:",x);const{error:v}=await H.from("tasks").delete().eq("project_id",y);v&&console.warn("Error deleting project tasks:",v);const{error:_}=await H.from("deliverables").delete().eq("project_id",y);_&&console.warn("Error deleting project deliverables:",_);const{error:j}=await H.from("phases").delete().eq("project_id",y);j&&console.warn("Error deleting project phases:",j);const{error:E}=await H.from("projects").delete().eq("id",y);return E?(console.error("Error deleting project:",E),{error:new Error("プロジェクトの削除に失敗しました")}):(console.log("Project deleted successfully"),(s==null?void 0:s.id)===y&&o(null),r(S=>S.filter(k=>k.id!==y)),{error:null})}catch(w){return console.error("Error deleting project:",w),{error:w}}},refreshProjects:async()=>{await c()}};return a.jsx(F0.Provider,{value:g,children:e})}const z0=h.createContext(void 0);function $2(){const e=h.useContext(z0);if(e===void 0)throw new Error("useProjectData must be used within a ProjectDataProvider");return e}function k2({children:e}){const{currentProject:t}=Uo(),[n,r]=h.useState([]),[s,o]=h.useState([]),[i,l]=h.useState([]),[c,u]=h.useState(!1),d=async()=>{if(!t){r([]),o([]),l([]);return}console.log("MainApp - currentProject:",t),console.log("Fetching project data for project:",t.id),u(!0);try{let{data:v,error:_}=await H.from("phases").select("*").eq("project_id",t.id).order("order_index",{ascending:!0});if(_)throw _;if(console.log("MainApp - phases:",v),r(v||[]),!v||v.length===0){console.log("No phases found, creating initial phases...");const{error:D}=await g(t.id);if(D)console.error("Error creating initial phases:",D);else{const{data:N,error:L}=await H.from("phases").select("*").eq("project_id",t.id).order("order_index",{ascending:!0});if(L)throw L;console.log("Fetched new phases:",N),v=N||[],r(v)}}const{data:j,error:E}=await H.from("tasks").select("*").in("phase_id",(v==null?void 0:v.map(D=>D.id))||[]).order("order_index",{ascending:!0});if(E)throw E;console.log("MainApp - tasks:",j);const k=(j||[]).map(D=>({...D,completed:D.status==="completed",priority:D.priority||"medium"})).reduce((D,N)=>(D.find(F=>F.id===N.id)?console.log("Duplicate task found and removed:",N.title,N.id):D.push(N),D),[]);k.sort((D,N)=>D.order_index-N.order_index),console.log("MainApp - unique tasks:",k),console.log("MainApp - tasks count:",(j==null?void 0:j.length)||0,"-> unique:",k.length),o(k);const{data:$,error:C}=await H.from("deliverables").select("*").in("phase_id",(v==null?void 0:v.map(D=>D.id))||[]).order("order_index",{ascending:!0});if(C)throw C;console.log("MainApp - deliverables:",$);const A=($||[]).map(D=>({...D,title:D.name,status:D.status==="pending"?"not-started":D.status})).reduce((D,N)=>(D.find(F=>F.id===N.id)?console.log("Duplicate deliverable found and removed:",N.name,N.id):D.push(N),D),[]);A.sort((D,N)=>D.order_index-N.order_index),console.log("MainApp - unique deliverables:",A),console.log("MainApp - deliverables count:",($==null?void 0:$.length)||0,"-> unique:",A.length),l(A)}catch(v){console.error("Error fetching project data:",v)}finally{u(!1)}};h.useEffect(()=>{if(t){d();const v=H.channel("tasks-changes").on("postgres_changes",{event:"*",schema:"public",table:"tasks",filter:`phase_id=in.(${n.map(j=>j.id).join(",")})`},j=>{console.log("Tasks realtime update:",j),(j.eventType==="UPDATE"||j.eventType==="INSERT"||j.eventType==="DELETE")&&d()}).subscribe(),_=H.channel("deliverables-changes").on("postgres_changes",{event:"*",schema:"public",table:"deliverables",filter:`phase_id=in.(${n.map(j=>j.id).join(",")})`},j=>{console.log("Deliverables realtime update:",j),(j.eventType==="UPDATE"||j.eventType==="INSERT"||j.eventType==="DELETE")&&d()}).subscribe();return()=>{H.removeChannel(v),H.removeChannel(_)}}else r([]),o([]),l([])},[t,n.length]);const f=async(v,_)=>{try{console.log("Updating task:",v,"with updates:",_);const{error:j}=await H.from("tasks").update(_).eq("id",v);if(j)throw j;return console.log("Task updated successfully"),o(E=>E.map(k=>k.id===v?{...k,..._}:k).sort((k,$)=>k.order_index-$.order_index)),{error:null}}catch(j){return console.error("Error updating task:",j),{error:j}}},p=async(v,_)=>{try{const{error:j}=await H.from("deliverables").update(_).eq("id",v);if(j)throw j;return l(E=>E.map(k=>k.id===v?{...k,..._}:k).sort((k,$)=>k.order_index-$.order_index)),{error:null}}catch(j){return console.error("Error updating deliverable:",j),{error:j}}},g=async v=>{try{const _=[{project_id:v,name:"要件定義",description:"「何を作るのか」を明確にし、システムに求められる機能や非機能要件を具体化する",order_index:1},{project_id:v,name:"基本設計",description:"要件定義で定義された内容を、システムとしてどう実現するかを具体化する",order_index:2},{project_id:v,name:"外部設計",description:"基本設計の内容を、ユーザーにとって使いやすい形に落とし込む（主にUI/UX）",order_index:3},{project_id:v,name:"開発準備",description:"開発をスムーズに開始するための最終準備",order_index:4}],{data:j,error:E}=await H.from("phases").insert(_).select();if(E)throw E;console.log("Created initial phases:",j);for(const S of j)await y(S);return{error:null}}catch(_){return console.error("Error creating initial phases:",_),{error:_}}},y=async v=>{const _=w(v.name),j=b(v.name);if(_.length>0){const E=_.map((k,$)=>({...k,phase_id:v.id,order_index:$+1})),{error:S}=await H.from("tasks").insert(E);S&&console.error("Error creating tasks for phase:",v.name,S)}if(j.length>0){const E=j.map((k,$)=>({...k,phase_id:v.id,order_index:$+1})),{error:S}=await H.from("deliverables").insert(E);S&&console.error("Error creating deliverables for phase:",v.name,S)}},w=v=>{switch(v){case"要件定義":return[{title:"プロジェクトの目的と目標の明確化",description:"システム開発の目的、ターゲット、期待効果、ビジネスゴールを明確にする",status:"todo",priority:"high"},{title:"現状業務の分析と課題特定",description:"現在の業務プロセスを分析し、課題や改善点を特定する",status:"todo",priority:"high"},{title:"ユーザーヒアリングと要求収集",description:"ステークホルダーからのヒアリングを通じて要求を収集・整理する",status:"todo",priority:"high"},{title:"機能要件の洗い出しと詳細化",description:"システムが備えるべき機能を具体的に定義し、詳細化する",status:"todo",priority:"high"},{title:"非機能要件の定義",description:"性能、セキュリティ、可用性、保守性などの非機能要件を定義する",status:"todo",priority:"medium"},{title:"要件の優先順位付け",description:"MoSCoW法などを用いて要件の優先順位を決定する",status:"todo",priority:"medium"}];case"基本設計":return[{title:"システム全体構成設計",description:"アーキテクチャ設計を行い、システムの基盤を設計する",status:"todo",priority:"high"},{title:"データベース論理・物理設計",description:"ER図の作成と正規化、インデックス設計を実施する",status:"todo",priority:"high"},{title:"機能概要設計",description:"各機能の入力、処理、出力の概要を設計する",status:"todo",priority:"medium"},{title:"外部インターフェース設計",description:"他システムとの連携仕様を設計する",status:"todo",priority:"medium"},{title:"画面遷移設計",description:"画面間の遷移フローを設計する",status:"todo",priority:"medium"},{title:"非機能要件の詳細化",description:"性能、セキュリティ、可用性などの要件を詳細化する",status:"todo",priority:"high"}];case"外部設計":return[{title:"ユーザーインターフェース設計",description:"画面レイアウト、操作フローを設計する",status:"todo",priority:"high"},{title:"ユーザーエクスペリエンス設計",description:"ユーザー体験の最適化を図る",status:"todo",priority:"high"},{title:"入力・出力情報の詳細設計",description:"データの入出力仕様を詳細に設計する",status:"todo",priority:"medium"},{title:"エラーハンドリングの検討",description:"エラー処理とユーザーへの通知方法を設計する",status:"todo",priority:"medium"},{title:"帳票設計",description:"各種レポートの設計を行う",status:"todo",priority:"low"},{title:"テスト計画の詳細作成",description:"単体テスト、結合テスト、総合テストの範囲を詳細化する",status:"todo",priority:"medium"}];case"開発準備":return[{title:"開発環境の構築",description:"開発に必要な環境をセットアップする",status:"todo",priority:"high"},{title:"開発技術の最終決定",description:"開発言語、フレームワーク、ライブラリの最終決定とセットアップ",status:"todo",priority:"high"},{title:"バージョン管理システムの導入",description:"Git等のバージョン管理システム導入とルール策定",status:"todo",priority:"high"},{title:"コーディング規約の策定",description:"開発チーム内のコーディング規約を策定する",status:"todo",priority:"medium"},{title:"開発スケジュールの詳細化",description:"より詳細な開発スケジュールを作成する",status:"todo",priority:"medium"},{title:"課題管理・進捗管理ツールの準備",description:"プロジェクト管理ツールのセットアップ",status:"todo",priority:"medium"}];default:return[]}},b=v=>{switch(v){case"要件定義":return[{name:"企画書",description:"システム開発の目的、ターゲット、期待効果、ビジネスゴールなどをまとめた文書",type:"document",status:"pending"},{name:"要件定義書",description:"システムが備えるべき機能（機能要件）と非機能要件を詳細に記述した、すべての開発工程の基礎となる文書",type:"document",status:"pending"},{name:"業務フロー図（As-Is/To-Be）",description:"現状の業務とシステム導入後の業務の流れを図式化したもの",type:"document",status:"pending"}];case"基本設計":return[{name:"基本設計書（外部設計書）",description:"システムの全体像を記述した文書（システム構成図、データベース設計書、画面遷移図、機能一覧、他システム連携概要、非機能要件詳細を含む）",type:"document",status:"pending"},{name:"テスト計画書（概要）",description:"テストの全体方針、範囲、フェーズなどを記述",type:"document",status:"pending"}];case"外部設計":return[{name:"画面設計書",description:"各画面のレイアウト、操作フロー、UI仕様を記述した文書",type:"document",status:"pending"},{name:"ワイヤーフレーム・プロトタイプ",description:"画面のワイヤーフレームとプロトタイプ",type:"design",status:"pending"},{name:"入出力設計書",description:"データの入出力仕様を詳細に記述した文書",type:"document",status:"pending"}];case"開発準備":return[{name:"開発環境構築手順書",description:"開発環境のセットアップ方法を記述",type:"document",status:"pending"},{name:"コーディング規約",description:"開発チーム内で統一されたコード記述ルール",type:"document",status:"pending"},{name:"開発スケジュール詳細",description:"各タスクの期間、担当、依存関係などを具体化したスケジュール",type:"document",status:"pending"}];default:return[]}},x={phases:n,tasks:s,deliverables:i,loading:c,refreshData:async()=>{await d()},createInitialPhases:g,updateTask:f,updateDeliverable:p};return a.jsx(z0.Provider,{value:x,children:e})}const S2="re_KCXrH7wa_Ey3SspGxAs1uV376hPChzvcn",E2="onboarding@resend.dev",C2=!0,B0=async e=>{try{const{data:t,error:n}=await H.functions.invoke("send-email",{body:{email:e.email,token:e.token,role:e.role,projectName:e.projectName,inviterName:e.inviterName}});if(n)throw console.error("Supabase Edge Functions Error:",n),new Error(`メール送信に失敗しました: ${n.message}`);if(!t.success)throw new Error(t.error||"メール送信に失敗しました");return console.log("メール送信成功:",e.email),{error:null}}catch(t){return console.error("Error sending invitation email:",t),{error:t}}},N2=async e=>await B0({email:e,token:"test-token-123",role:"member",projectName:"テストプロジェクト",inviterName:"テストユーザー"}),P2=()=>({hasApiKey:!!S2,fromEmail:E2,enableSending:C2,isDev:!1}),V0=h.createContext(void 0);function W0(){const e=h.useContext(V0);if(e===void 0)throw new Error("useProjectMembers must be used within a ProjectMembersProvider");return e}function T2({children:e}){const{user:t}=Jn(),[n,r]=h.useState([]),[s,o]=h.useState([]),[i,l]=h.useState(!1),c=h.useCallback(async w=>{if(!(!t||!w)){l(!0);try{const{data:b,error:m}=await H.from("project_members").select("id, project_id, user_id, role").eq("project_id",w).order("id",{ascending:!0});if(m)throw console.error("Error fetching project members:",m),m;const x=(b||[]).filter(_=>_).map(_=>_.user_id===(t==null?void 0:t.id)&&t?{..._,user:{id:t.id,email:t.email||"Unknown",user_metadata:t.user_metadata||{}}}:_.user_id?{..._,user:{id:_.user_id,email:`user-${_.user_id.slice(0,8)}`,user_metadata:{}}}:{..._,user:{id:"unknown",email:"プロジェクトオーナー",user_metadata:{}}});let v=[];try{const{data:_,error:j}=await H.from("project_invitations").select("id, project_id, email, token, role, scopes, expires_at, created_at, updated_at").eq("project_id",w).gt("expires_at",new Date().toISOString()).order("id",{ascending:!1}).limit(10);j?(console.error("Error fetching invitations:",j),v=[]):v=_||[]}catch(_){console.error("Error fetching invitations (caught):",_),v=[]}r(x),o(v||[])}catch(b){console.error("Error in fetchMembers:",b),r([]),o([])}finally{l(!1)}}},[t]),u=h.useCallback(async(w,b,m,x)=>{var v;if(!t)return{error:new Error("User not authenticated")};try{const{data:_}=await H.from("project_members").select("id").eq("project_id",w).eq("user_id",t.id).single();if(!_)return{error:new Error("プロジェクトへのアクセス権限がありません")};const{data:j,error:E}=await H.from("projects").select("name").eq("id",w).single();if(E)return console.error("Error fetching project name:",E),{error:new Error("プロジェクト情報の取得に失敗しました")};const S=crypto.randomUUID(),k=new Date;k.setDate(k.getDate()+7);const{error:$}=await H.from("project_invitations").insert([{project_id:w,email:b,token:S,role:m,scopes:x||[],expires_at:k.toISOString()}]);if($)throw $;const C=await B0({email:b,token:S,role:m,projectName:j.name,inviterName:((v=t.user_metadata)==null?void 0:v.name)||t.email});return C.error?(console.error("Error sending invitation email:",C.error),{error:new Error("招待は作成されましたが、メール送信に失敗しました")}):(console.log("招待メールを送信しました:",{email:b,token:S,role:m,scopes:x}),{error:null})}catch(_){return console.error("Error inviting member:",_),{error:_}}},[t]),d=h.useCallback(async(w,b,m)=>{if(!t)return{error:new Error("User not authenticated")};try{const{data:x}=await H.from("project_members").select("role").eq("project_id",w).eq("user_id",t.id).single();if(!x||!["owner","admin"].includes(x.role))return{error:new Error("権限がありません")};const{error:v}=await H.from("project_members").update({role:m}).eq("id",b).eq("project_id",w);if(v)throw v;return r(_=>_.map(j=>j.id===b?{...j,role:m}:j)),{error:null}}catch(x){return console.error("Error updating member role:",x),{error:x}}},[t]),f=h.useCallback(async(w,b)=>{if(!t)return{error:new Error("User not authenticated")};try{const{data:m}=await H.from("project_members").select("role").eq("project_id",w).eq("user_id",t.id).single();if(!m||!["owner","admin"].includes(m.role))return{error:new Error("権限がありません")};const{data:x}=await H.from("project_members").select("user_id, role").eq("id",b).single();if((x==null?void 0:x.user_id)===t.id)return{error:new Error("自分自身を削除することはできません")};if((x==null?void 0:x.role)==="owner")return{error:new Error("オーナーを削除することはできません")};const{error:v}=await H.from("project_members").delete().eq("id",b).eq("project_id",w);if(v)throw v;return r(_=>_.filter(j=>j.id!==b)),{error:null}}catch(m){return console.error("Error removing member:",m),{error:m}}},[t]),p=h.useCallback(async w=>{if(!t)return{error:new Error("User not authenticated")};try{const{data:b,error:m}=await H.from("project_invitations").select("*").eq("token",w).single();if(m||!b)return{error:new Error("有効な招待が見つかりません")};const x=new Date,v=new Date(b.expires_at);if(x>v)return{error:new Error("この招待は期限切れです")};const{data:_}=await H.from("project_members").select("id").eq("project_id",b.project_id).eq("user_id",t.id).single();if(_)return{error:new Error("既にプロジェクトのメンバーです")};const{error:j}=await H.from("project_members").insert([{project_id:b.project_id,user_id:t.id,role:b.role,joined_at:new Date().toISOString()}]);if(j)if(console.error("Error inserting member:",j),j.code==="42501"){const{error:S}=await H.rpc("insert_project_member_bypass_rls",{p_project_id:b.project_id,p_user_id:t.id,p_role:b.role});if(S)return{error:new Error("招待の受け入れに失敗しました。管理者に連絡してください。")}}else throw j;const{error:E}=await H.from("project_invitations").delete().eq("token",w);return E&&console.warn("招待の削除に失敗しましたが、メンバー追加は成功しました:",E),{error:null}}catch(b){return console.error("Error accepting invitation:",b),{error:b}}},[t]),g=h.useCallback(async w=>{try{const{error:b}=await H.from("project_invitations").delete().eq("token",w);if(b)throw b;return{error:null}}catch(b){return console.error("Error declining invitation:",b),{error:b}}},[]),y={members:n,invitations:s,loading:i,fetchMembers:c,inviteMember:u,updateMemberRole:d,removeMember:f,acceptInvitation:p,declineInvitation:g};return a.jsx(V0.Provider,{value:y,children:e})}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(null,arguments)}function R2(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ed(...e){return t=>e.forEach(n=>R2(n,t))}function ce(...e){return h.useCallback(Ed(...e),e)}const fn=h.forwardRef((e,t)=>{const{children:n,...r}=e,s=h.Children.toArray(n),o=s.find(O2);if(o){const i=o.props.children,l=s.map(c=>c===o?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return h.createElement(ru,O({},r,{ref:t}),h.isValidElement(i)?h.cloneElement(i,void 0,l):null)}return h.createElement(ru,O({},r,{ref:t}),n)});fn.displayName="Slot";const ru=h.forwardRef((e,t)=>{const{children:n,...r}=e;return h.isValidElement(n)?h.cloneElement(n,{...I2(r,n.props),ref:t?Ed(t,n.ref):n.ref}):h.Children.count(n)>1?h.Children.only(null):null});ru.displayName="SlotClone";const A2=({children:e})=>h.createElement(h.Fragment,null,e);function O2(e){return h.isValidElement(e)&&e.type===A2}function I2(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{o(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function H0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=H0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function q0(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=H0(e))&&(r&&(r+=" "),r+=t);return r}const Kh=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Gh=q0,Cd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Gh(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const p=Kh(d)||Kh(f);return s[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...g}=d;return Object.entries(g).every(y=>{let[w,b]=y;return Array.isArray(b)?b.includes({...o,...l}[w]):{...o,...l}[w]===b})?[...u,f,p]:u},[]);return Gh(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},Nd="-",D2=e=>{const t=L2(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(Nd);return l[0]===""&&l.length!==1&&l.shift(),K0(l,t)||M2(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},K0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?K0(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Nd);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Yh=/^\[(.+)\]$/,M2=e=>{if(Yh.test(e)){const t=Yh.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},L2=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return F2(Object.entries(e.classGroups),n).forEach(([o,i])=>{su(i,r,o,t)}),r},su=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Xh(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(U2(s)){su(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{su(i,Xh(t,o),n,r)})})},Xh=(e,t)=>{let n=e;return t.split(Nd).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},U2=e=>e.isThemeGetter,F2=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[n,s]}):e,z2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},G0="!",B2=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let m=l[b];if(u===0){if(m===s&&(r||l.slice(b,b+o)===t)){c.push(l.slice(d,b)),d=b+o;continue}if(m==="/"){f=b;continue}}m==="["?u++:m==="]"&&u--}const p=c.length===0?l:l.substring(d),g=p.startsWith(G0),y=g?p.substring(1):p,w=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:w}};return n?l=>n({className:l,parseClassName:i}):i},V2=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},W2=e=>({cache:z2(e.cacheSize),parseClassName:B2(e),...D2(e)}),H2=/\s+/,q2=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(H2);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:g}=n(u);let y=!!g,w=r(y?p.substring(0,g):p);if(!w){if(!y){l=u+(l.length>0?" "+l:l);continue}if(w=r(p),!w){l=u+(l.length>0?" "+l:l);continue}y=!1}const b=V2(d).join(":"),m=f?b+G0:b,x=m+w;if(o.includes(x))continue;o.push(x);const v=s(w,y);for(let _=0;_<v.length;++_){const j=v[_];o.push(m+j)}l=u+(l.length>0?" "+l:l)}return l};function K2(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Y0(t))&&(r&&(r+=" "),r+=n);return r}const Y0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Y0(e[r]))&&(n&&(n+=" "),n+=t);return n};function G2(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=W2(u),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=q2(c,n);return s(c,d),d}return function(){return o(K2.apply(null,arguments))}}const he=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},X0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Y2=/^\d+\/\d+$/,X2=new Set(["px","full","screen"]),Q2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,J2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Z2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ej=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jt=e=>is(e)||X2.has(e)||Y2.test(e),_n=e=>Es(e,"length",cj),is=e=>!!e&&!Number.isNaN(Number(e)),Ul=e=>Es(e,"number",is),zs=e=>!!e&&Number.isInteger(Number(e)),nj=e=>e.endsWith("%")&&is(e.slice(0,-1)),G=e=>X0.test(e),jn=e=>Q2.test(e),rj=new Set(["length","size","percentage"]),sj=e=>Es(e,rj,Q0),oj=e=>Es(e,"position",Q0),ij=new Set(["image","url"]),aj=e=>Es(e,ij,dj),lj=e=>Es(e,"",uj),Bs=()=>!0,Es=(e,t,n)=>{const r=X0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},cj=e=>J2.test(e)&&!Z2.test(e),Q0=()=>!1,uj=e=>ej.test(e),dj=e=>tj.test(e),fj=()=>{const e=he("colors"),t=he("spacing"),n=he("blur"),r=he("brightness"),s=he("borderColor"),o=he("borderRadius"),i=he("borderSpacing"),l=he("borderWidth"),c=he("contrast"),u=he("grayscale"),d=he("hueRotate"),f=he("invert"),p=he("gap"),g=he("gradientColorStops"),y=he("gradientColorStopPositions"),w=he("inset"),b=he("margin"),m=he("opacity"),x=he("padding"),v=he("saturate"),_=he("scale"),j=he("sepia"),E=he("skew"),S=he("space"),k=he("translate"),$=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",G,t],A=()=>[G,t],D=()=>["",Jt,_n],N=()=>["auto",is,G],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",G],M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[is,G];return{cacheSize:500,separator:":",theme:{colors:[Bs],spacing:[Jt,_n],blur:["none","",jn,G],brightness:B(),borderColor:[e],borderRadius:["none","","full",jn,G],borderSpacing:A(),borderWidth:D(),contrast:B(),grayscale:P(),hueRotate:B(),invert:P(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[nj,_n],inset:I(),margin:I(),opacity:B(),padding:A(),saturate:B(),scale:B(),sepia:P(),skew:B(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",G]}],container:["container"],columns:[{columns:[jn]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),G]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zs,G]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",G]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",zs,G]}],"grid-cols":[{"grid-cols":[Bs]}],"col-start-end":[{col:["auto",{span:["full",zs,G]},G]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[Bs]}],"row-start-end":[{row:["auto",{span:[zs,G]},G]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",G]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",G]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",G,t]}],"min-w":[{"min-w":[G,t,"min","max","fit"]}],"max-w":[{"max-w":[G,t,"none","full","min","max","fit","prose",{screen:[jn]},jn]}],h:[{h:[G,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[G,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[G,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[G,t,"auto","min","max","fit"]}],"font-size":[{text:["base",jn,_n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ul]}],"font-family":[{font:[Bs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",G]}],"line-clamp":[{"line-clamp":["none",is,Ul]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jt,G]}],"list-image":[{"list-image":["none",G]}],"list-style-type":[{list:["none","disc","decimal",G]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jt,_n]}],"underline-offset":[{"underline-offset":["auto",Jt,G]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),oj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aj]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:F()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[Jt,G]}],"outline-w":[{outline:[Jt,_n]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Jt,_n]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",jn,lj]}],"shadow-color":[{shadow:[Bs]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",jn,G]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",G]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",G]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",G]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[zs,G]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Jt,_n,Ul]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hj=G2(fj);function J(...e){return hj(q0(e))}const pj=Cd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),ee=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?fn:"button";return a.jsx(i,{"data-slot":"button",className:J(pj({variant:t,size:n,className:e})),ref:o,...s})});ee.displayName="Button";function He({className:e,type:t,...n}){return a.jsx("input",{type:t,"data-slot":"input",className:J("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}const mj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Y=mj.reduce((e,t)=>{const n=h.forwardRef((r,s)=>{const{asChild:o,...i}=r,l=o?fn:t;return h.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),h.createElement(l,O({},i,{ref:s}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function J0(e,t){e&&kr.flushSync(()=>e.dispatchEvent(t))}const gj=h.forwardRef((e,t)=>h.createElement(Y.label,O({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),vj=gj;function Pt({className:e,...t}){return a.jsx(vj,{"data-slot":"label",className:J("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Fe({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:J("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function et({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:J("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function tt({className:e,...t}){return a.jsx("h4",{"data-slot":"card-title",className:J("leading-none",e),...t})}function ut({className:e,...t}){return a.jsx("p",{"data-slot":"card-description",className:J("text-muted-foreground",e),...t})}function ze({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:J("px-6 [&:last-child]:pb-6",e),...t})}const yj=Cd("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ia({className:e,variant:t,...n}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:J(yj({variant:t}),e),...n})}function aa({className:e,...t}){return a.jsx("div",{"data-slot":"alert-description",className:J("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const xj=()=>{const[e,t]=h.useState(!1),[n,r]=h.useState(""),[s,o]=h.useState(""),[i,l]=h.useState(null),[c,u]=h.useState(!1),[d,f]=h.useState(null),{signIn:p,signUp:g}=Jn(),y=async w=>{w.preventDefault(),l(null),f(null),u(!0);try{if(e){const{error:b}=await g(n,s);b?l(b.message):f("確認メールを送信しました。メールを確認してアカウントを有効化してください。")}else{const{error:b}=await p(n,s);b&&l(b.message)}}catch{l("予期しないエラーが発生しました。")}finally{u(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"システム設計アシスタント"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e?"新しいアカウントを作成":"アカウントにサインイン"})]}),a.jsxs(Fe,{children:[a.jsxs(et,{children:[a.jsx(tt,{children:e?"新規登録":"ログイン"}),a.jsx(ut,{children:e?"新しいアカウントを作成してプロジェクトを開始しましょう":"既存のアカウントでログインしてください"})]}),a.jsxs(ze,{children:[a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[i&&a.jsx(ia,{variant:"destructive",children:a.jsx(aa,{children:i})}),d&&a.jsx(ia,{children:a.jsx(aa,{children:d})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"email",children:"メールアドレス"}),a.jsx(He,{id:"email",type:"email",value:n,onChange:w=>r(w.target.value),required:!0,placeholder:"your@email.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"password",children:"パスワード"}),a.jsx(He,{id:"password",type:"password",value:s,onChange:w=>o(w.target.value),required:!0,placeholder:"パスワードを入力"})]}),a.jsx(ee,{type:"submit",className:"w-full",disabled:c,children:c?"処理中...":e?"新規登録":"ログイン"})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("button",{type:"button",onClick:()=>{t(!e),l(null),f(null)},className:"text-sm text-blue-600 hover:text-blue-500",children:e?"既にアカウントをお持ちですか？ログイン":"アカウントをお持ちでないですか？新規登録"})})]})]})]})})},Qh=({children:e})=>{const{user:t,loading:n}=Jn();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"読み込み中..."})]})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(xj,{})};function V(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function jt(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:p,children:g,...y}=f,w=(p==null?void 0:p[e][c])||l,b=h.useMemo(()=>y,Object.values(y));return h.createElement(w.Provider,{value:b},g)}function d(f,p){const g=(p==null?void 0:p[e][c])||l,y=h.useContext(g);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,wj(s,...t)]}function wj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}const Ke=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},bj=tm["useId".toString()]||(()=>{});let _j=0;function At(e){const[t,n]=h.useState(bj());return Ke(()=>{e||n(r=>r??String(_j++))},[e]),e||(t?`radix-${t}`:"")}function It(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function Kt({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=jj({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,l=It(n),c=h.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[o,e,s,l]);return[i,c]}function jj({defaultProp:e,onChange:t}){const n=h.useState(e),[r]=n,s=h.useRef(r),o=It(t);return h.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}function $j(e,t=globalThis==null?void 0:globalThis.document){const n=It(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const ou="dismissableLayer.update",kj="dismissableLayer.pointerDownOutside",Sj="dismissableLayer.focusOutside";let Jh;const Ej=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pd=h.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...u}=e,d=h.useContext(Ej),[f,p]=h.useState(null),g=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,y]=h.useState({}),w=ce(t,k=>p(k)),b=Array.from(d.layers),[m]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=b.indexOf(m),v=f?b.indexOf(f):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,j=v>=x,E=Cj(k=>{const $=k.target,C=[...d.branches].some(I=>I.contains($));!j||C||(o==null||o(k),l==null||l(k),k.defaultPrevented||c==null||c())},g),S=Nj(k=>{const $=k.target;[...d.branches].some(I=>I.contains($))||(i==null||i(k),l==null||l(k),k.defaultPrevented||c==null||c())},g);return $j(k=>{v===d.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&c&&(k.preventDefault(),c()))},g),h.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Jh=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),Zh(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Jh)}},[f,g,r,d]),h.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),Zh())},[f,d]),h.useEffect(()=>{const k=()=>y({});return document.addEventListener(ou,k),()=>document.removeEventListener(ou,k)},[]),h.createElement(Y.div,O({},u,{ref:w,style:{pointerEvents:_?j?"auto":"none":void 0,...e.style},onFocusCapture:V(e.onFocusCapture,S.onFocusCapture),onBlurCapture:V(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:V(e.onPointerDownCapture,E.onPointerDownCapture)}))});function Cj(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let d=function(){Z0(kj,n,u,{discrete:!0})};var c=d;const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Nj(e,t=globalThis==null?void 0:globalThis.document){const n=It(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&Z0(Sj,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zh(){const e=new CustomEvent(ou);document.dispatchEvent(e)}function Z0(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?J0(s,o):s.dispatchEvent(o)}const Fl="focusScope.autoFocusOnMount",zl="focusScope.autoFocusOnUnmount",ep={bubbles:!1,cancelable:!0},Td=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),u=It(s),d=It(o),f=h.useRef(null),p=ce(t,w=>c(w)),g=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let x=function(E){if(g.paused||!l)return;const S=E.target;l.contains(S)?f.current=S:kn(f.current,{select:!0})},v=function(E){if(g.paused||!l)return;const S=E.relatedTarget;S!==null&&(l.contains(S)||kn(f.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const k of E)k.removedNodes.length>0&&kn(l)};var w=x,b=v,m=_;document.addEventListener("focusin",x),document.addEventListener("focusout",v);const j=new MutationObserver(_);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),j.disconnect()}}},[r,l,g.paused]),h.useEffect(()=>{if(l){np.add(g);const w=document.activeElement;if(!l.contains(w)){const m=new CustomEvent(Fl,ep);l.addEventListener(Fl,u),l.dispatchEvent(m),m.defaultPrevented||(Pj(Ij(ev(l)),{select:!0}),document.activeElement===w&&kn(l))}return()=>{l.removeEventListener(Fl,u),setTimeout(()=>{const m=new CustomEvent(zl,ep);l.addEventListener(zl,d),l.dispatchEvent(m),m.defaultPrevented||kn(w??document.body,{select:!0}),l.removeEventListener(zl,d),np.remove(g)},0)}}},[l,u,d,g]);const y=h.useCallback(w=>{if(!n&&!r||g.paused)return;const b=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,m=document.activeElement;if(b&&m){const x=w.currentTarget,[v,_]=Tj(x);v&&_?!w.shiftKey&&m===_?(w.preventDefault(),n&&kn(v,{select:!0})):w.shiftKey&&m===v&&(w.preventDefault(),n&&kn(_,{select:!0})):m===x&&w.preventDefault()}},[n,r,g.paused]);return h.createElement(Y.div,O({tabIndex:-1},i,{ref:p,onKeyDown:y}))});function Pj(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(kn(r,{select:t}),document.activeElement!==n)return}function Tj(e){const t=ev(e),n=tp(t,e),r=tp(t.reverse(),e);return[n,r]}function ev(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tp(e,t){for(const n of e)if(!Rj(n,{upTo:t}))return n}function Rj(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Aj(e){return e instanceof HTMLInputElement&&"select"in e}function kn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Aj(e)&&t&&e.select()}}const np=Oj();function Oj(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=rp(e,t),e.unshift(t)},remove(t){var n;e=rp(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function rp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Ij(e){return e.filter(t=>t.tagName!=="A")}const tv=h.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=e;return r?u1.createPortal(h.createElement(Y.div,O({},s,{ref:t})),r):null});function Dj(e,t){return h.useReducer((n,r)=>{const s=t[n][r];return s??n},e)}const Zn=e=>{const{present:t,children:n}=e,r=Mj(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=ce(r.ref,s.ref);return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};Zn.displayName="Presence";function Mj(e){const[t,n]=h.useState(),r=h.useRef({}),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Dj(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=ui(r.current);o.current=l==="mounted"?u:"none"},[l]),Ke(()=>{const u=r.current,d=s.current;if(d!==e){const p=o.current,g=ui(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ke(()=>{if(t){const u=f=>{const g=ui(r.current).includes(f.animationName);f.target===t&&g&&kr.flushSync(()=>c("ANIMATION_END"))},d=f=>{f.target===t&&(o.current=ui(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function ui(e){return(e==null?void 0:e.animationName)||"none"}let Bl=0;function Rd(){h.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:sp()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:sp()),Bl++,()=>{Bl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Bl--}},[])}function sp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Bt=function(){return Bt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Bt.apply(this,arguments)};function nv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Lj(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Pi="right-scroll-bar-position",Ti="width-before-scroll-bar",Uj="with-scroll-bars-hidden",Fj="--removed-body-scroll-bar-size";function Vl(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function zj(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var Bj=typeof window<"u"?h.useLayoutEffect:h.useEffect,op=new WeakMap;function Vj(e,t){var n=zj(t||null,function(r){return e.forEach(function(s){return Vl(s,r)})});return Bj(function(){var r=op.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||Vl(l,null)}),o.forEach(function(l){s.has(l)||Vl(l,i)})}op.set(n,e)},[e]),n}function Wj(e){return e}function Hj(e,t){t===void 0&&(t=Wj);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function qj(e){e===void 0&&(e={});var t=Hj(null);return t.options=Bt({async:!0,ssr:!1},e),t}var rv=function(e){var t=e.sideCar,n=nv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Bt({},n))};rv.isSideCarExport=!0;function Kj(e,t){return e.useMedium(t),rv}var sv=qj(),Wl=function(){},Va=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Wl,onWheelCapture:Wl,onTouchMoveCapture:Wl}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,g=e.noIsolation,y=e.inert,w=e.allowPinchZoom,b=e.as,m=b===void 0?"div":b,x=nv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),v=p,_=Vj([n,t]),j=Bt(Bt({},x),s);return h.createElement(h.Fragment,null,d&&h.createElement(v,{sideCar:sv,removeScrollBar:u,shards:f,noIsolation:g,inert:y,setCallbacks:o,allowPinchZoom:!!w,lockRef:n}),i?h.cloneElement(h.Children.only(l),Bt(Bt({},j),{ref:_})):h.createElement(m,Bt({},j,{className:c,ref:_}),l))});Va.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Va.classNames={fullWidth:Ti,zeroRight:Pi};var ip,Gj=function(){if(ip)return ip;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Yj(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Gj();return t&&e.setAttribute("nonce",t),e}function Xj(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Qj(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Jj=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Yj())&&(Xj(t,n),Qj(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zj=function(){var e=Jj();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ov=function(){var e=Zj(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},e$={left:0,top:0,right:0,gap:0},Hl=function(e){return parseInt(e||"",10)||0},t$=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Hl(n),Hl(r),Hl(s)]},n$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return e$;var t=t$(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},r$=ov(),as="data-scroll-locked",s$=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Uj,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(as,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pi,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ti,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Pi," .").concat(Pi,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ti," .").concat(Ti,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(as,`] {
    `).concat(Fj,": ").concat(l,`px;
  }
`)},ap=function(){var e=parseInt(document.body.getAttribute(as)||"0",10);return isFinite(e)?e:0},o$=function(){h.useEffect(function(){return document.body.setAttribute(as,(ap()+1).toString()),function(){var e=ap()-1;e<=0?document.body.removeAttribute(as):document.body.setAttribute(as,e.toString())}},[])},i$=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;o$();var o=h.useMemo(function(){return n$(s)},[s]);return h.createElement(r$,{styles:s$(o,!t,s,n?"":"!important")})},iu=!1;if(typeof window<"u")try{var di=Object.defineProperty({},"passive",{get:function(){return iu=!0,!0}});window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{iu=!1}var Mr=iu?{passive:!1}:!1,a$=function(e){return e.tagName==="TEXTAREA"},iv=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!a$(e)&&n[t]==="visible")},l$=function(e){return iv(e,"overflowY")},c$=function(e){return iv(e,"overflowX")},lp=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=av(e,n);if(r){var s=lv(e,n),o=s[1],i=s[2];if(o>i)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},u$=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},d$=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},av=function(e,t){return e==="v"?l$(t):c$(t)},lv=function(e,t){return e==="v"?u$(t):d$(t)},f$=function(e,t){return e==="h"&&t==="rtl"?-1:1},h$=function(e,t,n,r,s){var o=f$(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,p=0;do{var g=lv(e,l),y=g[0],w=g[1],b=g[2],m=w-b-o*y;(y||m)&&av(e,l)&&(f+=m,p+=y),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&f===0||!s&&i>f)||!d&&(s&&p===0||!s&&-i>p))&&(u=!0),u},fi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cp=function(e){return[e.deltaX,e.deltaY]},up=function(e){return e&&"current"in e?e.current:e},p$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},m$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},g$=0,Lr=[];function v$(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(g$++)[0],o=h.useState(function(){return ov()})[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=Lj([e.lockRef.current],(e.shards||[]).map(up),!0).filter(Boolean);return w.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(w,b){if("touches"in w&&w.touches.length===2)return!i.current.allowPinchZoom;var m=fi(w),x=n.current,v="deltaX"in w?w.deltaX:x[0]-m[0],_="deltaY"in w?w.deltaY:x[1]-m[1],j,E=w.target,S=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in w&&S==="h"&&E.type==="range")return!1;var k=lp(S,E);if(!k)return!0;if(k?j=S:(j=S==="v"?"h":"v",k=lp(S,E)),!k)return!1;if(!r.current&&"changedTouches"in w&&(v||_)&&(r.current=j),!j)return!0;var $=r.current||j;return h$($,b,w,$==="h"?v:_,!0)},[]),c=h.useCallback(function(w){var b=w;if(!(!Lr.length||Lr[Lr.length-1]!==o)){var m="deltaY"in b?cp(b):fi(b),x=t.current.filter(function(j){return j.name===b.type&&j.target===b.target&&p$(j.delta,m)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var v=(i.current.shards||[]).map(up).filter(Boolean).filter(function(j){return j.contains(b.target)}),_=v.length>0?l(b,v[0]):!i.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=h.useCallback(function(w,b,m,x){var v={name:w,delta:b,target:m,should:x};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),d=h.useCallback(function(w){n.current=fi(w),r.current=void 0},[]),f=h.useCallback(function(w){u(w.type,cp(w),w.target,l(w,e.lockRef.current))},[]),p=h.useCallback(function(w){u(w.type,fi(w),w.target,l(w,e.lockRef.current))},[]);h.useEffect(function(){return Lr.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Mr),document.addEventListener("touchmove",c,Mr),document.addEventListener("touchstart",d,Mr),function(){Lr=Lr.filter(function(w){return w!==o}),document.removeEventListener("wheel",c,Mr),document.removeEventListener("touchmove",c,Mr),document.removeEventListener("touchstart",d,Mr)}},[]);var g=e.removeScrollBar,y=e.inert;return h.createElement(h.Fragment,null,y?h.createElement(o,{styles:m$(s)}):null,g?h.createElement(i$,{gapMode:"margin"}):null)}const y$=Kj(sv,v$);var cv=h.forwardRef(function(e,t){return h.createElement(Va,Bt({},e,{ref:t,sideCar:y$}))});cv.classNames=Va.classNames;const Ad=cv;var x$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ur=new WeakMap,hi=new WeakMap,pi={},ql=0,uv=function(e){return e&&(e.host||uv(e.parentNode))},w$=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=uv(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},b$=function(e,t,n,r){var s=w$(t,Array.isArray(e)?e:[e]);pi[n]||(pi[n]=new WeakMap);var o=pi[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var g=p.getAttribute(r),y=g!==null&&g!=="false",w=(Ur.get(p)||0)+1,b=(o.get(p)||0)+1;Ur.set(p,w),o.set(p,b),i.push(p),w===1&&y&&hi.set(p,!0),b===1&&p.setAttribute(n,"true"),y||p.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",p,m)}})};return d(t),l.clear(),ql++,function(){i.forEach(function(f){var p=Ur.get(f)-1,g=o.get(f)-1;Ur.set(f,p),o.set(f,g),p||(hi.has(f)||f.removeAttribute(r),hi.delete(f)),g||f.removeAttribute(n)}),ql--,ql||(Ur=new WeakMap,Ur=new WeakMap,hi=new WeakMap,pi={})}},Od=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||x$(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),b$(r,s,n,"aria-hidden")):function(){return null}};const dv="Dialog",[fv,wP]=jt(dv),[_$,Lt]=fv(dv),j$=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[u=!1,d]=Kt({prop:r,defaultProp:s,onChange:o});return h.createElement(_$,{scope:t,triggerRef:l,contentRef:c,contentId:At(),titleId:At(),descriptionId:At(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i},n)},$$="DialogTrigger",k$=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Lt($$,n),o=ce(t,s.triggerRef);return h.createElement(Y.button,O({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Id(s.open)},r,{ref:o,onClick:V(e.onClick,s.onOpenToggle)}))}),hv="DialogPortal",[S$,pv]=fv(hv,{forceMount:void 0}),E$=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Lt(hv,t);return h.createElement(S$,{scope:t,forceMount:n},h.Children.map(r,i=>h.createElement(Zn,{present:n||o.open},h.createElement(tv,{asChild:!0,container:s},i))))},au="DialogOverlay",C$=h.forwardRef((e,t)=>{const n=pv(au,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Lt(au,e.__scopeDialog);return o.modal?h.createElement(Zn,{present:r||o.open},h.createElement(N$,O({},s,{ref:t}))):null}),N$=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Lt(au,n);return h.createElement(Ad,{as:fn,allowPinchZoom:!0,shards:[s.contentRef]},h.createElement(Y.div,O({"data-state":Id(s.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),Eo="DialogContent",P$=h.forwardRef((e,t)=>{const n=pv(Eo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Lt(Eo,e.__scopeDialog);return h.createElement(Zn,{present:r||o.open},o.modal?h.createElement(T$,O({},s,{ref:t})):h.createElement(R$,O({},s,{ref:t})))}),T$=h.forwardRef((e,t)=>{const n=Lt(Eo,e.__scopeDialog),r=h.useRef(null),s=ce(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return Od(o)},[]),h.createElement(mv,O({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:V(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:V(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:V(e.onFocusOutside,o=>o.preventDefault())}))}),R$=h.forwardRef((e,t)=>{const n=Lt(Eo,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return h.createElement(mv,O({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,o),!o.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),o.preventDefault()}r.current=!1,s.current=!1},onInteractOutside:o=>{var i,l;(i=e.onInteractOutside)===null||i===void 0||i.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}}))}),mv=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Lt(Eo,n),c=h.useRef(null),u=ce(t,c);return Rd(),h.createElement(h.Fragment,null,h.createElement(Td,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o},h.createElement(Pd,O({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Id(l.open)},i,{ref:u,onDismiss:()=>l.onOpenChange(!1)}))),!1)}),A$="DialogTitle",O$=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Lt(A$,n);return h.createElement(Y.h2,O({id:s.titleId},r,{ref:t}))}),I$="DialogDescription",D$=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Lt(I$,n);return h.createElement(Y.p,O({id:s.descriptionId},r,{ref:t}))}),M$="DialogClose",L$=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Lt(M$,n);return h.createElement(Y.button,O({type:"button"},r,{ref:t,onClick:V(e.onClick,()=>s.onOpenChange(!1))}))});function Id(e){return e?"open":"closed"}const U$=j$,F$=k$,z$=E$,B$=C$,V$=P$,W$=O$,H$=D$,gv=L$;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),dp=e=>{const t=K$(e);return t.charAt(0).toUpperCase()+t.slice(1)},vv=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...G$,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:vv("lucide",s),...l},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=(e,t)=>{const n=h.forwardRef(({className:r,...s},o)=>h.createElement(Y$,{ref:o,iconNode:t,className:vv(`lucide-${q$(dp(e))}`,`lucide-${e}`,r),...s}));return n.displayName=dp(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Q$=q("bell",X$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Z$=q("book-open",J$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dd=q("check",ek);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Md=q("chevron-down",tk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fp=q("chevron-left",nk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hp=q("chevron-right",rk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ok=q("chevron-up",sk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],We=q("circle-check-big",ik);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lu=q("circle-help",ak);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],oo=q("circle-x",lk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],uk=q("clock",ck);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],Ld=q("code",dk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],hk=q("crown",fk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ud=q("download",pk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],gk=q("external-link",mk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],yk=q("file-check",vk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],wk=q("file-code",xk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Gt=q("file-text",bk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]],jk=q("files",_k);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],yv=q("layers",$k);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],la=q("layout-dashboard",kk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Ek=q("lightbulb",Sk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nk=q("loader-circle",Ck);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Tk=q("log-out",Pk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ak=q("mail",Rk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],xv=q("message-circle",Ok);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],wv=q("palette",Ik);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Fd=q("panels-top-left",Dk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Co=q("plus",Mk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Uk=q("refresh-cw",Lk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],bv=q("search",Fk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zd=q("settings",zk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_v=q("shield",Bk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wk=q("square-check-big",Vk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],qk=q("square-pen",Hk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Wa=q("target",Kk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Bd=q("trash-2",Gk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Xk=q("trending-up",Yk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jv=q("triangle-alert",Qk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Zk=q("upload",Jk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],tS=q("user-plus",eS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ca=q("user",nS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Vd=q("users",rS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],oS=q("workflow",sS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$v=q("x",iS),hn=h.forwardRef((e,t)=>a.jsx(U$,{"data-slot":"dialog",ref:t,...e}));hn.displayName="Dialog";const ua=h.forwardRef((e,t)=>a.jsx(F$,{"data-slot":"dialog-trigger",ref:t,...e}));ua.displayName="DialogTrigger";const kv=h.forwardRef((e,t)=>a.jsx(z$,{"data-slot":"dialog-portal",ref:t,...e}));kv.displayName="DialogPortal";const aS=h.forwardRef((e,t)=>a.jsx(gv,{"data-slot":"dialog-close",ref:t,...e}));aS.displayName="DialogClose";const Sv=h.forwardRef(({className:e,...t},n)=>a.jsx(B$,{"data-slot":"dialog-overlay",ref:n,className:J("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));Sv.displayName="DialogOverlay";const pn=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(kv,{"data-slot":"dialog-portal",children:[a.jsx(Sv,{}),a.jsxs(V$,{"data-slot":"dialog-content",ref:r,className:J("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,a.jsxs(gv,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx($v,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pn.displayName="DialogContent";const mn=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{"data-slot":"dialog-header",ref:n,className:J("flex flex-col gap-2 text-center sm:text-left",e),...t}));mn.displayName="DialogHeader";const Wd=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{"data-slot":"dialog-footer",ref:n,className:J("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t}));Wd.displayName="DialogFooter";const gn=h.forwardRef(({className:e,...t},n)=>a.jsx(W$,{"data-slot":"dialog-title",ref:n,className:J("text-lg leading-none font-semibold",e),...t}));gn.displayName="DialogTitle";const vs=h.forwardRef(({className:e,...t},n)=>a.jsx(H$,{"data-slot":"dialog-description",ref:n,className:J("text-muted-foreground text-sm",e),...t}));vs.displayName="DialogDescription";const lS=({children:e})=>{const{projects:t,currentProject:n,loading:r,createProject:s,selectProject:o}=Uo(),{signOut:i,user:l}=Jn(),[c,u]=h.useState(!1),[d,f]=h.useState(""),[p,g]=h.useState(""),[y,w]=h.useState(!1),[b,m]=h.useState(null),x=async v=>{if(v.preventDefault(),!!d.trim()){w(!0),m(null);try{const{error:_}=await s(d.trim(),p.trim());_?m(_.message):(u(!1),f(""),g(""))}catch{m("プロジェクトの作成に失敗しました。")}finally{w(!1)}}};return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"プロジェクトを読み込み中..."})]})}):n?a.jsx(a.Fragment,{children:e}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"プロジェクトを選択"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"作業するプロジェクトを選択するか、新しいプロジェクトを作成してください"})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsxs("p",{className:"text-sm text-blue-800",children:["デバッグ情報: プロジェクト数: ",t.length]}),t.map((v,_)=>a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[_+1,". ",v.name," (ID: ",v.id.slice(0,8),"...)"]},v.id))]}),a.jsxs(Fe,{children:[a.jsxs(et,{children:[a.jsx(tt,{children:"プロジェクト一覧"}),a.jsx(ut,{children:"あなたのプロジェクトを管理します"})]}),a.jsxs(ze,{className:"space-y-4",children:[t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-500 mb-4",children:"プロジェクトがありません"}),a.jsxs(hn,{open:c,onOpenChange:u,children:[a.jsx(ua,{asChild:!0,children:a.jsx(ee,{children:"新しいプロジェクトを作成"})}),a.jsxs(pn,{children:[a.jsxs(mn,{children:[a.jsx(gn,{children:"新しいプロジェクトを作成"}),a.jsx(vs,{children:"プロジェクトの基本情報を入力してください"})]}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[b&&a.jsx(ia,{variant:"destructive",children:a.jsx(aa,{children:b})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"project-name",children:"プロジェクト名"}),a.jsx(He,{id:"project-name",value:d,onChange:v=>f(v.target.value),placeholder:"プロジェクト名を入力",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"project-description",children:"説明（任意）"}),a.jsx(He,{id:"project-description",value:p,onChange:v=>g(v.target.value),placeholder:"プロジェクトの説明"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(ee,{type:"button",variant:"outline",onClick:()=>u(!1),children:"キャンセル"}),a.jsx(ee,{type:"submit",disabled:y,children:y?"作成中...":"作成"})]})]})]})]})]}):a.jsxs("div",{className:"space-y-3",children:[t.map(v=>a.jsxs("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>o(v),children:[a.jsx("h3",{className:"font-medium text-gray-900",children:v.name}),v.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:v.description}),a.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["作成日: ",new Date(v.created_at).toLocaleDateString("ja-JP")]}),a.jsx("p",{className:"text-xs text-blue-500 mt-1",children:v.owner_id===(l==null?void 0:l.id)?"オーナー":"メンバー"})]},v.id)),a.jsxs(hn,{open:c,onOpenChange:u,children:[a.jsx(ua,{asChild:!0,children:a.jsx(ee,{variant:"outline",className:"w-full",children:"新しいプロジェクトを作成"})}),a.jsxs(pn,{children:[a.jsxs(mn,{children:[a.jsx(gn,{children:"新しいプロジェクトを作成"}),a.jsx(vs,{children:"プロジェクトの基本情報を入力してください"})]}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[b&&a.jsx(ia,{variant:"destructive",children:a.jsx(aa,{children:b})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"project-name",children:"プロジェクト名"}),a.jsx(He,{id:"project-name",value:d,onChange:v=>f(v.target.value),placeholder:"プロジェクト名を入力",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"project-description",children:"説明（任意）"}),a.jsx(He,{id:"project-description",value:p,onChange:v=>g(v.target.value),placeholder:"プロジェクトの説明"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(ee,{type:"button",variant:"outline",onClick:()=>u(!1),children:"キャンセル"}),a.jsx(ee,{type:"submit",disabled:y,children:y?"作成中...":"作成"})]})]})]})]})]}),a.jsx("div",{className:"pt-4 border-t",children:a.jsx("button",{onClick:i,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"ログアウト"})})]})]})]})})},Ev="Progress",Ha=100,[cS,bP]=jt(Ev),[uS,dS]=cS(Ev),Cv=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:r,max:s,getValueLabel:o=pS,...i}=e,l=cu(s)?s:Ha,c=Pv(r,l)?r:null,u=da(c)?o(c,l):void 0;return h.createElement(uS,{scope:n,value:c,max:l},h.createElement(Y.div,O({"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":da(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Nv(c,l),"data-value":c??void 0,"data-max":l},i,{ref:t})))});Cv.propTypes={max(e,t,n){const r=e[t],s=String(r);return r&&!cu(r)?new Error(mS(s,n)):null},value(e,t,n){const r=e[t],s=String(r),o=cu(e.max)?e.max:Ha;return r!=null&&!Pv(r,o)?new Error(gS(s,n)):null}};const fS="ProgressIndicator",hS=h.forwardRef((e,t)=>{var n;const{__scopeProgress:r,...s}=e,o=dS(fS,r);return h.createElement(Y.div,O({"data-state":Nv(o.value,o.max),"data-value":(n=o.value)!==null&&n!==void 0?n:void 0,"data-max":o.max},s,{ref:t}))});function pS(e,t){return`${Math.round(e/t*100)}%`}function Nv(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function da(e){return typeof e=="number"}function cu(e){return da(e)&&!isNaN(e)&&e>0}function Pv(e,t){return da(e)&&!isNaN(e)&&e<=t&&e>=0}function mS(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ha}\`.`}function gS(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ha} if no \`max\` prop is set)
  - \`null\` if the progress is indeterminate.

Defaulting to \`null\`.`}const vS=Cv,yS=hS;function mi({className:e,value:t,...n}){return a.jsx(vS,{"data-slot":"progress",className:J("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:a.jsx(yS,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function qa(e){const t=e+"CollectionProvider",[n,r]=jt(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:y,children:w}=g,b=W.useRef(null),m=W.useRef(new Map).current;return W.createElement(s,{scope:y,itemMap:m,collectionRef:b},w)},l=e+"CollectionSlot",c=W.forwardRef((g,y)=>{const{scope:w,children:b}=g,m=o(l,w),x=ce(y,m.collectionRef);return W.createElement(fn,{ref:x},b)}),u=e+"CollectionItemSlot",d="data-radix-collection-item",f=W.forwardRef((g,y)=>{const{scope:w,children:b,...m}=g,x=W.useRef(null),v=ce(y,x),_=o(u,w);return W.useEffect(()=>(_.itemMap.set(x,{ref:x,...m}),()=>void _.itemMap.delete(x))),W.createElement(fn,{[d]:"",ref:v},b)});function p(g){const y=o(e+"CollectionConsumer",g);return W.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const m=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((_,j)=>m.indexOf(_.ref.current)-m.indexOf(j.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},p,r]}const xS=h.createContext(void 0);function Fo(e){const t=h.useContext(xS);return e||t||"ltr"}const wS=["top","right","bottom","left"],qn=Math.min,lt=Math.max,fa=Math.round,gi=Math.floor,qt=e=>({x:e,y:e}),bS={left:"right",right:"left",bottom:"top",top:"bottom"},_S={start:"end",end:"start"};function uu(e,t,n){return lt(e,qn(t,n))}function vn(e,t){return typeof e=="function"?e(t):e}function yn(e){return e.split("-")[0]}function Cs(e){return e.split("-")[1]}function Hd(e){return e==="x"?"y":"x"}function qd(e){return e==="y"?"height":"width"}const jS=new Set(["top","bottom"]);function Vt(e){return jS.has(yn(e))?"y":"x"}function Kd(e){return Hd(Vt(e))}function $S(e,t,n){n===void 0&&(n=!1);const r=Cs(e),s=Kd(e),o=qd(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=ha(i)),[i,ha(i)]}function kS(e){const t=ha(e);return[du(e),t,du(t)]}function du(e){return e.replace(/start|end/g,t=>_S[t])}const pp=["left","right"],mp=["right","left"],SS=["top","bottom"],ES=["bottom","top"];function CS(e,t,n){switch(e){case"top":case"bottom":return n?t?mp:pp:t?pp:mp;case"left":case"right":return t?SS:ES;default:return[]}}function NS(e,t,n,r){const s=Cs(e);let o=CS(yn(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(du)))),o}function ha(e){return e.replace(/left|right|bottom|top/g,t=>bS[t])}function PS(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tv(e){return typeof e!="number"?PS(e):{top:e,right:e,bottom:e,left:e}}function pa(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function gp(e,t,n){let{reference:r,floating:s}=e;const o=Vt(t),i=Kd(t),l=qd(i),c=yn(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Cs(t)){case"start":g[i]-=p*(n&&u?-1:1);break;case"end":g[i]+=p*(n&&u?-1:1);break}return g}const TS=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=gp(u,r,c),p=r,g={},y=0;for(let w=0;w<l.length;w++){const{name:b,fn:m}=l[w],{x,y:v,data:_,reset:j}=await m({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=x??d,f=v??f,g={...g,[b]:{...g[b],..._}},j&&y<=50&&(y++,typeof j=="object"&&(j.placement&&(p=j.placement),j.rects&&(u=j.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=gp(u,p,c)),w=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:g}};async function No(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:g=0}=vn(t,e),y=Tv(g),b=l[p?f==="floating"?"reference":"floating":f],m=pa(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},j=pa(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:v,strategy:c}):x);return{top:(m.top-j.top+y.top)/_.y,bottom:(j.bottom-m.bottom+y.bottom)/_.y,left:(m.left-j.left+y.left)/_.x,right:(j.right-m.right+y.right)/_.x}}const RS=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=vn(e,t)||{};if(u==null)return{};const f=Tv(d),p={x:n,y:r},g=Kd(s),y=qd(g),w=await i.getDimensions(u),b=g==="y",m=b?"top":"left",x=b?"bottom":"right",v=b?"clientHeight":"clientWidth",_=o.reference[y]+o.reference[g]-p[g]-o.floating[y],j=p[g]-o.reference[g],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let S=E?E[v]:0;(!S||!await(i.isElement==null?void 0:i.isElement(E)))&&(S=l.floating[v]||o.floating[y]);const k=_/2-j/2,$=S/2-w[y]/2-1,C=qn(f[m],$),I=qn(f[x],$),A=C,D=S-w[y]-I,N=S/2-w[y]/2+k,L=uu(A,N,D),F=!c.arrow&&Cs(s)!=null&&N!==L&&o.reference[y]/2-(N<A?C:I)-w[y]/2<0,X=F?N<A?N-A:N-D:0;return{[g]:p[g]+X,data:{[g]:L,centerOffset:N-L-X,...F&&{alignmentOffset:X}},reset:F}}}),AS=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...b}=vn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const m=yn(s),x=Vt(l),v=yn(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=p||(v||!w?[ha(l)]:kS(l)),E=y!=="none";!p&&E&&j.push(...NS(l,w,y,_));const S=[l,...j],k=await No(t,b),$=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&$.push(k[m]),f){const N=$S(s,i,_);$.push(k[N[0]],k[N[1]])}if(C=[...C,{placement:s,overflows:$}],!$.every(N=>N<=0)){var I,A;const N=(((I=o.flip)==null?void 0:I.index)||0)+1,L=S[N];if(L&&(!(f==="alignment"?x!==Vt(L):!1)||C.every(T=>T.overflows[0]>0&&Vt(T.placement)===x)))return{data:{index:N,overflows:C},reset:{placement:L}};let F=(A=C.filter(X=>X.overflows[0]<=0).sort((X,T)=>X.overflows[1]-T.overflows[1])[0])==null?void 0:A.placement;if(!F)switch(g){case"bestFit":{var D;const X=(D=C.filter(T=>{if(E){const P=Vt(T.placement);return P===x||P==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(P=>P>0).reduce((P,M)=>P+M,0)]).sort((T,P)=>T[1]-P[1])[0])==null?void 0:D[0];X&&(F=X);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}};function vp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yp(e){return wS.some(t=>e[t]>=0)}const OS=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=vn(e,t);switch(r){case"referenceHidden":{const o=await No(t,{...s,elementContext:"reference"}),i=vp(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:yp(i)}}}case"escaped":{const o=await No(t,{...s,altBoundary:!0}),i=vp(o,n.floating);return{data:{escapedOffsets:i,escaped:yp(i)}}}default:return{}}}}},Rv=new Set(["left","top"]);async function IS(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=yn(n),l=Cs(n),c=Vt(n)==="y",u=Rv.has(i)?-1:1,d=o&&c?-1:1,f=vn(t,e);let{mainAxis:p,crossAxis:g,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*d,y:p*u}:{x:p*u,y:g*d}}const DS=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await IS(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},MS=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:m,y:x}=b;return{x:m,y:x}}},...c}=vn(e,t),u={x:n,y:r},d=await No(t,c),f=Vt(yn(s)),p=Hd(f);let g=u[p],y=u[f];if(o){const b=p==="y"?"top":"left",m=p==="y"?"bottom":"right",x=g+d[b],v=g-d[m];g=uu(x,g,v)}if(i){const b=f==="y"?"top":"left",m=f==="y"?"bottom":"right",x=y+d[b],v=y-d[m];y=uu(x,y,v)}const w=l.fn({...t,[p]:g,[f]:y});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:o,[f]:i}}}}}},LS=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=vn(e,t),d={x:n,y:r},f=Vt(s),p=Hd(f);let g=d[p],y=d[f];const w=vn(l,t),b=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const v=p==="y"?"height":"width",_=o.reference[p]-o.floating[v]+b.mainAxis,j=o.reference[p]+o.reference[v]-b.mainAxis;g<_?g=_:g>j&&(g=j)}if(u){var m,x;const v=p==="y"?"width":"height",_=Rv.has(yn(s)),j=o.reference[f]-o.floating[v]+(_&&((m=i.offset)==null?void 0:m[f])||0)+(_?0:b.crossAxis),E=o.reference[f]+o.reference[v]+(_?0:((x=i.offset)==null?void 0:x[f])||0)-(_?b.crossAxis:0);y<j?y=j:y>E&&(y=E)}return{[p]:g,[f]:y}}}},US=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=vn(e,t),d=await No(t,u),f=yn(s),p=Cs(s),g=Vt(s)==="y",{width:y,height:w}=o.floating;let b,m;f==="top"||f==="bottom"?(b=f,m=p===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(m=f,b=p==="end"?"top":"bottom");const x=w-d.top-d.bottom,v=y-d.left-d.right,_=qn(w-d[b],x),j=qn(y-d[m],v),E=!t.middlewareData.shift;let S=_,k=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=x),E&&!p){const C=lt(d.left,0),I=lt(d.right,0),A=lt(d.top,0),D=lt(d.bottom,0);g?k=y-2*(C!==0||I!==0?C+I:lt(d.left,d.right)):S=w-2*(A!==0||D!==0?A+D:lt(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:S});const $=await i.getDimensions(l.floating);return y!==$.width||w!==$.height?{reset:{rects:!0}}:{}}}};function Ka(){return typeof window<"u"}function Ns(e){return Av(e)?(e.nodeName||"").toLowerCase():"#document"}function ft(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xt(e){var t;return(t=(Av(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Av(e){return Ka()?e instanceof Node||e instanceof ft(e).Node:!1}function Dt(e){return Ka()?e instanceof Element||e instanceof ft(e).Element:!1}function Yt(e){return Ka()?e instanceof HTMLElement||e instanceof ft(e).HTMLElement:!1}function xp(e){return!Ka()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ft(e).ShadowRoot}const FS=new Set(["inline","contents"]);function zo(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Mt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!FS.has(s)}const zS=new Set(["table","td","th"]);function BS(e){return zS.has(Ns(e))}const VS=[":popover-open",":modal"];function Ga(e){return VS.some(t=>{try{return e.matches(t)}catch{return!1}})}const WS=["transform","translate","scale","rotate","perspective"],HS=["transform","translate","scale","rotate","perspective","filter"],qS=["paint","layout","strict","content"];function Gd(e){const t=Yd(),n=Dt(e)?Mt(e):e;return WS.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||HS.some(r=>(n.willChange||"").includes(r))||qS.some(r=>(n.contain||"").includes(r))}function KS(e){let t=Kn(e);for(;Yt(t)&&!ys(t);){if(Gd(t))return t;if(Ga(t))return null;t=Kn(t)}return null}function Yd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GS=new Set(["html","body","#document"]);function ys(e){return GS.has(Ns(e))}function Mt(e){return ft(e).getComputedStyle(e)}function Ya(e){return Dt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Kn(e){if(Ns(e)==="html")return e;const t=e.assignedSlot||e.parentNode||xp(e)&&e.host||Xt(e);return xp(t)?t.host:t}function Ov(e){const t=Kn(e);return ys(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yt(t)&&zo(t)?t:Ov(t)}function Po(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Ov(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=ft(s);if(o){const l=fu(i);return t.concat(i,i.visualViewport||[],zo(s)?s:[],l&&n?Po(l):[])}return t.concat(s,Po(s,[],n))}function fu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Iv(e){const t=Mt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Yt(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=fa(n)!==o||fa(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Xd(e){return Dt(e)?e:e.contextElement}function ls(e){const t=Xd(e);if(!Yt(t))return qt(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Iv(t);let i=(o?fa(n.width):n.width)/r,l=(o?fa(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const YS=qt(0);function Dv(e){const t=ft(e);return!Yd()||!t.visualViewport?YS:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function XS(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ft(e)?!1:t}function _r(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Xd(e);let i=qt(1);t&&(r?Dt(r)&&(i=ls(r)):i=ls(e));const l=XS(o,n,r)?Dv(o):qt(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=ft(o),g=r&&Dt(r)?ft(r):r;let y=p,w=fu(y);for(;w&&r&&g!==y;){const b=ls(w),m=w.getBoundingClientRect(),x=Mt(w),v=m.left+(w.clientLeft+parseFloat(x.paddingLeft))*b.x,_=m.top+(w.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=v,u+=_,y=ft(w),w=fu(y)}}return pa({width:d,height:f,x:c,y:u})}function Qd(e,t){const n=Ya(e).scrollLeft;return t?t.left+n:_r(Xt(e)).left+n}function Mv(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Qd(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function QS(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Xt(r),l=t?Ga(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=qt(1);const d=qt(0),f=Yt(r);if((f||!f&&!o)&&((Ns(r)!=="body"||zo(i))&&(c=Ya(r)),Yt(r))){const g=_r(r);u=ls(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const p=i&&!f&&!o?Mv(i,c,!0):qt(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function JS(e){return Array.from(e.getClientRects())}function ZS(e){const t=Xt(e),n=Ya(e),r=e.ownerDocument.body,s=lt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=lt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Qd(e);const l=-n.scrollTop;return Mt(r).direction==="rtl"&&(i+=lt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}function eE(e,t){const n=ft(e),r=Xt(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Yd();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const tE=new Set(["absolute","fixed"]);function nE(e,t){const n=_r(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Yt(e)?ls(e):qt(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function wp(e,t,n){let r;if(t==="viewport")r=eE(e,n);else if(t==="document")r=ZS(Xt(e));else if(Dt(t))r=nE(t,n);else{const s=Dv(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return pa(r)}function Lv(e,t){const n=Kn(e);return n===t||!Dt(n)||ys(n)?!1:Mt(n).position==="fixed"||Lv(n,t)}function rE(e,t){const n=t.get(e);if(n)return n;let r=Po(e,[],!1).filter(l=>Dt(l)&&Ns(l)!=="body"),s=null;const o=Mt(e).position==="fixed";let i=o?Kn(e):e;for(;Dt(i)&&!ys(i);){const l=Mt(i),c=Gd(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&tE.has(s.position)||zo(i)&&!c&&Lv(e,i))?r=r.filter(d=>d!==i):s=l,i=Kn(i)}return t.set(e,r),r}function sE(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Ga(t)?[]:rE(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=wp(t,d,s);return u.top=lt(f.top,u.top),u.right=qn(f.right,u.right),u.bottom=qn(f.bottom,u.bottom),u.left=lt(f.left,u.left),u},wp(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function oE(e){const{width:t,height:n}=Iv(e);return{width:t,height:n}}function iE(e,t,n){const r=Yt(t),s=Xt(t),o=n==="fixed",i=_r(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=qt(0);function u(){c.x=Qd(s)}if(r||!r&&!o)if((Ns(t)!=="body"||zo(s))&&(l=Ya(t)),r){const g=_r(t,!0,o,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?Mv(s,l):qt(0),f=i.left+l.scrollLeft-c.x-d.x,p=i.top+l.scrollTop-c.y-d.y;return{x:f,y:p,width:i.width,height:i.height}}function Kl(e){return Mt(e).position==="static"}function bp(e,t){if(!Yt(e)||Mt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xt(e)===n&&(n=n.ownerDocument.body),n}function Uv(e,t){const n=ft(e);if(Ga(e))return n;if(!Yt(e)){let s=Kn(e);for(;s&&!ys(s);){if(Dt(s)&&!Kl(s))return s;s=Kn(s)}return n}let r=bp(e,t);for(;r&&BS(r)&&Kl(r);)r=bp(r,t);return r&&ys(r)&&Kl(r)&&!Gd(r)?n:r||KS(e)||n}const aE=async function(e){const t=this.getOffsetParent||Uv,n=this.getDimensions,r=await n(e.floating);return{reference:iE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lE(e){return Mt(e).direction==="rtl"}const cE={convertOffsetParentRelativeRectToViewportRelativeRect:QS,getDocumentElement:Xt,getClippingRect:sE,getOffsetParent:Uv,getElementRects:aE,getClientRects:JS,getDimensions:oE,getScale:ls,isElement:Dt,isRTL:lE};function Fv(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uE(e,t){let n=null,r;const s=Xt(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:g}=u;if(l||t(),!p||!g)return;const y=gi(f),w=gi(s.clientWidth-(d+p)),b=gi(s.clientHeight-(f+g)),m=gi(d),v={rootMargin:-y+"px "+-w+"px "+-b+"px "+-m+"px",threshold:lt(0,qn(1,c))||1};let _=!0;function j(E){const S=E[0].intersectionRatio;if(S!==c){if(!_)return i();S?i(!1,S):r=setTimeout(()=>{i(!1,1e-7)},1e3)}S===1&&!Fv(u,e.getBoundingClientRect())&&i(),_=!1}try{n=new IntersectionObserver(j,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,v)}n.observe(e)}return i(!0),o}function dE(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Xd(e),d=s||o?[...u?Po(u):[],...Po(t)]:[];d.forEach(m=>{s&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});const f=u&&l?uE(u,n):null;let p=-1,g=null;i&&(g=new ResizeObserver(m=>{let[x]=m;x&&x.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var v;(v=g)==null||v.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let y,w=c?_r(e):null;c&&b();function b(){const m=_r(e);w&&!Fv(w,m)&&n(),w=m,y=requestAnimationFrame(b)}return n(),()=>{var m;d.forEach(x=>{s&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),f==null||f(),(m=g)==null||m.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const fE=DS,hE=MS,pE=AS,mE=US,gE=OS,_p=RS,vE=LS,yE=(e,t,n)=>{const r=new Map,s={platform:cE,...n},o={...s.platform,_c:r};return TS(e,t,{...s,platform:o})};var xE=typeof document<"u",wE=function(){},Ri=xE?h.useLayoutEffect:wE;function ma(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ma(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!ma(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function zv(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jp(e,t){const n=zv(e);return Math.round(t*n)/n}function Gl(e){const t=h.useRef(e);return Ri(()=>{t.current=e}),t}function bE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,g]=h.useState(r);ma(p,r)||g(r);const[y,w]=h.useState(null),[b,m]=h.useState(null),x=h.useCallback(T=>{T!==E.current&&(E.current=T,w(T))},[]),v=h.useCallback(T=>{T!==S.current&&(S.current=T,m(T))},[]),_=o||y,j=i||b,E=h.useRef(null),S=h.useRef(null),k=h.useRef(d),$=c!=null,C=Gl(c),I=Gl(s),A=Gl(u),D=h.useCallback(()=>{if(!E.current||!S.current)return;const T={placement:t,strategy:n,middleware:p};I.current&&(T.platform=I.current),yE(E.current,S.current,T).then(P=>{const M={...P,isPositioned:A.current!==!1};N.current&&!ma(k.current,M)&&(k.current=M,kr.flushSync(()=>{f(M)}))})},[p,t,n,I,A]);Ri(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const N=h.useRef(!1);Ri(()=>(N.current=!0,()=>{N.current=!1}),[]),Ri(()=>{if(_&&(E.current=_),j&&(S.current=j),_&&j){if(C.current)return C.current(_,j,D);D()}},[_,j,D,C,$]);const L=h.useMemo(()=>({reference:E,floating:S,setReference:x,setFloating:v}),[x,v]),F=h.useMemo(()=>({reference:_,floating:j}),[_,j]),X=h.useMemo(()=>{const T={position:n,left:0,top:0};if(!F.floating)return T;const P=jp(F.floating,d.x),M=jp(F.floating,d.y);return l?{...T,transform:"translate("+P+"px, "+M+"px)",...zv(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:M}},[n,l,F.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:D,refs:L,elements:F,floatingStyles:X}),[d,D,L,F,X])}const _E=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?_p({element:r.current,padding:s}).fn(n):{}:r?_p({element:r,padding:s}).fn(n):{}}}},jE=(e,t)=>({...fE(e),options:[e,t]}),$E=(e,t)=>({...hE(e),options:[e,t]}),kE=(e,t)=>({...vE(e),options:[e,t]}),SE=(e,t)=>({...pE(e),options:[e,t]}),EE=(e,t)=>({...mE(e),options:[e,t]}),CE=(e,t)=>({...gE(e),options:[e,t]}),NE=(e,t)=>({..._E(e),options:[e,t]});function Bv(e){const[t,n]=h.useState(void 0);return Ke(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const Vv="Popper",[Wv,Xa]=jt(Vv),[PE,Hv]=Wv(Vv),TE=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return h.createElement(PE,{scope:t,anchor:r,onAnchorChange:s},n)},RE="PopperAnchor",AE=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Hv(RE,n),i=h.useRef(null),l=ce(t,i);return h.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:h.createElement(Y.div,O({},s,{ref:l}))}),qv="PopperContent",[OE,_P]=Wv(qv),IE=h.forwardRef((e,t)=>{var n,r,s,o,i,l,c,u;const{__scopePopper:d,side:f="bottom",sideOffset:p=0,align:g="center",alignOffset:y=0,arrowPadding:w=0,avoidCollisions:b=!0,collisionBoundary:m=[],collisionPadding:x=0,sticky:v="partial",hideWhenDetached:_=!1,updatePositionStrategy:j="optimized",onPlaced:E,...S}=e,k=Hv(qv,d),[$,C]=h.useState(null),I=ce(t,Qt=>C(Qt)),[A,D]=h.useState(null),N=Bv(A),L=(n=N==null?void 0:N.width)!==null&&n!==void 0?n:0,F=(r=N==null?void 0:N.height)!==null&&r!==void 0?r:0,X=f+(g!=="center"?"-"+g:""),T=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},P=Array.isArray(m)?m:[m],M=P.length>0,B={padding:T,boundary:P.filter(DE),altBoundary:M},{refs:ne,floatingStyles:Te,placement:_e,isPositioned:Ie,middlewareData:fe}=bE({strategy:"fixed",placement:X,whileElementsMounted:(...Qt)=>dE(...Qt,{animationFrame:j==="always"}),elements:{reference:k.anchor},middleware:[jE({mainAxis:p+F,alignmentAxis:y}),b&&$E({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?kE():void 0,...B}),b&&SE({...B}),EE({...B,apply:({elements:Qt,rects:Pr,availableWidth:Ts,availableHeight:Oy})=>{const{width:Iy,height:Dy}=Pr.reference,Vo=Qt.floating.style;Vo.setProperty("--radix-popper-available-width",`${Ts}px`),Vo.setProperty("--radix-popper-available-height",`${Oy}px`),Vo.setProperty("--radix-popper-anchor-width",`${Iy}px`),Vo.setProperty("--radix-popper-anchor-height",`${Dy}px`)}}),A&&NE({element:A,padding:w}),ME({arrowWidth:L,arrowHeight:F}),_&&CE({strategy:"referenceHidden",...B})]}),[z,se]=Kv(_e),oe=It(E);Ke(()=>{Ie&&(oe==null||oe())},[Ie,oe]);const ie=(s=fe.arrow)===null||s===void 0?void 0:s.x,ae=(o=fe.arrow)===null||o===void 0?void 0:o.y,le=((i=fe.arrow)===null||i===void 0?void 0:i.centerOffset)!==0,[ot,it]=h.useState();return Ke(()=>{$&&it(window.getComputedStyle($).zIndex)},[$]),h.createElement("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...Te,transform:Ie?Te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ot,"--radix-popper-transform-origin":[(l=fe.transformOrigin)===null||l===void 0?void 0:l.x,(c=fe.transformOrigin)===null||c===void 0?void 0:c.y].join(" ")},dir:e.dir},h.createElement(OE,{scope:d,placedSide:z,onArrowChange:D,arrowX:ie,arrowY:ae,shouldHideArrow:le},h.createElement(Y.div,O({"data-side":z,"data-align":se},S,{ref:I,style:{...S.style,animation:Ie?void 0:"none",opacity:(u=fe.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function DE(e){return e!==null}const ME=e=>({name:"transformOrigin",options:e,fn(t){var n,r,s,o,i;const{placement:l,rects:c,middlewareData:u}=t,f=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,p=f?0:e.arrowWidth,g=f?0:e.arrowHeight,[y,w]=Kv(l),b={start:"0%",center:"50%",end:"100%"}[w],m=((r=(s=u.arrow)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0)+p/2,x=((o=(i=u.arrow)===null||i===void 0?void 0:i.y)!==null&&o!==void 0?o:0)+g/2;let v="",_="";return y==="bottom"?(v=f?b:`${m}px`,_=`${-g}px`):y==="top"?(v=f?b:`${m}px`,_=`${c.floating.height+g}px`):y==="right"?(v=`${-g}px`,_=f?b:`${x}px`):y==="left"&&(v=`${c.floating.width+g}px`,_=f?b:`${x}px`),{data:{x:v,y:_}}}});function Kv(e){const[t,n="center"]=e.split("-");return[t,n]}const Gv=TE,Yv=AE,Xv=IE,Yl="rovingFocusGroup.onEntryFocus",LE={bubbles:!1,cancelable:!0},Jd="RovingFocusGroup",[hu,Qv,UE]=qa(Jd),[FE,Qa]=jt(Jd,[UE]),[zE,BE]=FE(Jd),VE=h.forwardRef((e,t)=>h.createElement(hu.Provider,{scope:e.__scopeRovingFocusGroup},h.createElement(hu.Slot,{scope:e.__scopeRovingFocusGroup},h.createElement(WE,O({},e,{ref:t}))))),WE=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,...d}=e,f=h.useRef(null),p=ce(t,f),g=Fo(o),[y=null,w]=Kt({prop:i,defaultProp:l,onChange:c}),[b,m]=h.useState(!1),x=It(u),v=Qv(n),_=h.useRef(!1),[j,E]=h.useState(0);return h.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(Yl,x),()=>S.removeEventListener(Yl,x)},[x]),h.createElement(zE,{scope:n,orientation:r,dir:g,loop:s,currentTabStopId:y,onItemFocus:h.useCallback(S=>w(S),[w]),onItemShiftTab:h.useCallback(()=>m(!0),[]),onFocusableItemAdd:h.useCallback(()=>E(S=>S+1),[]),onFocusableItemRemove:h.useCallback(()=>E(S=>S-1),[])},h.createElement(Y.div,O({tabIndex:b||j===0?-1:0,"data-orientation":r},d,{ref:p,style:{outline:"none",...e.style},onMouseDown:V(e.onMouseDown,()=>{_.current=!0}),onFocus:V(e.onFocus,S=>{const k=!_.current;if(S.target===S.currentTarget&&k&&!b){const $=new CustomEvent(Yl,LE);if(S.currentTarget.dispatchEvent($),!$.defaultPrevented){const C=v().filter(L=>L.focusable),I=C.find(L=>L.active),A=C.find(L=>L.id===y),N=[I,A,...C].filter(Boolean).map(L=>L.ref.current);Jv(N)}}_.current=!1}),onBlur:V(e.onBlur,()=>m(!1))})))}),HE="RovingFocusGroupItem",qE=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=e,l=At(),c=o||l,u=BE(HE,n),d=u.currentTabStopId===c,f=Qv(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=u;return h.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),h.createElement(hu.ItemSlot,{scope:n,id:c,focusable:r,active:s},h.createElement(Y.span,O({tabIndex:d?0:-1,"data-orientation":u.orientation},i,{ref:t,onMouseDown:V(e.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:V(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:V(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const w=YE(y,u.orientation,u.dir);if(w!==void 0){y.preventDefault();let m=f().filter(x=>x.focusable).map(x=>x.ref.current);if(w==="last")m.reverse();else if(w==="prev"||w==="next"){w==="prev"&&m.reverse();const x=m.indexOf(y.currentTarget);m=u.loop?XE(m,x+1):m.slice(x+1)}setTimeout(()=>Jv(m))}})})))}),KE={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GE(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YE(e,t,n){const r=GE(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return KE[r]}function Jv(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function XE(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const Zv=VE,ey=qE,QE=["Enter"," "],JE=["ArrowDown","PageUp","Home"],ty=["ArrowUp","PageDown","End"],ZE=[...JE,...ty],Ja="Menu",[pu,eC,tC]=qa(Ja),[Er,ny]=jt(Ja,[tC,Xa,Qa]),Zd=Xa(),ry=Qa(),[nC,Za]=Er(Ja),[rC,ef]=Er(Ja),sC=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,l=Zd(t),[c,u]=h.useState(null),d=h.useRef(!1),f=It(o),p=Fo(s);return h.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),h.createElement(Gv,l,h.createElement(nC,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u},h.createElement(rC,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:i},r)))},oC=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Zd(n);return h.createElement(Yv,O({},s,r,{ref:t}))}),iC="MenuPortal",[jP,aC]=Er(iC,{forceMount:void 0}),Vn="MenuContent",[lC,sy]=Er(Vn),cC=h.forwardRef((e,t)=>{const n=aC(Vn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Za(Vn,e.__scopeMenu),i=ef(Vn,e.__scopeMenu);return h.createElement(pu.Provider,{scope:e.__scopeMenu},h.createElement(Zn,{present:r||o.open},h.createElement(pu.Slot,{scope:e.__scopeMenu},i.modal?h.createElement(uC,O({},s,{ref:t})):h.createElement(dC,O({},s,{ref:t})))))}),uC=h.forwardRef((e,t)=>{const n=Za(Vn,e.__scopeMenu),r=h.useRef(null),s=ce(t,r);return h.useEffect(()=>{const o=r.current;if(o)return Od(o)},[]),h.createElement(oy,O({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:V(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),dC=h.forwardRef((e,t)=>{const n=Za(Vn,e.__scopeMenu);return h.createElement(oy,O({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),oy=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g,disableOutsideScroll:y,...w}=e,b=Za(Vn,n),m=ef(Vn,n),x=Zd(n),v=ry(n),_=eC(n),[j,E]=h.useState(null),S=h.useRef(null),k=ce(t,S,b.onContentChange),$=h.useRef(0),C=h.useRef(""),I=h.useRef(0),A=h.useRef(null),D=h.useRef("right"),N=h.useRef(0),L=y?Ad:h.Fragment,F=y?{as:fn,allowPinchZoom:!0}:void 0,X=P=>{var M,B;const ne=C.current+P,Te=_().filter(oe=>!oe.disabled),_e=document.activeElement,Ie=(M=Te.find(oe=>oe.ref.current===_e))===null||M===void 0?void 0:M.textValue,fe=Te.map(oe=>oe.textValue),z=bC(fe,ne,Ie),se=(B=Te.find(oe=>oe.textValue===z))===null||B===void 0?void 0:B.ref.current;(function oe(ie){C.current=ie,window.clearTimeout($.current),ie!==""&&($.current=window.setTimeout(()=>oe(""),1e3))})(ne),se&&setTimeout(()=>se.focus())};h.useEffect(()=>()=>window.clearTimeout($.current),[]),Rd();const T=h.useCallback(P=>{var M,B;return D.current===((M=A.current)===null||M===void 0?void 0:M.side)&&jC(P,(B=A.current)===null||B===void 0?void 0:B.area)},[]);return h.createElement(lC,{scope:n,searchRef:C,onItemEnter:h.useCallback(P=>{T(P)&&P.preventDefault()},[T]),onItemLeave:h.useCallback(P=>{var M;T(P)||((M=S.current)===null||M===void 0||M.focus(),E(null))},[T]),onTriggerLeave:h.useCallback(P=>{T(P)&&P.preventDefault()},[T]),pointerGraceTimerRef:I,onPointerGraceIntentChange:h.useCallback(P=>{A.current=P},[])},h.createElement(L,F,h.createElement(Td,{asChild:!0,trapped:s,onMountAutoFocus:V(o,P=>{var M;P.preventDefault(),(M=S.current)===null||M===void 0||M.focus()}),onUnmountAutoFocus:i},h.createElement(Pd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:g},h.createElement(Zv,O({asChild:!0},v,{dir:m.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:E,onEntryFocus:V(c,P=>{m.isUsingKeyboardRef.current||P.preventDefault()})}),h.createElement(Xv,O({role:"menu","aria-orientation":"vertical","data-state":yC(b.open),"data-radix-menu-content":"",dir:m.dir},x,w,{ref:k,style:{outline:"none",...w.style},onKeyDown:V(w.onKeyDown,P=>{const B=P.target.closest("[data-radix-menu-content]")===P.currentTarget,ne=P.ctrlKey||P.altKey||P.metaKey,Te=P.key.length===1;B&&(P.key==="Tab"&&P.preventDefault(),!ne&&Te&&X(P.key));const _e=S.current;if(P.target!==_e||!ZE.includes(P.key))return;P.preventDefault();const fe=_().filter(z=>!z.disabled).map(z=>z.ref.current);ty.includes(P.key)&&fe.reverse(),xC(fe)}),onBlur:V(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout($.current),C.current="")}),onPointerMove:V(e.onPointerMove,gu(P=>{const M=P.target,B=N.current!==P.clientX;if(P.currentTarget.contains(M)&&B){const ne=P.clientX>N.current?"right":"left";D.current=ne,N.current=P.clientX}}))})))))))}),fC=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return h.createElement(Y.div,O({},r,{ref:t}))}),mu="MenuItem",$p="menu.itemSelect",hC=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=h.useRef(null),i=ef(mu,e.__scopeMenu),l=sy(mu,e.__scopeMenu),c=ce(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const p=new CustomEvent($p,{bubbles:!0,cancelable:!0});f.addEventListener($p,g=>r==null?void 0:r(g),{once:!0}),J0(f,p),p.defaultPrevented?u.current=!1:i.onClose()}};return h.createElement(pC,O({},s,{ref:c,disabled:n,onClick:V(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)===null||p===void 0||p.call(e,f),u.current=!0},onPointerUp:V(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)===null||p===void 0||p.click()}),onKeyDown:V(e.onKeyDown,f=>{const p=l.searchRef.current!=="";n||p&&f.key===" "||QE.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))}),pC=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=sy(mu,n),l=ry(n),c=h.useRef(null),u=ce(t,c),[d,f]=h.useState(!1),[p,g]=h.useState("");return h.useEffect(()=>{const y=c.current;if(y){var w;g(((w=y.textContent)!==null&&w!==void 0?w:"").trim())}},[o.children]),h.createElement(pu.ItemSlot,{scope:n,disabled:r,textValue:s??p},h.createElement(ey,O({asChild:!0},l,{focusable:!r}),h.createElement(Y.div,O({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o,{ref:u,onPointerMove:V(e.onPointerMove,gu(y=>{r?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus())})),onPointerLeave:V(e.onPointerLeave,gu(y=>i.onItemLeave(y))),onFocus:V(e.onFocus,()=>f(!0)),onBlur:V(e.onBlur,()=>f(!1))}))))}),mC="MenuRadioGroup";Er(mC,{value:void 0,onValueChange:()=>{}});const gC="MenuItemIndicator";Er(gC,{checked:!1});const vC="MenuSub";Er(vC);function yC(e){return e?"open":"closed"}function xC(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function wC(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function bC(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=wC(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function _C(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function jC(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return _C(n,t)}function gu(e){return t=>t.pointerType==="mouse"?e(t):void 0}const $C=sC,kC=oC,SC=cC,EC=fC,CC=hC,iy="DropdownMenu",[NC,$P]=jt(iy,[ny]),Bo=ny(),[PC,ay]=NC(iy),TC=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=Bo(t),u=h.useRef(null),[d=!1,f]=Kt({prop:s,defaultProp:o,onChange:i});return h.createElement(PC,{scope:t,triggerId:At(),triggerRef:u,contentId:At(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(p=>!p),[f]),modal:l},h.createElement($C,O({},c,{open:d,onOpenChange:f,dir:r,modal:l}),n))},RC="DropdownMenuTrigger",AC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=ay(RC,n),i=Bo(n);return h.createElement(kC,O({asChild:!0},i),h.createElement(Y.button,O({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},s,{ref:Ed(t,o.triggerRef),onPointerDown:V(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:V(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})))}),OC="DropdownMenuContent",IC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=ay(OC,n),o=Bo(n),i=h.useRef(!1);return h.createElement(SC,O({id:s.contentId,"aria-labelledby":s.triggerId},o,r,{ref:t,onCloseAutoFocus:V(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)===null||c===void 0||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:V(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),DC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Bo(n);return h.createElement(EC,O({},s,r,{ref:t}))}),MC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Bo(n);return h.createElement(CC,O({},s,r,{ref:t}))}),LC=TC,UC=AC,ly=IC,cy=DC,uy=MC,kp=LC,Sp=UC,vu=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(ly,{ref:r,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white shadow-lg backdrop-blur-sm p-1 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));vu.displayName=ly.displayName;const ir=h.forwardRef(({className:e,inset:t,variant:n="default",...r},s)=>a.jsx(uy,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm px-3 py-2 text-sm outline-none transition-colors hover:bg-gray-100 focus:bg-gray-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",n==="destructive"&&"hover:bg-red-50 focus:bg-red-50 text-red-600 hover:text-red-700",e),...r}));ir.displayName=uy.displayName;const yu=h.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(cy,{ref:r,className:J("px-3 py-2 text-sm font-semibold text-gray-900 bg-gray-50 border-b border-gray-200",t&&"pl-8",e),...n}));yu.displayName=cy.displayName;const ar=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:J("mx-2 my-1 h-px bg-gray-200",e),...t}));ar.displayName="DropdownMenuSeparator";const FC=Cd("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:t,asChild:n=!1,...r}){const s=n?fn:"span";return a.jsx(s,{"data-slot":"badge",className:J(FC({variant:t}),e),...r})}function Ep(e,[t,n]){return Math.min(n,Math.max(t,e))}function dy(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const zC=h.forwardRef((e,t)=>h.createElement(Y.span,O({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),BC=[" ","Enter","ArrowUp","ArrowDown"],VC=[" ","Enter"],el="Select",[tl,nl,WC]=qa(el),[Ps,kP]=jt(el,[WC,Xa]),tf=Xa(),[HC,Cr]=Ps(el),[qC,KC]=Ps(el),GC=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:g}=e,y=tf(t),[w,b]=h.useState(null),[m,x]=h.useState(null),[v,_]=h.useState(!1),j=Fo(u),[E=!1,S]=Kt({prop:r,defaultProp:s,onChange:o}),[k,$]=Kt({prop:i,defaultProp:l,onChange:c}),C=h.useRef(null),I=w?!!w.closest("form"):!0,[A,D]=h.useState(new Set),N=Array.from(A).map(L=>L.props.value).join(";");return h.createElement(Gv,y,h.createElement(HC,{required:g,scope:t,trigger:w,onTriggerChange:b,valueNode:m,onValueNodeChange:x,valueNodeHasChildren:v,onValueNodeHasChildrenChange:_,contentId:At(),value:k,onValueChange:$,open:E,onOpenChange:S,dir:j,triggerPointerDownPosRef:C,disabled:p},h.createElement(tl.Provider,{scope:t},h.createElement(qC,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(L=>{D(F=>new Set(F).add(L))},[]),onNativeOptionRemove:h.useCallback(L=>{D(F=>{const X=new Set(F);return X.delete(L),X})},[])},n)),I?h.createElement(gy,{key:N,"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:L=>$(L.target.value),disabled:p},k===void 0?h.createElement("option",{value:""}):null,Array.from(A)):null))},YC="SelectTrigger",XC=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=tf(n),i=Cr(YC,n),l=i.disabled||r,c=ce(t,i.onTriggerChange),u=nl(n),[d,f,p]=vy(y=>{const w=u().filter(x=>!x.disabled),b=w.find(x=>x.value===i.value),m=yy(w,y,b);m!==void 0&&i.onValueChange(m.value)}),g=()=>{l||(i.onOpenChange(!0),p())};return h.createElement(Yv,O({asChild:!0},o),h.createElement(Y.button,O({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":my(i.value)?"":void 0},s,{ref:c,onClick:V(s.onClick,y=>{y.currentTarget.focus()}),onPointerDown:V(s.onPointerDown,y=>{const w=y.target;w.hasPointerCapture(y.pointerId)&&w.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&(g(),i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)},y.preventDefault())}),onKeyDown:V(s.onKeyDown,y=>{const w=d.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(w&&y.key===" ")&&BC.includes(y.key)&&(g(),y.preventDefault())})})))}),QC="SelectValue",JC=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=Cr(QC,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=ce(t,c.onValueNodeChange);return Ke(()=>{u(d)},[u,d]),h.createElement(Y.span,O({},l,{ref:f,style:{pointerEvents:"none"}}),my(c.value)?h.createElement(h.Fragment,null,i):o)}),ZC=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return h.createElement(Y.span,O({"aria-hidden":!0},s,{ref:t}),r||"▼")}),eN=e=>h.createElement(tv,O({asChild:!0},e)),xs="SelectContent",tN=h.forwardRef((e,t)=>{const n=Cr(xs,e.__scopeSelect),[r,s]=h.useState();if(Ke(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?kr.createPortal(h.createElement(fy,{scope:e.__scopeSelect},h.createElement(tl.Slot,{scope:e.__scopeSelect},h.createElement("div",null,e.children))),o):null}return h.createElement(nN,O({},e,{ref:t}))}),nn=10,[fy,Nr]=Ps(xs),nN=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:y,hideWhenDetached:w,avoidCollisions:b,...m}=e,x=Cr(xs,n),[v,_]=h.useState(null),[j,E]=h.useState(null),S=ce(t,z=>_(z)),[k,$]=h.useState(null),[C,I]=h.useState(null),A=nl(n),[D,N]=h.useState(!1),L=h.useRef(!1);h.useEffect(()=>{if(v)return Od(v)},[v]),Rd();const F=h.useCallback(z=>{const[se,...oe]=A().map(le=>le.ref.current),[ie]=oe.slice(-1),ae=document.activeElement;for(const le of z)if(le===ae||(le==null||le.scrollIntoView({block:"nearest"}),le===se&&j&&(j.scrollTop=0),le===ie&&j&&(j.scrollTop=j.scrollHeight),le==null||le.focus(),document.activeElement!==ae))return},[A,j]),X=h.useCallback(()=>F([k,v]),[F,k,v]);h.useEffect(()=>{D&&X()},[D,X]);const{onOpenChange:T,triggerPointerDownPosRef:P}=x;h.useEffect(()=>{if(v){let z={x:0,y:0};const se=ie=>{var ae,le,ot,it;z={x:Math.abs(Math.round(ie.pageX)-((ae=(le=P.current)===null||le===void 0?void 0:le.x)!==null&&ae!==void 0?ae:0)),y:Math.abs(Math.round(ie.pageY)-((ot=(it=P.current)===null||it===void 0?void 0:it.y)!==null&&ot!==void 0?ot:0))}},oe=ie=>{z.x<=10&&z.y<=10?ie.preventDefault():v.contains(ie.target)||T(!1),document.removeEventListener("pointermove",se),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",se),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",se),document.removeEventListener("pointerup",oe,{capture:!0})}}},[v,T,P]),h.useEffect(()=>{const z=()=>T(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[T]);const[M,B]=vy(z=>{const se=A().filter(ae=>!ae.disabled),oe=se.find(ae=>ae.ref.current===document.activeElement),ie=yy(se,z,oe);ie&&setTimeout(()=>ie.ref.current.focus())}),ne=h.useCallback((z,se,oe)=>{const ie=!L.current&&!oe;(x.value!==void 0&&x.value===se||ie)&&($(z),ie&&(L.current=!0))},[x.value]),Te=h.useCallback(()=>v==null?void 0:v.focus(),[v]),_e=h.useCallback((z,se,oe)=>{const ie=!L.current&&!oe;(x.value!==void 0&&x.value===se||ie)&&I(z)},[x.value]),Ie=r==="popper"?Cp:rN,fe=Ie===Cp?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:g,sticky:y,hideWhenDetached:w,avoidCollisions:b}:{};return h.createElement(fy,{scope:n,content:v,viewport:j,onViewportChange:E,itemRefCallback:ne,selectedItem:k,onItemLeave:Te,itemTextRefCallback:_e,focusSelectedItem:X,selectedItemText:C,position:r,isPositioned:D,searchRef:M},h.createElement(Ad,{as:fn,allowPinchZoom:!0},h.createElement(Td,{asChild:!0,trapped:x.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:V(s,z=>{var se;(se=x.trigger)===null||se===void 0||se.focus({preventScroll:!0}),z.preventDefault()})},h.createElement(Pd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>x.onOpenChange(!1)},h.createElement(Ie,O({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:z=>z.preventDefault()},m,fe,{onPlaced:()=>N(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:V(m.onKeyDown,z=>{const se=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!se&&z.key.length===1&&B(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let ie=A().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(z.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ae=z.target,le=ie.indexOf(ae);ie=ie.slice(le+1)}setTimeout(()=>F(ie)),z.preventDefault()}})}))))))}),rN=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Cr(xs,n),i=Nr(xs,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=ce(t,S=>d(S)),p=nl(n),g=h.useRef(!1),y=h.useRef(!0),{viewport:w,selectedItem:b,selectedItemText:m,focusSelectedItem:x}=i,v=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&w&&b&&m){const S=o.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),$=o.valueNode.getBoundingClientRect(),C=m.getBoundingClientRect();if(o.dir!=="rtl"){const ae=C.left-k.left,le=$.left-ae,ot=S.left-le,it=S.width+ot,Qt=Math.max(it,k.width),Pr=window.innerWidth-nn,Ts=Ep(le,[nn,Pr-Qt]);l.style.minWidth=it+"px",l.style.left=Ts+"px"}else{const ae=k.right-C.right,le=window.innerWidth-$.right-ae,ot=window.innerWidth-S.right-le,it=S.width+ot,Qt=Math.max(it,k.width),Pr=window.innerWidth-nn,Ts=Ep(le,[nn,Pr-Qt]);l.style.minWidth=it+"px",l.style.right=Ts+"px"}const I=p(),A=window.innerHeight-nn*2,D=w.scrollHeight,N=window.getComputedStyle(u),L=parseInt(N.borderTopWidth,10),F=parseInt(N.paddingTop,10),X=parseInt(N.borderBottomWidth,10),T=parseInt(N.paddingBottom,10),P=L+F+D+T+X,M=Math.min(b.offsetHeight*5,P),B=window.getComputedStyle(w),ne=parseInt(B.paddingTop,10),Te=parseInt(B.paddingBottom,10),_e=S.top+S.height/2-nn,Ie=A-_e,fe=b.offsetHeight/2,z=b.offsetTop+fe,se=L+F+z,oe=P-se;if(se<=_e){const ae=b===I[I.length-1].ref.current;l.style.bottom="0px";const le=u.clientHeight-w.offsetTop-w.offsetHeight,ot=Math.max(Ie,fe+(ae?Te:0)+le+X),it=se+ot;l.style.height=it+"px"}else{const ae=b===I[0].ref.current;l.style.top="0px";const ot=Math.max(_e,L+w.offsetTop+(ae?ne:0)+fe)+oe;l.style.height=ot+"px",w.scrollTop=se-_e+w.offsetTop}l.style.margin=`${nn}px 0`,l.style.minHeight=M+"px",l.style.maxHeight=A+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,o.trigger,o.valueNode,l,u,w,b,m,o.dir,r]);Ke(()=>v(),[v]);const[_,j]=h.useState();Ke(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const E=h.useCallback(S=>{S&&y.current===!0&&(v(),x==null||x(),y.current=!1)},[v,x]);return h.createElement(sN,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:E},h.createElement("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_}},h.createElement(Y.div,O({},s,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}}))))}),Cp=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=nn,...o}=e,i=tf(n);return h.createElement(Xv,O({},i,o,{ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[sN,nf]=Ps(xs,{}),Np="SelectViewport",oN=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Nr(Np,n),o=nf(Np,n),i=ce(t,s.onViewportChange),l=h.useRef(0);return h.createElement(h.Fragment,null,h.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),h.createElement(tl.Slot,{scope:n},h.createElement(Y.div,O({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:V(r.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&d){const p=Math.abs(l.current-u.scrollTop);if(p>0){const g=window.innerHeight-nn*2,y=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),b=Math.max(y,w);if(b<g){const m=b+p,x=Math.min(g,m),v=m-x;d.style.height=x+"px",d.style.bottom==="0px"&&(u.scrollTop=v>0?v:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})}))))}),iN="SelectGroup";Ps(iN);const xu="SelectItem",[aN,hy]=Ps(xu),lN=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=Cr(xu,n),c=Nr(xu,n),u=l.value===r,[d,f]=h.useState(o??""),[p,g]=h.useState(!1),y=ce(t,m=>{var x;return(x=c.itemRefCallback)===null||x===void 0?void 0:x.call(c,m,r,s)}),w=At(),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.createElement(aN,{scope:n,value:r,disabled:s,textId:w,isSelected:u,onItemTextChange:h.useCallback(m=>{f(x=>{var v;return x||((v=m==null?void 0:m.textContent)!==null&&v!==void 0?v:"").trim()})},[])},h.createElement(tl.ItemSlot,{scope:n,value:r,disabled:s,textValue:d},h.createElement(Y.div,O({role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},i,{ref:y,onFocus:V(i.onFocus,()=>g(!0)),onBlur:V(i.onBlur,()=>g(!1)),onPointerUp:V(i.onPointerUp,b),onPointerMove:V(i.onPointerMove,m=>{if(s){var x;(x=c.onItemLeave)===null||x===void 0||x.call(c)}else m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:V(i.onPointerLeave,m=>{if(m.currentTarget===document.activeElement){var x;(x=c.onItemLeave)===null||x===void 0||x.call(c)}}),onKeyDown:V(i.onKeyDown,m=>{var x;((x=c.searchRef)===null||x===void 0?void 0:x.current)!==""&&m.key===" "||(VC.includes(m.key)&&b(),m.key===" "&&m.preventDefault())})}))))}),vi="SelectItemText",cN=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Cr(vi,n),l=Nr(vi,n),c=hy(vi,n),u=KC(vi,n),[d,f]=h.useState(null),p=ce(t,m=>f(m),c.onItemTextChange,m=>{var x;return(x=l.itemTextRefCallback)===null||x===void 0?void 0:x.call(l,m,c.value,c.disabled)}),g=d==null?void 0:d.textContent,y=h.useMemo(()=>h.createElement("option",{key:c.value,value:c.value,disabled:c.disabled},g),[c.disabled,c.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:b}=u;return Ke(()=>(w(y),()=>b(y)),[w,b,y]),h.createElement(h.Fragment,null,h.createElement(Y.span,O({id:c.textId},o,{ref:p})),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?kr.createPortal(o.children,i.valueNode):null)}),uN="SelectItemIndicator",dN=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return hy(uN,n).isSelected?h.createElement(Y.span,O({"aria-hidden":!0},r,{ref:t})):null}),Pp="SelectScrollUpButton",fN=h.forwardRef((e,t)=>{const n=Nr(Pp,e.__scopeSelect),r=nf(Pp,e.__scopeSelect),[s,o]=h.useState(!1),i=ce(t,r.onScrollButtonChange);return Ke(()=>{if(n.viewport&&n.isPositioned){let u=function(){const d=c.scrollTop>0;o(d)};var l=u;const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?h.createElement(py,O({},e,{ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}})):null}),Tp="SelectScrollDownButton",hN=h.forwardRef((e,t)=>{const n=Nr(Tp,e.__scopeSelect),r=nf(Tp,e.__scopeSelect),[s,o]=h.useState(!1),i=ce(t,r.onScrollButtonChange);return Ke(()=>{if(n.viewport&&n.isPositioned){let u=function(){const d=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<d;o(f)};var l=u;const c=n.viewport;return u(),c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?h.createElement(py,O({},e,{ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}})):null}),py=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Nr("SelectScrollButton",n),i=h.useRef(null),l=nl(n),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Ke(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);d==null||(u=d.ref.current)===null||u===void 0||u.scrollIntoView({block:"nearest"})},[l]),h.createElement(Y.div,O({"aria-hidden":!0},s,{ref:t,style:{flexShrink:0,...s.style},onPointerDown:V(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:V(s.onPointerMove,()=>{var u;(u=o.onItemLeave)===null||u===void 0||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:V(s.onPointerLeave,()=>{c()})}))});function my(e){return e===""||e===void 0}const gy=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=h.useRef(null),o=ce(t,s),i=dy(n);return h.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&d){const f=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(f)}},[i,n]),h.createElement(zC,{asChild:!0},h.createElement("select",O({},r,{ref:o,defaultValue:n})))});gy.displayName="BubbleSelect";function vy(e){const t=It(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function yy(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=pN(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function pN(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const mN=GC,gN=XC,vN=JC,yN=ZC,xN=eN,wN=tN,bN=oN,_N=lN,jN=cN,$N=dN,kN=fN,SN=hN;function wu({...e}){return a.jsx(mN,{"data-slot":"select",...e})}function bu({...e}){return a.jsx(vN,{"data-slot":"select-value",...e})}function _u({className:e,size:t="default",children:n,...r}){return a.jsxs(gN,{"data-slot":"select-trigger","data-size":t,className:J("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,a.jsx(yN,{asChild:!0,children:a.jsx(Md,{className:"size-4 opacity-50"})})]})}function ju({className:e,children:t,position:n="popper",...r}){return a.jsx(xN,{children:a.jsxs(wN,{"data-slot":"select-content",className:J("bg-white text-gray-900 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border border-gray-200 shadow-lg",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(EN,{}),a.jsx(bN,{className:J("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(CN,{})]})})}function fr({className:e,children:t,...n}){return a.jsxs(_N,{"data-slot":"select-item",className:J("hover:bg-gray-100 focus:bg-gray-100 focus:text-gray-900 [&_svg:not([class*='text-'])]:text-gray-500 relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx($N,{children:a.jsx(Dd,{className:"size-4"})})}),a.jsx(jN,{children:t})]})}function EN({className:e,...t}){return a.jsx(kN,{"data-slot":"select-scroll-up-button",className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(ok,{className:"size-4"})})}function CN({className:e,...t}){return a.jsx(SN,{"data-slot":"select-scroll-down-button",className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Md,{className:"size-4"})})}const xy="Checkbox",[NN,SP]=jt(xy),[PN,TN]=NN(xy),RN=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,...d}=e,[f,p]=h.useState(null),g=ce(t,v=>p(v)),y=h.useRef(!1),w=f?!!f.closest("form"):!0,[b=!1,m]=Kt({prop:s,defaultProp:o,onChange:u}),x=h.useRef(b);return h.useEffect(()=>{const v=f==null?void 0:f.form;if(v){const _=()=>m(x.current);return v.addEventListener("reset",_),()=>v.removeEventListener("reset",_)}},[f,m]),h.createElement(PN,{scope:n,state:b,disabled:l},h.createElement(Y.button,O({type:"button",role:"checkbox","aria-checked":gr(b)?"mixed":b,"aria-required":i,"data-state":wy(b),"data-disabled":l?"":void 0,disabled:l,value:c},d,{ref:g,onKeyDown:V(e.onKeyDown,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:V(e.onClick,v=>{m(_=>gr(_)?!0:!_),w&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})})),w&&h.createElement(IN,{control:f,bubbles:!y.current,name:r,value:c,checked:b,required:i,disabled:l,style:{transform:"translateX(-100%)"}}))}),AN="CheckboxIndicator",ON=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=TN(AN,n);return h.createElement(Zn,{present:r||gr(o.state)||o.state===!0},h.createElement(Y.span,O({"data-state":wy(o.state),"data-disabled":o.disabled?"":void 0},s,{ref:t,style:{pointerEvents:"none",...e.style}})))}),IN=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,o=h.useRef(null),i=dy(n),l=Bv(t);return h.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&f){const p=new Event("click",{bubbles:r});c.indeterminate=gr(n),f.call(c,gr(n)?!1:n),c.dispatchEvent(p)}},[i,n,r]),h.createElement("input",O({type:"checkbox","aria-hidden":!0,defaultChecked:gr(n)?!1:n},s,{tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function gr(e){return e==="indeterminate"}function wy(e){return gr(e)?"indeterminate":e?"checked":"unchecked"}const DN=RN,MN=ON;function ga({className:e,...t}){return a.jsx(DN,{"data-slot":"checkbox",className:J("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(MN,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Dd,{className:"size-3.5"})})})}const Rp=[{key:"requirements",label:"要件定義",description:"要件定義フェーズの編集"},{key:"analysis_design",label:"分析・設計",description:"分析・設計フェーズの編集"},{key:"external_design",label:"外部設計",description:"外部設計フェーズの編集"},{key:"development_prep",label:"開発準備",description:"開発準備フェーズの編集"},{key:"members",label:"メンバー管理",description:"プロジェクトメンバーの管理"},{key:"settings",label:"プロジェクト設定",description:"プロジェクトの基本設定"}];function LN({isOpen:e,onClose:t}){const{user:n}=Jn(),{currentProject:r}=Uo(),{members:s,invitations:o,loading:i,fetchMembers:l,inviteMember:c,updateMemberRole:u,removeMember:d}=W0(),[f,p]=h.useState(""),[g,y]=h.useState("member"),[w,b]=h.useState([]),[m,x]=h.useState(!1),[v,_]=h.useState(!1);h.useEffect(()=>{e&&r&&(console.log("ProjectMembersDialog - currentProject:",r),l(r.id))},[e,r==null?void 0:r.id]),h.useEffect(()=>{b(g==="admin"?Rp.map(N=>N.key):["requirements","analysis_design","external_design","development_prep"])},[g]);const j=async()=>{if(!(!f.trim()||!r)){x(!0);try{const{error:N}=await c(r.id,f.trim(),g,w);N?alert(`招待エラー: ${N.message}`):(alert(`${f} に招待メールを送信しました`),p(""),y("member"),b(["requirements","analysis_design","external_design","development_prep"]),_(!1),await l(r.id))}catch{alert("招待処理中にエラーが発生しました")}finally{x(!1)}}},E=async N=>{if(!(!r||!window.confirm("このメンバーを削除しますか？")))try{const{error:L}=await d(r.id,N);alert(L?`削除エラー: ${L.message}`:"メンバーを削除しました")}catch{alert("削除処理中にエラーが発生しました")}},S=async(N,L)=>{if(r)try{const{error:F}=await u(r.id,N,L);alert(F?`権限更新エラー: ${F.message}`:"権限を更新しました")}catch{alert("権限更新処理中にエラーが発生しました")}},k=N=>{b(L=>L.includes(N)?L.filter(F=>F!==N):[...L,N])},$=N=>{switch(N){case"owner":return"オーナー";case"admin":return"管理者";case"member":return"メンバー";default:return"メンバー"}},C=N=>{switch(N){case"owner":return"bg-red-100 text-red-800";case"admin":return"bg-blue-100 text-blue-800";case"member":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},I=N=>{switch(N){case"owner":return a.jsx(hk,{className:"h-4 w-4"});case"admin":return a.jsx(_v,{className:"h-4 w-4"});case"member":return a.jsx(ca,{className:"h-4 w-4"});default:return a.jsx(ca,{className:"h-4 w-4"})}},A=()=>{if(!n||!r)return!1;const N=s.find(L=>L.user_id===n.id);return N&&["owner","admin"].includes(N.role)},D=N=>{var L;return n&&((L=s.find(F=>F.id===N))==null?void 0:L.user_id)===n.id};return r?a.jsx(hn,{open:e,onOpenChange:t,children:a.jsxs(pn,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[a.jsx(mn,{children:a.jsxs(gn,{className:"flex items-center gap-2",children:[a.jsx(Vd,{className:"h-5 w-5"}),"プロジェクトメンバー管理"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:r.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["参加メンバー: ",s.length,"人 | 招待中: ",o.length,"人"]})]}),A()&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"メンバーを招待"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Pt,{htmlFor:"invite-email",className:"sr-only",children:"メールアドレス"}),a.jsx(He,{id:"invite-email",type:"email",placeholder:"メールアドレスを入力",value:f,onChange:N=>p(N.target.value),onKeyPress:N=>N.key==="Enter"&&j()})]}),a.jsxs(wu,{value:g,onValueChange:N=>y(N),children:[a.jsx(_u,{className:"w-32",children:a.jsx(bu,{})}),a.jsxs(ju,{children:[a.jsx(fr,{value:"member",children:"メンバー"}),a.jsx(fr,{value:"admin",children:"管理者"})]})]}),a.jsxs(ee,{onClick:j,disabled:!f.trim()||m,children:[a.jsx(tS,{className:"h-4 w-4 mr-2"}),m?"招待中...":"招待"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ee,{type:"button",variant:"outline",size:"sm",onClick:()=>_(!v),className:"flex items-center gap-2",children:[a.jsx(zd,{className:"h-4 w-4"}),"アクセス権限を設定 ",v?"(閉じる)":"(開く)"]}),v&&a.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[a.jsx("h5",{className:"font-medium text-sm text-gray-700",children:"アクセス権限"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Rp.map(N=>a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(ga,{id:N.key,checked:w.includes(N.key),onCheckedChange:()=>k(N.key),disabled:g==="admin"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Pt,{htmlFor:N.key,className:"text-sm font-medium",children:N.label}),a.jsx("p",{className:"text-xs text-gray-500",children:N.description})]})]},N.key))}),g==="admin"&&a.jsx("p",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded",children:"管理者は全ての機能にアクセスできます"})]})]})]})]}),o.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"招待中"}),a.jsx("div",{className:"space-y-2",children:o.map(N=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-yellow-200 rounded-full flex items-center justify-center",children:a.jsx(Ak,{className:"h-4 w-4 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:N.invitee_email}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Se,{className:C(N.role),children:$(N.role)}),N.scopes&&N.scopes.length>0&&a.jsxs("span",{className:"text-xs text-gray-500",children:[N.scopes.length,"個の権限"]})]})]})]}),a.jsx(Se,{variant:"outline",className:"text-yellow-700 border-yellow-300",children:"招待中"})]},N.id))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"メンバー一覧"}),i?a.jsx("div",{className:"text-center py-4 text-gray-500",children:"読み込み中..."}):s.length===0?a.jsx("div",{className:"text-center py-4 text-gray-500",children:"メンバーがいません"}):a.jsx("div",{className:"space-y-2",children:s.map(N=>{var L;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:I(N.role)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:(L=N.user)==null?void 0:L.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Se,{className:C(N.role),children:$(N.role)}),D(N.id)&&a.jsx(Se,{variant:"outline",className:"text-blue-700 border-blue-300",children:"あなた"})]})]})]}),A()&&!D(N.id)&&N.role!=="owner"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(wu,{value:N.role,onValueChange:F=>S(N.id,F),children:[a.jsx(_u,{className:"w-24",children:a.jsx(bu,{})}),a.jsxs(ju,{children:[a.jsx(fr,{value:"member",children:"メンバー"}),a.jsx(fr,{value:"admin",children:"管理者"})]})]}),a.jsx(ee,{variant:"outline",size:"sm",onClick:()=>E(N.id),className:"text-red-600 hover:text-red-700",children:a.jsx($v,{className:"h-4 w-4"})})]})]},N.id)})})]})]})]})}):null}function UN({isOpen:e,onClose:t,projectName:n,onConfirm:r}){const[s,o]=W.useState(!1),[i,l]=W.useState(null),c=async()=>{o(!0),l(null);try{await r(),t()}catch(d){console.error("プロジェクト削除エラー:",d),l(d instanceof Error?d.message:"プロジェクトの削除に失敗しました")}finally{o(!1)}},u=()=>{l(null),t()};return a.jsx(hn,{open:e,onOpenChange:u,children:a.jsxs(pn,{className:"sm:max-w-[600px] bg-white",children:[a.jsxs(mn,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(oo,{className:"h-8 w-8 text-red-600"})}),a.jsx(gn,{className:"text-xl font-semibold text-gray-900",children:"プロジェクトを削除"}),a.jsxs(vs,{className:"text-base text-gray-600 mt-2",children:["プロジェクト「",a.jsx("span",{className:"font-semibold text-red-600",children:n}),"」を削除しますか？"]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(jv,{className:"h-6 w-6 text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-red-900 text-lg mb-3",children:"この操作は取り消せません"}),a.jsx("p",{className:"text-red-700 mb-4",children:"プロジェクトとそのすべてのデータが永久に削除されます。"}),a.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-4",children:[a.jsx("h5",{className:"font-medium text-red-900 mb-2",children:"削除されるデータ:"}),a.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),"プロジェクトの基本情報"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),"すべてのタスクと成果物"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),"プロジェクトメンバーの権限"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),"プロジェクトの履歴データ"]})]})]})]})]})}),i&&a.jsx("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oo,{className:"h-4 w-4 text-red-600"}),a.jsx("p",{className:"text-sm font-medium text-red-700",children:i})]})})]}),a.jsxs(Wd,{className:"gap-3 pt-6",children:[a.jsx(ee,{variant:"outline",onClick:u,disabled:s,className:"px-6 py-2",children:"キャンセル"}),a.jsx(ee,{variant:"destructive",onClick:c,disabled:s,className:"gap-2 px-6 py-2 bg-red-600 hover:bg-red-700",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"削除中..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Bd,{className:"h-4 w-4"}),"プロジェクトを削除"]})})]})]})})}function FN({isOpen:e,onClose:t,projects:n,currentProject:r,onProjectSelect:s}){const o=i=>{s(i),t()};return a.jsx(hn,{open:e,onOpenChange:t,children:a.jsxs(pn,{className:"sm:max-w-lg",children:[a.jsx(mn,{children:a.jsxs(gn,{className:"flex items-center gap-2 text-lg",children:[a.jsx(la,{className:"h-5 w-5"}),"プロジェクトを切り替え"]})}),a.jsx("div",{className:"space-y-4",children:n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(la,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"プロジェクトがありません"})]}):a.jsx("div",{className:"grid gap-3",children:n.map(i=>{const l=(r==null?void 0:r.id)===i.id;return a.jsx("div",{className:`
                      relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                      ${l?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-md"}
                    `,onClick:()=>o(i),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:`font-semibold truncate ${l?"text-blue-700":"text-gray-900"}`,children:i.name}),l&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"現在"})]}),i.description&&a.jsx("p",{className:`text-sm truncate ${l?"text-blue-600":"text-gray-500"}`,children:i.description})]}),a.jsx("div",{className:"flex items-center gap-2 ml-3",children:l?a.jsx(Dd,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}):a.jsx(gk,{className:"h-4 w-4 text-gray-400 flex-shrink-0"})})]})},i.id)})})})]})})}function by({className:e,...t}){return a.jsx("textarea",{"data-slot":"textarea",className:J("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function zN({isOpen:e,onClose:t,onCreateProject:n}){const[r,s]=W.useState(""),[o,i]=W.useState(""),[l,c]=W.useState(!1),[u,d]=W.useState(null),f=async()=>{if(!r.trim()){d("プロジェクト名を入力してください");return}c(!0),d(null);try{const{error:g}=await n(r.trim(),o.trim());if(g)throw g;s(""),i(""),t()}catch(g){console.error("プロジェクト作成エラー:",g),d(g instanceof Error?g.message:"プロジェクトの作成に失敗しました")}finally{c(!1)}},p=()=>{s(""),i(""),d(null),t()};return a.jsx(hn,{open:e,onOpenChange:p,children:a.jsxs(pn,{className:"sm:max-w-[500px]",children:[a.jsxs(mn,{children:[a.jsxs(gn,{className:"flex items-center gap-2",children:[a.jsx(Co,{className:"h-5 w-5"}),"新規プロジェクト作成"]}),a.jsx(vs,{children:"新しいプロジェクトを作成します。プロジェクト名は必須です。"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Pt,{htmlFor:"project-name",children:["プロジェクト名 ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(He,{id:"project-name",value:r,onChange:g=>s(g.target.value),placeholder:"プロジェクト名を入力",className:"focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{htmlFor:"project-description",children:"説明（任意）"}),a.jsx(by,{id:"project-description",value:o,onChange:g=>i(g.target.value),placeholder:"プロジェクトの説明を入力",rows:3,className:"focus:ring-blue-500 focus:border-blue-500"})]}),u&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:a.jsx("p",{className:"text-sm text-red-700",children:u})})]}),a.jsxs(Wd,{className:"gap-2",children:[a.jsx(ee,{variant:"outline",onClick:p,disabled:l,children:"キャンセル"}),a.jsx(ee,{onClick:f,disabled:!r.trim()||l,className:"gap-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"作成中..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Co,{className:"h-4 w-4"}),"プロジェクトを作成"]})})]})]})})}function BN(){const[e,t]=h.useState(""),[n,r]=h.useState(!1),[s,o]=h.useState(null),i=P2(),l=async()=>{if(!e){o({success:!1,message:"メールアドレスを入力してください"});return}r(!0),o(null);try{const{error:c}=await N2(e);if(c)o({success:!1,message:`エラー: ${c.message||"メール送信に失敗しました"}`});else{const u=i.enableSending?"テストメールの送信が完了しました。実際のメールを確認してください。":"テストメールの送信が完了しました。コンソールを確認してください。";o({success:!0,message:u})}}catch(c){o({success:!1,message:`予期しないエラー: ${c}`})}finally{r(!1)}};return a.jsxs(hn,{children:[a.jsx(ua,{asChild:!0,children:a.jsx(ee,{variant:"outline",size:"sm",children:"メール送信テスト"})}),a.jsxs(pn,{className:"sm:max-w-md",children:[a.jsx(mn,{children:a.jsx(gn,{children:"メール送信テスト"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Fe,{className:"border-blue-200 bg-blue-50",children:[a.jsx(et,{className:"pb-2",children:a.jsx(tt,{className:"text-sm text-blue-800",children:"設定状況"})}),a.jsxs(ze,{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-blue-700",children:"APIキー:"}),a.jsx(Se,{variant:"default",className:"text-xs",children:"設定済み"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-blue-700",children:"送信元メール:"}),a.jsx("span",{className:"text-xs text-blue-700",children:i.fromEmail})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-blue-700",children:"メール送信:"}),a.jsx(Se,{variant:"default",className:"text-xs",children:"有効"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-blue-700",children:"環境:"}),a.jsx(Se,{variant:"outline",className:"text-xs",children:"本番環境"})]})]})]}),a.jsxs("div",{children:[a.jsx(Pt,{htmlFor:"email",children:"テスト用メールアドレス"}),a.jsx(He,{id:"email",type:"email",placeholder:"test@example.com",value:e,onChange:c=>t(c.target.value)})]}),a.jsx(ee,{onClick:l,disabled:n||!e||!i.hasApiKey,className:"w-full",children:n?"送信中...":"テストメールを送信"}),s&&a.jsxs(Fe,{className:s.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50",children:[a.jsx(et,{className:"pb-2",children:a.jsx(tt,{className:`text-sm ${s.success?"text-green-800":"text-red-800"}`,children:s.success?"成功":"エラー"})}),a.jsx(ze,{children:a.jsx(ut,{className:s.success?"text-green-700":"text-red-700",children:s.message})})]}),a.jsxs("div",{className:"text-xs text-gray-500 space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"開発環境:"})," コンソールログにメール内容が表示されます"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"メール送信有効時:"})," 実際のメールが送信されます"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"設定変更:"})," .env.localのVITE_ENABLE_EMAIL_SENDINGを変更してください"]})]})]})]})]})}function VN({totalTasks:e,completedTasks:t,totalDeliverables:n,completedDeliverables:r,currentProject:s}){const{signOut:o,user:i}=Jn(),{projects:l,currentProject:c,selectProject:u,deleteProject:d,createProject:f}=Uo(),p=s||c,[g,y]=h.useState(!1),[w,b]=h.useState(!1),[m,x]=h.useState(!1),[v,_]=h.useState(!1),j=e>0?t/e*100:0,E=n>0?r/n*100:0,S=(j+E)/2,k=async()=>{await o()},$=()=>{y(!0)},C=()=>{b(!0)},I=async()=>{if(!p)throw new Error("プロジェクトが選択されていません");try{const{error:N}=await d(p.id);if(N)throw N;console.log("プロジェクトを削除しました:",p.name)}catch(N){throw console.error("プロジェクト削除エラー:",N),N}},A=()=>{x(!0)},D=N=>{console.log("プロジェクト切り替え:",N),u(N)};return a.jsxs("header",{className:"bg-white border-b border-gray-200 shadow-sm w-full",children:[a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 rounded-lg p-2 transition-colors",onClick:A,title:"プロジェクトを切り替え",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-sm",children:a.jsx(la,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:p?p.name:"プロジェクトを選択"}),a.jsx("p",{className:"text-sm text-gray-500",children:p?p.description:"プロジェクトを選択してください"})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"全体進捗"}),a.jsx("div",{className:"text-xs text-gray-500",children:"プロジェクト全体"})]}),a.jsxs("div",{className:"w-24",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[a.jsxs("span",{className:"text-gray-600",children:[Math.round(S),"%"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Xk,{className:"h-3 w-3 text-green-500"}),a.jsx("span",{className:"text-green-600",children:"+5%"})]})]}),a.jsx(mi,{value:S,className:"h-2"})]})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"タスク"}),a.jsxs("div",{className:"text-xs text-gray-500",children:[t,"/",e," 完了"]})]}),a.jsxs("div",{className:"w-20",children:[a.jsxs("div",{className:"text-xs text-gray-600 mb-1 text-right",children:[Math.round(j),"%"]}),a.jsx(mi,{value:j,className:"h-2"})]})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"成果物"}),a.jsxs("div",{className:"text-xs text-gray-500",children:[r,"/",n," 完了"]})]}),a.jsxs("div",{className:"w-20",children:[a.jsxs("div",{className:"text-xs text-gray-600 mb-1 text-right",children:[Math.round(E),"%"]}),a.jsx(mi,{value:E,className:"h-2"})]})]}),a.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"font-medium text-gray-900",children:[Math.round(S),"%"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"進捗"})]}),a.jsx("div",{className:"w-16",children:a.jsx(mi,{value:S,className:"h-2"})})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-4 pl-4 border-l border-gray-200",children:[a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"通知",children:a.jsx(Q$,{className:"h-5 w-5 text-gray-600"})}),a.jsxs(kp,{children:[a.jsx(Sp,{asChild:!0,children:a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"設定",children:a.jsx(zd,{className:"h-5 w-5 text-gray-600"})})}),a.jsxs(vu,{align:"end",className:"w-56",children:[a.jsx(yu,{children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:"プロジェクト設定"}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:p?p.name:"プロジェクト管理"})]})}),a.jsx(ar,{}),a.jsxs(ir,{onClick:$,children:[a.jsx(Vd,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"参加メンバー一覧"})]}),a.jsx(ar,{}),a.jsxs(ir,{onClick:A,children:[a.jsx(la,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"プロジェクトを切り替え"})]}),a.jsxs(ir,{onClick:()=>_(!0),children:[a.jsx(Co,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"新規プロジェクト作成"})]}),a.jsx(ar,{}),a.jsx(BN,{}),a.jsx(ar,{}),a.jsxs(ir,{onClick:C,variant:"destructive",children:[a.jsx(Bd,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"プロジェクトを削除"})]})]})]}),a.jsxs(kp,{children:[a.jsx(Sp,{asChild:!0,children:a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"ユーザーメニュー",children:a.jsx(ca,{className:"h-5 w-5 text-gray-600"})})}),a.jsxs(vu,{align:"end",className:"w-56",children:[a.jsx(yu,{children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:i==null?void 0:i.email}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:"システム設計アシスタント"})]})}),a.jsx(ar,{}),a.jsxs(ir,{children:[a.jsx(lu,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"ヘルプ"})]}),a.jsx(ar,{}),a.jsxs(ir,{onClick:k,children:[a.jsx(Tk,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"ログアウト"})]})]})]})]})]})]})}),a.jsx(LN,{isOpen:g,onClose:()=>y(!1)}),a.jsx(FN,{isOpen:m,onClose:()=>x(!1),projects:l,currentProject:p,onProjectSelect:D}),a.jsx(UN,{isOpen:w,onClose:()=>b(!1),projectName:(p==null?void 0:p.name)||"プロジェクト",onConfirm:I}),a.jsx(zN,{isOpen:v,onClose:()=>_(!1),onCreateProject:async(N,L)=>{const{error:F}=await f(N,L);return F||console.log("新規プロジェクトを作成しました"),{error:F}}})]})}function WN({phase:e}){const t=e.tasks.filter(o=>o.status==="completed").length,n=e.tasks.length,r=e.deliverables.filter(o=>o.status==="completed").length,s=e.deliverables.length;return a.jsx(Fe,{className:"rounded-2xl border-gray-200",children:a.jsx(ze,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(We,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"タスク進捗"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[t,"/",n," 完了"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(We,{className:"h-4 w-4 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"成果物"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[r,"/",s," 完了"]})]})]})]})})})}function HN({phase:e,onTaskUpdate:t}){const n=s=>{switch(s){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}},r=s=>{switch(s){case"high":return"高";case"medium":return"中";case"low":return"低";default:return"低"}};return a.jsxs(Fe,{children:[a.jsxs(et,{children:[a.jsx(tt,{children:"主要タスク"}),a.jsx(ut,{children:"このフェーズで実行すべきタスクです"})]}),a.jsx(ze,{className:"space-y-4",children:e.tasks.map(s=>{const o=s.status==="completed";return a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[a.jsx(ga,{checked:o,onCheckedChange:i=>t(s.id,!!i),className:"mt-1"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:`text-sm ${o?"line-through text-gray-500":""}`,children:s.title}),a.jsx(Se,{variant:n(s.priority),className:"text-xs",children:r(s.priority)})]}),a.jsx("p",{className:`text-xs text-gray-600 ${o?"line-through":""}`,children:s.description})]})]},s.id)})})]})}function qN({phase:e,onStatusUpdate:t}){const n=s=>{switch(s){case"completed":return"default";case"in-progress":return"secondary";case"pending":return"outline";default:return"outline"}},r=s=>{switch(s){case"completed":return"完了";case"in-progress":return"進行中";case"pending":return"未着手";default:return"未着手"}};return a.jsxs(Fe,{children:[a.jsxs(et,{children:[a.jsx(tt,{children:"主要成果物"}),a.jsx(ut,{children:"このフェーズで作成すべき成果物です"})]}),a.jsx(ze,{className:"space-y-4",children:e.deliverables.map(s=>a.jsxs("div",{className:"p-3 border rounded-lg space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm",children:s.title}),a.jsx(Se,{variant:n(s.status),children:r(s.status)})]}),a.jsx("p",{className:"text-xs text-gray-600",children:s.description}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"ステータス:"}),a.jsxs(wu,{value:s.status,onValueChange:o=>t(s.id,o),children:[a.jsx(_u,{className:"w-[120px] h-8",children:a.jsx(bu,{})}),a.jsxs(ju,{children:[a.jsx(fr,{value:"pending",children:"未着手"}),a.jsx(fr,{value:"in-progress",children:"進行中"}),a.jsx(fr,{value:"completed",children:"完了"})]})]})]})]},s.id))})]})}const _y="Tabs",[KN,EP]=jt(_y,[Qa]),jy=Qa(),[GN,rf]=KN(_y),YN=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Fo(l),[f,p]=Kt({prop:r,onChange:s,defaultProp:o});return h.createElement(GN,{scope:n,baseId:At(),value:f,onValueChange:p,orientation:i,dir:d,activationMode:c},h.createElement(Y.div,O({dir:d,"data-orientation":i},u,{ref:t})))}),XN="TabsList",QN=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=rf(XN,n),i=jy(n);return h.createElement(Zv,O({asChild:!0},i,{orientation:o.orientation,dir:o.dir,loop:r}),h.createElement(Y.div,O({role:"tablist","aria-orientation":o.orientation},s,{ref:t})))}),JN="TabsTrigger",ZN=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=rf(JN,n),l=jy(n),c=$y(i.baseId,r),u=ky(i.baseId,r),d=r===i.value;return h.createElement(ey,O({asChild:!0},l,{focusable:!s,active:d}),h.createElement(Y.button,O({type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c},o,{ref:t,onMouseDown:V(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:V(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:V(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})))}),e3="TabsContent",t3=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=rf(e3,n),c=$y(l.baseId,r),u=ky(l.baseId,r),d=r===l.value,f=h.useRef(d);return h.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),h.createElement(Zn,{present:s||d},({present:p})=>h.createElement(Y.div,O({"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0},i,{ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0}}),p&&o))});function $y(e,t){return`${e}-trigger-${t}`}function ky(e,t){return`${e}-content-${t}`}const n3=YN,r3=QN,s3=ZN,o3=t3;function i3({className:e,...t}){return a.jsx(n3,{"data-slot":"tabs",className:J("flex flex-col gap-2",e),...t})}function a3({className:e,...t}){return a.jsx(r3,{"data-slot":"tabs-list",className:J("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Ap({className:e,...t}){return a.jsx(s3,{"data-slot":"tabs-trigger",className:J("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Op({className:e,...t}){return a.jsx(o3,{"data-slot":"tabs-content",className:J("flex-1 outline-none",e),...t})}const $u={"requirements-definition":{label:"要件定義",color:"bg-blue-500"},"basic-design":{label:"基本設計",color:"bg-green-500"},"external-design":{label:"外部設計",color:"bg-purple-500"},"development-prep":{label:"開発準備",color:"bg-orange-500"},other:{label:"その他",color:"bg-gray-500"}},Ip=["最新版","Draft","Review","Approved","Archived"];function l3({document:e,onEdit:t,onDelete:n,onDownload:r}){const s=$u[e.type];return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate",children:e.name}),e.isLatest&&a.jsx(Se,{variant:"default",className:"text-xs rounded-full bg-green-500 hover:bg-green-600",children:"最新版"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx(Se,{variant:"outline",className:"text-xs rounded-full",children:s.label}),a.jsx("span",{children:"•"}),a.jsx("span",{children:formatFileSize(e.size)}),a.jsx("span",{children:"•"}),a.jsxs("span",{children:["更新: ",formatDateTimeShort(e.updateDate)]})]})]})}),e.description&&a.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:e.description}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>r(e),className:"h-8 px-3 text-xs",children:[a.jsx(Ud,{className:"h-3 w-3 mr-1"}),"ダウンロード"]}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>t(e),className:"h-8 px-3 text-xs",children:[a.jsx(qk,{className:"h-3 w-3 mr-1"}),"編集"]}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>n(e.id),className:"h-8 px-3 text-xs text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[a.jsx(Bd,{className:"h-3 w-3 mr-1"}),"削除"]})]})]})}function c3({phaseId:e}){const[t,n]=h.useState([]),[r,s]=h.useState(""),[o,i]=h.useState("all"),[l,c]=h.useState(!1),[u,d]=h.useState(null),f=h.useRef(null),[p,g]=h.useState({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1}),[y,w]=h.useState(""),b=$=>{const C=$.target.files;C&&(Array.from(C).forEach(I=>{const A=new FileReader;A.onload=D=>{var X;const N=(X=D.target)==null?void 0:X.result,L=new Date,F={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:I.name,type:p.type,size:I.size,uploadDate:L,updateDate:L,author:"Current User",content:N,description:p.description,tags:p.tags,isLatest:p.isLatest};p.isLatest&&n(T=>T.map(P=>P.name===I.name?{...P,isLatest:!1}:P)),n(T=>[...T,F])},A.readAsText(I)}),c(!1),g({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1}))},m=()=>{if(!p.name.trim())return;const $=new Date,C={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:p.name,type:p.type,size:new Blob([p.content]).size,uploadDate:$,updateDate:$,author:"Current User",content:p.content,description:p.description,tags:p.tags,isLatest:p.isLatest};p.isLatest&&n(I=>I.map(A=>A.name===p.name?{...A,isLatest:!1}:A)),n(I=>[...I,C]),c(!1),g({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1})},x=$=>{n(C=>C.filter(I=>I.id!==$))},v=$=>{const C=new Blob([$.content||""],{type:"text/plain"}),I=URL.createObjectURL(C),A=document.createElement("a");A.href=I,A.download=$.name,A.click(),URL.revokeObjectURL(I)},_=$=>{d($),g({name:$.name,type:$.type,description:$.description||"",content:$.content||"",tags:$.tags,isLatest:$.isLatest})},j=()=>{if(!u)return;const $=new Date;p.isLatest&&n(C=>C.map(I=>I.name===p.name&&I.id!==u.id?{...I,isLatest:!1}:I)),n(C=>C.map(I=>I.id===u.id?{...I,name:p.name,type:p.type,description:p.description,content:p.content,size:new Blob([p.content]).size,updateDate:$,tags:p.tags,isLatest:p.isLatest}:I)),d(null),c(!1),g({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1})},E=$=>{$&&!p.tags.includes($)&&g(C=>({...C,tags:[...C.tags,$]})),w("")},S=$=>{g(C=>({...C,tags:C.tags.filter(I=>I!==$)}))},k=t.filter($=>{var A;const C=$.name.toLowerCase().includes(r.toLowerCase())||((A=$.description)==null?void 0:A.toLowerCase().includes(r.toLowerCase()))||$.tags.some(D=>D.toLowerCase().includes(r.toLowerCase())),I=o==="all"||$.type===o;return C&&I}).sort(($,C)=>new Date(C.updateDate).getTime()-new Date($.updateDate).getTime());return t.filter($=>$.isLatest).length,a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ドキュメント管理"}),a.jsxs(ee,{onClick:()=>c(!0),size:"sm",className:"h-8 px-3",children:[a.jsx(Co,{className:"h-4 w-4 mr-1"}),"追加"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(bv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(He,{placeholder:"Q 検索...",value:r,onChange:$=>s($.target.value),className:"pl-10 h-9"})]}),a.jsxs("select",{value:o,onChange:$=>i($.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"すべての種別"}),a.jsx("option",{value:"requirements-definition",children:"要件定義"}),a.jsx("option",{value:"basic-design",children:"基本設計"}),a.jsx("option",{value:"external-design",children:"外部設計"}),a.jsx("option",{value:"development-prep",children:"開発準備"}),a.jsx("option",{value:"other",children:"その他"})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:k.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(Gt,{className:"h-8 w-8 text-gray-400"})}),a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"ドキュメントなし"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"追加してください"}),a.jsxs(ee,{onClick:()=>c(!0),variant:"outline",size:"sm",children:[a.jsx(Co,{className:"h-4 w-4 mr-2"}),"ドキュメントを追加"]})]}):a.jsx("div",{className:"space-y-3",children:k.map($=>a.jsx(l3,{document:$,onEdit:_,onDelete:x,onDownload:v},$.id))})}),a.jsx(hn,{open:l,onOpenChange:c,children:a.jsxs(pn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(mn,{children:[a.jsx(gn,{className:"text-xl",children:u?"ドキュメント編集":"新しいドキュメント"}),a.jsx(vs,{children:"ファイルをアップロードするか、新規作成してください"})]}),a.jsxs(i3,{defaultValue:"create",className:"w-full",children:[a.jsxs(a3,{className:"grid w-full grid-cols-2 mb-6",children:[a.jsx(Ap,{value:"create",children:"新規作成"}),a.jsx(Ap,{value:"upload",disabled:!!u,children:"ファイルアップロード"})]}),a.jsxs(Op,{value:"create",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"ドキュメント名"}),a.jsx(He,{value:p.name,onChange:$=>g(C=>({...C,name:$.target.value})),placeholder:"ドキュメント名を入力",className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"種別"}),a.jsx("select",{value:p.type,onChange:$=>g(C=>({...C,type:$.target.value})),className:"w-full p-2 border border-gray-200 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Object.entries($u).map(([$,{label:C}])=>a.jsx("option",{value:$,children:C},$))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"説明"}),a.jsx(He,{value:p.description,onChange:$=>g(C=>({...C,description:$.target.value})),placeholder:"ドキュメントの説明を入力",className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"タグ"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:p.tags.map($=>a.jsxs(Se,{variant:"secondary",className:"text-xs rounded-full",children:[$,a.jsx("button",{onClick:()=>S($),className:"ml-1 text-red-500 hover:text-red-700",children:"×"})]},$))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(He,{value:y,onChange:$=>w($.target.value),placeholder:"新しいタグを入力",className:"rounded-xl",onKeyPress:$=>$.key==="Enter"&&E(y)}),a.jsx(ee,{type:"button",onClick:()=>E(y),disabled:!y.trim(),className:"rounded-xl",children:"追加"})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Ip.map($=>a.jsx(ee,{type:"button",variant:"outline",size:"sm",onClick:()=>E($),disabled:p.tags.includes($),className:"text-xs rounded-full",children:$},$))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"isLatest",checked:p.isLatest,onChange:$=>g(C=>({...C,isLatest:$.target.checked})),className:"rounded"}),a.jsx("label",{htmlFor:"isLatest",className:"text-sm font-medium",children:"最新版としてマークする"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"内容"}),a.jsx(by,{value:p.content,onChange:$=>g(C=>({...C,content:$.target.value})),placeholder:"ドキュメントの内容を入力",rows:20,className:"rounded-xl resize-none"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(ee,{onClick:u?j:m,disabled:!p.name.trim(),className:"rounded-full bg-blue-600 hover:bg-blue-700",children:u?"更新":"作成"}),a.jsx(ee,{variant:"outline",onClick:()=>{c(!1),d(null),g({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1})},className:"rounded-full",children:"キャンセル"})]})]}),a.jsxs(Op,{value:"upload",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"種別"}),a.jsx("select",{value:p.type,onChange:$=>g(C=>({...C,type:$.target.value})),className:"w-full p-2 border border-gray-200 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Object.entries($u).map(([$,{label:C}])=>a.jsx("option",{value:$,children:C},$))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"説明"}),a.jsx(He,{value:p.description,onChange:$=>g(C=>({...C,description:$.target.value})),placeholder:"ドキュメントの説明を入力",className:"rounded-xl"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"タグ"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:p.tags.map($=>a.jsxs(Se,{variant:"secondary",className:"text-xs rounded-full",children:[$,a.jsx("button",{onClick:()=>S($),className:"ml-1 text-red-500 hover:text-red-700",children:"×"})]},$))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(He,{value:y,onChange:$=>w($.target.value),placeholder:"新しいタグを入力",className:"rounded-xl",onKeyPress:$=>$.key==="Enter"&&E(y)}),a.jsx(ee,{type:"button",onClick:()=>E(y),disabled:!y.trim(),className:"rounded-xl",children:"追加"})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Ip.map($=>a.jsx(ee,{type:"button",variant:"outline",size:"sm",onClick:()=>E($),disabled:p.tags.includes($),className:"text-xs rounded-full",children:$},$))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"isLatestUpload",checked:p.isLatest,onChange:$=>g(C=>({...C,isLatest:$.target.checked})),className:"rounded"}),a.jsx("label",{htmlFor:"isLatestUpload",className:"text-sm font-medium",children:"最新版としてマークする"})]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-12 text-center cursor-pointer hover:border-gray-400 transition-colors bg-gray-50",onClick:()=>{var $;return($=f.current)==null?void 0:$.click()},children:[a.jsx(Zk,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-xl mb-2",children:"ファイルをドラッグ&ドロップ"}),a.jsx("p",{className:"text-sm text-gray-500",children:"または、クリックしてファイルを選択"}),a.jsx("input",{ref:f,type:"file",multiple:!0,onChange:b,className:"hidden",accept:".txt,.md,.doc,.docx,.pdf"})]})]})]})]})})]})}const Dp=[{id:1,title:"要件定義",description:"「何を作るのか」を明確にし、システムに求められる機能や非機能要件を具体化する",duration:"2-6週間",keyActivities:["プロジェクトの目的と目標の明確化","現状業務の分析と課題特定","ユーザーヒアリングと要求収集","機能要件の洗い出しと詳細化","非機能要件の定義","要件の優先順位付け"],deliverables:["企画書","要件定義書","業務フロー図（As-Is/To-Be）","ユーザーストーリー","機能一覧"],tips:["要件ヒアリングでは「なぜ」を深く掘り下げる","MoSCoW法で要件の優先順位を明確化","ステークホルダー全員の合意を文書で確認"]},{id:2,title:"基本設計",description:"要件定義で定義された内容を、システムとしてどう実現するかを具体化する",duration:"2-4週間",keyActivities:["システム全体構成設計","データベース論理・物理設計","機能概要設計","外部インターフェース設計","非機能要件の詳細化"],deliverables:["基本設計書","システム構成図","データベース設計書","テスト計画書（概要）"],tips:["ステークホルダーとの定期的なレビューを実施","アーキテクチャの選択理由を文書化","パフォーマンス要件を数値で明確化"]},{id:3,title:"外部設計",description:"基本設計の内容を、ユーザーにとって使いやすい形に落とし込む",duration:"3-5週間",keyActivities:["ユーザーインターフェース設計","ユーザーエクスペリエンス設計","入力・出力情報の詳細設計","エラーハンドリングの検討","帳票設計"],deliverables:["画面設計書","ワイヤーフレーム・プロトタイプ","入出力設計書","UI/UX仕様書"],tips:["ユーザビリティテストを早期実施","アクセシビリティを考慮した設計","レスポンシブデザインの検討"]},{id:4,title:"開発準備",description:"開発をスムーズに開始するための最終準備",duration:"1-2週間",keyActivities:["開発環境の構築","開発技術の最終決定","バージョン管理システムの導入","コーディング規約の策定","プロジェクト管理ツールの準備"],deliverables:["開発環境構築手順書","コーディング規約","開発スケジュール詳細","チーム開発ガイドライン"],tips:["CI/CDパイプラインの早期構築","コードレビュープロセスの確立","チーム内のコミュニケーションルール策定"]}],u3=[{title:"段階的な開発アプローチ",description:"各フェーズを順序立てて進め、前の段階の成果物を確実に固めてから次へ進む",icon:yv},{title:"ステークホルダー中心の開発",description:"関係者全員を巻き込み、合意形成を重視しながらプロジェクトを進める",icon:Vd},{title:"継続的な改善とレビュー",description:"定期的な振り返りと改善を通じて、品質向上とリスク軽減を図る",icon:Uk},{title:"透明性のある情報共有",description:"進捗状況、課題、決定事項を関係者全員に適切に共有する",icon:xv},{title:"品質重視の開発",description:"テストやレビューを通じて品質を確保し、保守性の高いシステムを構築する",icon:_v},{title:"包括的なドキュメント化",description:"開発プロセスと成果物を適切に文書化し、ナレッジを蓄積する",icon:Gt}],d3=[{title:"要件の曖昧さ",description:"要件が曖昧なまま設計を進めると、後で大幅な修正が必要になる",solution:"具体的で測定可能な要件を定義し、不明点は必ず確認する"},{title:"ステークホルダーとの認識齟齬",description:"関係者間で認識が異なると、プロジェクトが迷走する",solution:"定期的なミーティングと文書による確認を徹底する"},{title:"技術選定の遅れ",description:"技術選定が遅れると、設計や開発に影響する",solution:"早期に技術調査を行い、PoC（概念実証）で検証する"},{title:"ドキュメントの不備",description:"不十分なドキュメントは、後の開発や保守で問題となる",solution:"テンプレートを活用し、レビューを通じて品質を確保する"}];function f3(){return a.jsxs("div",{className:"space-y-8",children:[a.jsxs(Fe,{children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center gap-2",children:[a.jsx(Wa,{className:"h-6 w-6"}),"システム開発の基本原則"]}),a.jsx(ut,{children:"成功するシステム開発プロジェクトのための基本的な考え方と原則"})]}),a.jsx(ze,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u3.map((e,t)=>{const n=e.icon;return a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(n,{className:"h-5 w-5 text-blue-600 mt-1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:e.title}),a.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]})},t)})})})]}),a.jsxs(Fe,{children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center gap-2",children:[a.jsx(uk,{className:"h-6 w-6"}),"フェーズ別実行ガイド"]}),a.jsx(ut,{children:"各フェーズの詳細な実行手順と成果物"})]}),a.jsx(ze,{children:a.jsx("div",{className:"space-y-8",children:Dp.map((e,t)=>a.jsxs("div",{className:"relative",children:[t<Dp.length-1&&a.jsx("div",{className:"absolute left-4 top-16 w-0.5 h-full bg-gray-200"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:e.id})}),a.jsxs("div",{className:"flex-1 pb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:e.title}),a.jsx(Se,{variant:"outline",children:e.duration})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"主要活動"}),a.jsx("ul",{className:"space-y-1",children:e.keyActivities.map((n,r)=>a.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[a.jsx(We,{className:"h-3 w-3 text-green-500 mt-1 flex-shrink-0"}),n]},r))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"主要成果物"}),a.jsx("ul",{className:"space-y-1",children:e.deliverables.map((n,r)=>a.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[a.jsx(Gt,{className:"h-3 w-3 text-blue-500 mt-1 flex-shrink-0"}),n]},r))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"重要なポイント"}),a.jsx("ul",{className:"space-y-1",children:e.tips.map((n,r)=>a.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[a.jsx(Ek,{className:"h-3 w-3 text-yellow-500 mt-1 flex-shrink-0"}),n]},r))})]})]})]})]})]},e.id))})})]}),a.jsxs(Fe,{children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center gap-2",children:[a.jsx(jv,{className:"h-6 w-6"}),"よくある課題と対策"]}),a.jsx(ut,{children:"システム開発でよく発生する問題とその解決策"})]}),a.jsx(ze,{children:a.jsx("div",{className:"space-y-4",children:d3.map((e,t)=>a.jsxs("div",{className:"p-4 border border-orange-200 rounded-lg bg-orange-50",children:[a.jsx("h4",{className:"text-sm font-medium text-orange-900 mb-2",children:e.title}),a.jsx("p",{className:"text-sm text-orange-800 mb-3",children:e.description}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Se,{variant:"outline",className:"text-xs mt-0.5",children:"解決策"}),a.jsx("p",{className:"text-sm text-green-800",children:e.solution})]})]},t))})})]}),a.jsxs(Fe,{children:[a.jsxs(et,{children:[a.jsxs(tt,{className:"flex items-center gap-2",children:[a.jsx(We,{className:"h-6 w-6"}),"プロジェクト成功のチェックリスト"]}),a.jsx(ut,{children:"各フェーズで確認すべき項目"})]}),a.jsx(ze,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-green-900 mb-3",children:"フェーズ完了時の確認項目"}),a.jsxs("ul",{className:"space-y-2 text-sm text-green-800",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(We,{className:"h-4 w-4"}),"すべての成果物が作成され、レビューが完了している"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(We,{className:"h-4 w-4"}),"ステークホルダーの承認が得られている"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(We,{className:"h-4 w-4"}),"次フェーズの前提条件が満たされている"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(We,{className:"h-4 w-4"}),"リスクや課題が特定され、対策が検討されている"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(We,{className:"h-4 w-4"}),"必要な文書が整備され、チームで共有されている"]})]})]})})})]})]})}const Sy="Collapsible",[h3,Ey]=jt(Sy),[p3,sf]=h3(Sy),m3=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c=!1,u]=Kt({prop:r,defaultProp:s,onChange:i});return h.createElement(p3,{scope:n,disabled:o,contentId:At(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u])},h.createElement(Y.div,O({"data-state":of(c),"data-disabled":o?"":void 0},l,{ref:t})))}),g3="CollapsibleTrigger",v3=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=sf(g3,n);return h.createElement(Y.button,O({type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":of(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled},r,{ref:t,onClick:V(e.onClick,s.onOpenToggle)}))}),Cy="CollapsibleContent",y3=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=sf(Cy,e.__scopeCollapsible);return h.createElement(Zn,{present:n||s.open},({present:o})=>h.createElement(x3,O({},r,{ref:t,present:o})))}),x3=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,i=sf(Cy,n),[l,c]=h.useState(r),u=h.useRef(null),d=ce(t,u),f=h.useRef(0),p=f.current,g=h.useRef(0),y=g.current,w=i.open||l,b=h.useRef(w),m=h.useRef();return h.useEffect(()=>{const x=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(x)},[]),Ke(()=>{const x=u.current;if(x){m.current=m.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const v=x.getBoundingClientRect();f.current=v.height,g.current=v.width,b.current||(x.style.transitionDuration=m.current.transitionDuration,x.style.animationName=m.current.animationName),c(r)}},[i.open,r]),h.createElement(Y.div,O({"data-state":of(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!w},o,{ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style}}),w&&s)});function of(e){return e?"open":"closed"}const w3=m3,b3=v3,_3=y3,er="Accordion",j3=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[af,$3,k3]=qa(er),[rl,CP]=jt(er,[k3,Ey]),lf=Ey(),Ny=W.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,o=r;return W.createElement(af.Provider,{scope:e.__scopeAccordion},n==="multiple"?W.createElement(N3,O({},o,{ref:t})):W.createElement(C3,O({},s,{ref:t})))});Ny.propTypes={type(e){const t=e.value||e.defaultValue;return e.type&&!["single","multiple"].includes(e.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):e.type==="multiple"&&typeof t=="string"?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):e.type==="single"&&Array.isArray(t)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[Py,S3]=rl(er),[Ty,E3]=rl(er,{collapsible:!1}),C3=W.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...i}=e,[l,c]=Kt({prop:n,defaultProp:r,onChange:s});return W.createElement(Py,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:c,onItemClose:W.useCallback(()=>o&&c(""),[o,c])},W.createElement(Ty,{scope:e.__scopeAccordion,collapsible:o},W.createElement(Ry,O({},i,{ref:t}))))}),N3=W.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...o}=e,[i=[],l]=Kt({prop:n,defaultProp:r,onChange:s}),c=W.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=W.useCallback(d=>l((f=[])=>f.filter(p=>p!==d)),[l]);return W.createElement(Py,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u},W.createElement(Ty,{scope:e.__scopeAccordion,collapsible:!0},W.createElement(Ry,O({},o,{ref:t}))))}),[P3,sl]=rl(er),Ry=W.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:o="vertical",...i}=e,l=W.useRef(null),c=ce(l,t),u=$3(n),f=Fo(s)==="ltr",p=V(e.onKeyDown,g=>{var y;if(!j3.includes(g.key))return;const w=g.target,b=u().filter($=>{var C;return!((C=$.ref.current)!==null&&C!==void 0&&C.disabled)}),m=b.findIndex($=>$.ref.current===w),x=b.length;if(m===-1)return;g.preventDefault();let v=m;const _=0,j=x-1,E=()=>{v=m+1,v>j&&(v=_)},S=()=>{v=m-1,v<_&&(v=j)};switch(g.key){case"Home":v=_;break;case"End":v=j;break;case"ArrowRight":o==="horizontal"&&(f?E():S());break;case"ArrowDown":o==="vertical"&&E();break;case"ArrowLeft":o==="horizontal"&&(f?S():E());break;case"ArrowUp":o==="vertical"&&S();break}const k=v%x;(y=b[k].ref.current)===null||y===void 0||y.focus()});return W.createElement(P3,{scope:n,disabled:r,direction:s,orientation:o},W.createElement(af.Slot,{scope:n},W.createElement(Y.div,O({},i,{"data-orientation":o,ref:c,onKeyDown:r?void 0:p}))))}),ku="AccordionItem",[T3,cf]=rl(ku),R3=W.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,o=sl(ku,n),i=S3(ku,n),l=lf(n),c=At(),u=r&&i.value.includes(r)||!1,d=o.disabled||e.disabled;return W.createElement(T3,{scope:n,open:u,disabled:d,triggerId:c},W.createElement(w3,O({"data-orientation":o.orientation,"data-state":Ay(u)},l,s,{ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(r):i.onItemClose(r)}})))}),A3="AccordionHeader",O3=W.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=sl(er,n),o=cf(A3,n);return W.createElement(Y.h3,O({"data-orientation":s.orientation,"data-state":Ay(o.open),"data-disabled":o.disabled?"":void 0},r,{ref:t}))}),Mp="AccordionTrigger",I3=W.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=sl(er,n),o=cf(Mp,n),i=E3(Mp,n),l=lf(n);return W.createElement(af.ItemSlot,{scope:n},W.createElement(b3,O({"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId},l,r,{ref:t})))}),D3="AccordionContent",M3=W.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=sl(er,n),o=cf(D3,n),i=lf(n);return W.createElement(_3,O({role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation},i,r,{ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}}))});function Ay(e){return e?"open":"closed"}const L3=Ny,U3=R3,F3=O3,z3=I3,B3=M3;function Lp({...e}){return a.jsx(L3,{"data-slot":"accordion",...e})}function Up({className:e,...t}){return a.jsx(U3,{"data-slot":"accordion-item",className:J("border-b last:border-b-0",e),...t})}function Fp({className:e,children:t,...n}){return a.jsx(F3,{className:"flex",children:a.jsxs(z3,{"data-slot":"accordion-trigger",className:J("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,a.jsx(Md,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function zp({className:e,children:t,...n}){return a.jsx(B3,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:a.jsx("div",{className:J("pt-0 pb-4",e),children:t})})}function V3({phases:e}){const[t,n]=h.useState({}),r=e.flatMap(y=>y.deliverables.map(w=>({id:`${y.id}-${w.id}`,title:w.title,description:w.description,phaseId:y.id,phaseName:y.title,completed:w.status==="completed",required:!0}))),s=[{id:"stakeholder-approval",title:"ステークホルダー承認",description:"各フェーズの成果物についてステークホルダーの承認を得ている",phaseId:"all",phaseName:"全フェーズ",completed:!1,required:!0},{id:"risk-assessment",title:"リスク評価",description:"各フェーズで特定されたリスクと対策が文書化されている",phaseId:"all",phaseName:"全フェーズ",completed:!1,required:!0},{id:"quality-review",title:"品質レビュー",description:"すべての成果物について品質レビューが完了している",phaseId:"all",phaseName:"全フェーズ",completed:!1,required:!0},{id:"documentation-complete",title:"文書化完了",description:"設計の背景、理由、制約事項が適切に文書化されている",phaseId:"all",phaseName:"全フェーズ",completed:!1,required:!0}],o=[...r,...s],i=(y,w)=>{n(b=>({...b,[y]:w}))},l=y=>y.completed?"completed":t[y.id]?"checked":"pending",c=o.filter(y=>y.completed||t[y.id]).length,u=o.length,d=c/u*100,f=e.reduce((y,w)=>(y[w.id]=o.filter(b=>b.phaseId===w.id),y),{}),p=o.filter(y=>y.phaseId==="all"),g=y=>{const w=l(y),b=w==="completed"||w==="checked";return a.jsxs("div",{className:`flex items-start gap-4 p-4 rounded-xl border transition-all duration-200 hover:shadow-sm ${b?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[a.jsx("div",{className:"flex items-center pt-1",children:w==="completed"?a.jsx(We,{className:"h-5 w-5 text-green-600"}):a.jsx(ga,{checked:w==="checked",onCheckedChange:m=>i(y.id,m),className:"h-5 w-5 rounded-full border-2"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:`text-sm font-medium transition-all duration-200 ${b?"text-green-800 line-through":"text-gray-900"}`,children:y.title}),a.jsx("p",{className:`text-xs mt-1 transition-all duration-200 ${b?"text-green-600":"text-gray-500"}`,children:y.description})]})]},y.id)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"完了状況"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[c,"/",u," 項目完了"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"全体の進捗"})]}),a.jsx("div",{className:"w-14 h-14 rounded-full bg-white border-2 border-blue-200 flex items-center justify-center shadow-sm",children:a.jsxs("span",{className:"text-base font-bold text-blue-600",children:[Math.round(d),"%"]})})]})]}),a.jsx("div",{className:"w-full bg-blue-100 rounded-full h-4",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${d}%`}})})]})}),a.jsxs(Fe,{children:[a.jsxs(et,{children:[a.jsx(tt,{children:"フェーズ別成果物"}),a.jsx(ut,{children:"各フェーズで作成すべき成果物の一覧"})]}),a.jsx(ze,{children:a.jsx(Lp,{type:"multiple",className:"w-full space-y-2",children:e.map(y=>{const w=f[y.id]||[],b=w.filter(m=>m.completed||t[m.id]).length;return a.jsxs(Up,{value:y.id,className:"border rounded-lg px-4",children:[a.jsx(Fp,{className:"hover:no-underline",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:y.title})}),a.jsxs(Se,{variant:b===w.length?"default":"outline",className:"rounded-full",children:[b,"/",w.length]})]})}),a.jsx(zp,{className:"pt-0 pb-4",children:a.jsx("div",{className:"space-y-3",children:w.map(g)})})]},y.id)})})})]}),p.length>0&&a.jsxs(Fe,{children:[a.jsxs(et,{children:[a.jsx(tt,{className:"text-orange-900",children:"重要な確認項目"}),a.jsx(ut,{children:"プロジェクト全体を通して確認すべき必須項目"})]}),a.jsx(ze,{children:a.jsx(Lp,{type:"single",collapsible:!0,className:"w-full",children:a.jsxs(Up,{value:"general-items",className:"border rounded-lg px-4",children:[a.jsx(Fp,{className:"hover:no-underline",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("h3",{className:"text-lg font-medium text-orange-900",children:"プロジェクト全体の確認事項"})}),a.jsx(Se,{variant:"outline",className:"rounded-full border-orange-300 text-orange-700",children:"必須"})]})}),a.jsx(zp,{className:"pt-0 pb-4",children:a.jsx("div",{className:"space-y-3",children:p.map(y=>{const b=l(y)==="checked";return a.jsxs("div",{className:`flex items-start gap-4 p-4 rounded-xl border transition-all duration-200 hover:shadow-sm ${b?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200 hover:bg-orange-100"}`,children:[a.jsx("div",{className:"flex items-center pt-1",children:a.jsx(ga,{checked:b,onCheckedChange:m=>i(y.id,m),className:"h-5 w-5 rounded-full border-2"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:`text-sm font-medium transition-all duration-200 ${b?"text-green-800 line-through":"text-orange-900"}`,children:y.title}),a.jsx("p",{className:`text-xs mt-1 transition-all duration-200 ${b?"text-green-600":"text-orange-700"}`,children:y.description})]})]},y.id)})})})]})})})]}),d===100&&a.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-200",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:a.jsx(We,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-green-900",children:"おめでとうございます！"}),a.jsx("p",{className:"text-sm text-green-700",children:"すべての項目が完了しました。開発フェーズに進む準備が整いました。"})]})]})})]})}const W3=[{id:"project-proposal-template",title:"企画書テンプレート",description:"システム開発の目的、ターゲット、期待効果、ビジネスゴールを整理するための企画書テンプレート。",category:"requirements-definition",type:"document",icon:Wa,difficulty:"intermediate",content:`# システム開発企画書

## 1. プロジェクト概要
### 1.1 プロジェクト名
[プロジェクト名を記載]

### 1.2 開発期間
- 開始予定日: [YYYY/MM/DD]
- 完了予定日: [YYYY/MM/DD]
- 開発期間: [X]ヶ月

### 1.3 プロジェクト担当者
- プロジェクトマネージャー: [氏名]
- システムアーキテクト: [氏名]
- 開発リーダー: [氏名]

## 2. 背景・目的
### 2.1 現状の課題
[現在の業務や既存システムの課題を具体的に記載]
- 課題1: [詳細]
- 課題2: [詳細]
- 課題3: [詳細]

### 2.2 プロジェクトの目的
[このシステム開発によって解決したい課題と目標を記載]
1. [目的1]
2. [目的2]
3. [目的3]

### 2.3 期待される効果
[システム導入後に期待される効果を定量的・定性的に記載]
- 定量的効果:
  - 処理時間短縮: [XX]%削減
  - コスト削減: [XX]万円/年
  - 生産性向上: [XX]%向上
- 定性的効果:
  - [効果1]
  - [効果2]

## 3. 対象範囲・ターゲット
### 3.1 対象業務
[システム化する業務の範囲を明確に定義]

### 3.2 対象ユーザー
- 主要ユーザー: [部署名・役職]（約[XX]名）
- 副次ユーザー: [部署名・役職]（約[XX]名）

### 3.3 対象データ
[取り扱うデータの種類と規模]

## 4. システム要件概要
### 4.1 主要機能
[システムの主要機能を簡潔に列挙]
1. [機能1]: [概要]
2. [機能2]: [概要]
3. [機能3]: [概要]

### 4.2 非機能要件
- 性能要件: [応答時間、処理能力等]
- 可用性要件: [稼働率、保守時間等]
- セキュリティ要件: [認証、暗号化等]

## 5. 技術方針
### 5.1 システム構成
[システムアーキテクチャの概要]

### 5.2 開発技術
- フロントエンド: [技術スタック]
- バックエンド: [技術スタック]
- データベース: [DBMS名]
- インフラ: [クラウド/オンプレミス]

## 6. スケジュール・マイルストーン
### 6.1 フェーズ構成
| フェーズ | 期間 | 主要成果物 |
|---------|------|-----------|
| 要件定義 | [期間] | 要件定義書 |
| 基本設計 | [期間] | 基本設計書 |
| 詳細設計 | [期間] | 詳細設計書 |
| 開発・テスト | [期間] | システム |
| 本稼働 | [期間] | - |

### 6.2 主要マイルストーン
- [YYYY/MM/DD]: 要件定義完了
- [YYYY/MM/DD]: 基本設計完了
- [YYYY/MM/DD]: 開発完了
- [YYYY/MM/DD]: システムテスト完了
- [YYYY/MM/DD]: 本稼働開始

## 7. リスク・課題
### 7.1 想定リスク
| リスク | 影響度 | 発生確率 | 対策 |
|--------|--------|----------|------|
| [リスク1] | [高/中/低] | [高/中/低] | [対策内容] |
| [リスク2] | [高/中/低] | [高/中/低] | [対策内容] |

### 7.2 前提条件・制約事項
- [前提条件1]
- [制約事項1]

## 8. 体制・役割分担
### 8.1 プロジェクト体制図
[体制図を挿入]

### 8.2 役割分担
| 役割 | 担当者 | 責任範囲 |
|------|--------|----------|
| [役割1] | [氏名] | [責任内容] |
| [役割2] | [氏名] | [責任内容] |

## 9. 予算
### 9.1 開発費用
- 人件費: [XX]万円
- 外部委託費: [XX]万円
- ソフトウェアライセンス費: [XX]万円
- ハードウェア費: [XX]万円
- その他: [XX]万円
- **合計**: [XX]万円

### 9.2 運用費用（年間）
- 保守費: [XX]万円
- ライセンス費: [XX]万円
- インフラ費: [XX]万円
- **合計**: [XX]万円

## 10. 承認
| 承認者 | 役職 | 署名 | 日付 |
|--------|------|------|------|
| [氏名] | [役職] | | [YYYY/MM/DD] |
| [氏名] | [役職] | | [YYYY/MM/DD] |

---
作成日: [YYYY/MM/DD]
作成者: [氏名]
版数: 1.0`},{id:"requirements-definition-template",title:"要件定義書テンプレート",description:"機能要件・非機能要件を体系的に整理し、開発の基盤となる要件定義書を作成するためのテンプレート。",category:"requirements-definition",type:"document",icon:yk,difficulty:"advanced",content:`# 要件定義書

## 1. 文書概要
### 1.1 文書の目的
本文書は、[システム名]の要件を明確化し、開発チーム全体で共有することを目的とする。

### 1.2 対象読者
- プロジェクトマネージャー
- システムアーキテクト
- 開発チーム
- テストチーム
- ユーザー代表

### 1.3 文書の構成
[文書の構成を説明]

## 2. システム概要
### 2.1 システムの目的
[システムの目的を明確に記載]

### 2.2 システムの概要
[システムの全体像を簡潔に説明]

### 2.3 システムの適用範囲
[システムが対象とする業務範囲を明確化]

## 3. 機能要件
### 3.1 機能要件一覧
| 要件ID | 機能名 | 優先度 | 概要 |
|--------|--------|--------|------|
| F001 | [機能名] | Must | [機能概要] |
| F002 | [機能名] | Should | [機能概要] |
| F003 | [機能名] | Could | [機能概要] |

### 3.2 機能要件詳細
#### 3.2.1 [機能名] (F001)
**概要**: [機能の概要]
**詳細**: [機能の詳細仕様]
**入力**: [入力データ・条件]
**処理**: [処理内容]
**出力**: [出力データ・結果]
**制約**: [制約事項]
**例外処理**: [エラー処理]

#### 3.2.2 [機能名] (F002)
[同様の形式で記載]

### 3.3 画面遷移要件
[画面遷移図や画面フロー図を挿入]

### 3.4 データ要件
#### 3.4.1 データ一覧
| データ名 | 概要 | 主要項目 | 更新頻度 |
|----------|------|----------|----------|
| [データ名] | [概要] | [項目] | [頻度] |

#### 3.4.2 データ関連図
[ER図やデータフロー図を挿入]

## 4. 非機能要件
### 4.1 性能要件
#### 4.1.1 応答時間要件
| 処理 | 目標値 | 条件 |
|------|--------|------|
| 画面表示 | 3秒以内 | 通常時 |
| 検索処理 | 5秒以内 | 1万件以下 |
| バッチ処理 | 30分以内 | 日次処理 |

#### 4.1.2 スループット要件
- 同時アクセス数: [XX]ユーザー
- 1日あたりトランザクション数: [XX]件

### 4.2 可用性要件
- 稼働率: 99.9%
- 定期メンテナンス: 月1回 2時間以内
- 障害復旧時間: 4時間以内

### 4.3 セキュリティ要件
#### 4.3.1 認証・認可
- ユーザー認証: [認証方式]
- パスワードポリシー: [ポリシー]
- セッション管理: [管理方式]

#### 4.3.2 データ保護
- データ暗号化: [暗号化方式]
- 通信暗号化: HTTPS/TLS 1.3
- バックアップ: [頻度・保存期間]

#### 4.3.3 監査・ログ
- アクセスログ: [記録内容]
- 操作ログ: [記録内容]
- ログ保存期間: [期間]

### 4.4 運用・保守要件
#### 4.4.1 運用要件
- 運用時間: [時間帯]
- 監視項目: [監視対象]
- 通知条件: [通知条件]

#### 4.4.2 保守要件
- 保守時間帯: [時間帯]
- 更新頻度: [頻度]
- データ移行: [移行方針]

### 4.5 拡張性要件
- ユーザー数拡張: [倍率]
- データ量拡張: [倍率]
- 機能拡張: [拡張性]

## 5. 制約事項
### 5.1 技術制約
[技術的な制約事項]

### 5.2 環境制約
[環境・インフラの制約事項]

### 5.3 スケジュール制約
[スケジュール上の制約事項]

### 5.4 予算制約
[予算上の制約事項]

## 6. インターフェース要件
### 6.1 外部システム連携
| 連携先システム | 連携方式 | データ形式 | 頻度 |
|----------------|----------|------------|------|
| [システム名] | [方式] | [形式] | [頻度] |

### 6.2 ユーザーインターフェース要件
[UI/UXに関する要件]

## 7. 移行要件
### 7.1 データ移行
[既存システムからのデータ移行要件]

### 7.2 運用移行
[運用体制の移行要件]

## 8. テスト要件
### 8.1 テスト方針
[テストの基本方針]

### 8.2 テスト種別
- 単体テスト: [カバレッジ・基準]
- 結合テスト: [テスト観点]
- システムテスト: [テスト観点]
- 受入テスト: [テスト観点]

## 9. 用語集
| 用語 | 定義 |
|------|------|
| [用語1] | [定義] |
| [用語2] | [定義] |

## 10. 参考資料
[参考にした資料・文献]

---
作成日: [YYYY/MM/DD]
作成者: [氏名]
レビュー者: [氏名]
承認者: [氏名]
版数: 1.0`},{id:"business-flow-template",title:"業務フロー図テンプレート",description:"現状（As-Is）と将来（To-Be）の業務フローを可視化するためのテンプレート。",category:"requirements-definition",type:"template",icon:oS,difficulty:"intermediate",content:`# 業務フロー分析書

## 1. 分析概要
### 1.1 分析目的
[業務フロー分析の目的を記載]

### 1.2 分析範囲
[分析対象の業務範囲を明確化]

### 1.3 分析方法
[ヒアリング、観察、文書調査等の手法]

## 2. 現状業務フロー（As-Is）
### 2.1 業務フロー概要
[現状の業務フローの全体像]

### 2.2 業務フロー詳細
#### フロー図
[フローチャートを挿入]
※記号説明
- ○: 開始/終了
- □: 処理・作業
- ◇: 判断・分岐
- □(二重線): システム処理

#### フロー説明
| ステップ | 作業内容 | 担当者 | 所要時間 | 使用ツール | 備考 |
|----------|----------|--------|----------|------------|------|
| 1 | [作業内容] | [担当者] | [時間] | [ツール] | [備考] |
| 2 | [作業内容] | [担当者] | [時間] | [ツール] | [備考] |

### 2.3 現状の課題・問題点
#### 2.3.1 効率性の課題
[作業効率、時間、コストに関する課題]
- 課題1: [詳細]
- 課題2: [詳細]

#### 2.3.2 品質の課題
[品質、精度、信頼性に関する課題]
- 課題1: [詳細]
- 課題2: [詳細]

#### 2.3.3 情報管理の課題
[情報共有、管理、セキュリティに関する課題]
- 課題1: [詳細]
- 課題2: [詳細]

### 2.4 現状分析結果
#### ボトルネック分析
[処理の遅延箇所や非効率な部分]

#### リスク分析
[業務上のリスクや問題の発生要因]

## 3. 改善方針
### 3.1 改善の基本方針
[業務改善の基本的な考え方]

### 3.2 改善目標
#### 定量目標
- 処理時間短縮: [XX]%削減
- 工数削減: [XX]時間/月
- エラー率削減: [XX]%

#### 定性目標
- [目標1]
- [目標2]

## 4. 将来業務フロー（To-Be）
### 4.1 業務フロー概要
[将来の業務フローの全体像]

### 4.2 業務フロー詳細
#### フロー図
[改善後のフローチャートを挿入]

#### フロー説明
| ステップ | 作業内容 | 担当者 | 所要時間 | システム機能 | 改善点 |
|----------|----------|--------|----------|--------------|--------|
| 1 | [作業内容] | [担当者] | [時間] | [機能] | [改善内容] |
| 2 | [作業内容] | [担当者] | [時間] | [機能] | [改善内容] |

### 4.3 システム化範囲
#### 自動化対象業務
[システムで自動化する業務を明確化]

#### 残存手作業
[システム導入後も手作業で行う業務]

### 4.4 改善効果
#### 定量効果
| 項目 | As-Is | To-Be | 改善効果 |
|------|-------|-------|----------|
| 処理時間 | [XX]時間 | [XX]時間 | [XX]%削減 |
| 人件費 | [XX]万円 | [XX]万円 | [XX]万円削減 |
| エラー率 | [XX]% | [XX]% | [XX]%削減 |

#### 定性効果
- [効果1]
- [効果2]

## 5. 移行計画
### 5.1 移行方針
[現状から将来への移行方法]

### 5.2 移行ステップ
| フェーズ | 期間 | 移行内容 | 注意点 |
|----------|------|----------|--------|
| Phase1 | [期間] | [内容] | [注意点] |
| Phase2 | [期間] | [内容] | [注意点] |

### 5.3 リスクと対策
| リスク | 影響 | 対策 |
|--------|------|------|
| [リスク1] | [影響] | [対策] |
| [リスク2] | [影響] | [対策] |

## 6. 教育・研修計画
### 6.1 研修対象者
[研修が必要な対象者を特定]

### 6.2 研修内容
[システム操作、業務手順等の研修内容]

### 6.3 研修スケジュール
[研修の実施時期とスケジュール]

## 7. 付録
### 7.1 業務フロー図記号説明
[使用する記号の説明]

### 7.2 関連資料
[参考資料や関連文書]

---
作成日: [YYYY/MM/DD]
作成者: [氏名]
確認者: [氏名]
版数: 1.0`},{id:"stakeholder-interview-template",title:"ステークホルダーヒアリングシート",description:"効果的なヒアリングを行うための質問項目と記録用のテンプレート。",category:"requirements-definition",type:"template",icon:xv,difficulty:"beginner",content:`# ステークホルダーヒアリングシート

## ヒアリング情報
- **実施日時**: [YYYY/MM/DD HH:MM-HH:MM]
- **実施場所**: [場所]
- **ヒアリング対象者**: [氏名・所属・役職]
- **ヒアリング実施者**: [氏名]
- **記録者**: [氏名]

## 1. 基本情報
### 1.1 対象者の役割・責任
**Q1**: 現在のお仕事の内容と責任範囲を教えてください。
**A**: 

**Q2**: 新システムに期待する役割は何ですか？
**A**: 

### 1.2 現在の業務状況
**Q3**: 普段どのような業務に一番時間を費やしていますか？
**A**: 

**Q4**: 業務で使用している主なツールやシステムは何ですか？
**A**: 

## 2. 現状の課題・問題点
### 2.1 業務上の課題
**Q5**: 現在の業務で最も困っていることは何ですか？
**A**: 

**Q6**: 日常業務で無駄だと感じることや改善したいことはありますか？
**A**: 

**Q7**: 現在のシステムで不便に感じることはありますか？
**A**: 

### 2.2 情報管理の課題
**Q8**: 情報の共有や管理で困っていることはありますか？
**A**: 

**Q9**: データの入力や確認作業で時間がかかることはありますか？
**A**: 

### 2.3 コミュニケーションの課題
**Q10**: 他部署や関係者との連携で課題を感じることはありますか？
**A**: 

## 3. システムへの要望・期待
### 3.1 機能要望
**Q11**: 新しいシステムに絶対に必要だと思う機能は何ですか？
**A**: 

**Q12**: あったら便利だと思う機能はありますか？
**A**: 

**Q13**: 現在のシステムで気に入っている機能があれば教えてください。
**A**: 

### 3.2 操作性への要望
**Q14**: システムの操作で重視したいことは何ですか？（例：簡単、高速、正確等）
**A**: 

**Q15**: どのようなデバイスからシステムを使用したいですか？
**A**: 

### 3.3 性能への要望
**Q16**: システムの処理速度についてどの程度を期待しますか？
**A**: 

**Q17**: 同時に何人程度がシステムを使用すると想定されますか？
**A**: 

## 4. 運用・保守について
### 4.1 運用時間
**Q18**: システムをいつ使用しますか？（平日/休日、時間帯等）
**A**: 

**Q19**: システムが停止した場合の業務への影響はどの程度ですか？
**A**: 

### 4.2 データ管理
**Q20**: 扱うデータにセキュリティ上の配慮が必要なものはありますか？
**A**: 

**Q21**: どの程度の期間、データを保存する必要がありますか？
**A**: 

### 4.3 サポート体制
**Q22**: システムの操作で困った時、どのようなサポートを期待しますか？
**A**: 

**Q23**: 新システムの研修はどの程度必要だと思いますか？
**A**: 

## 5. 成功基準・評価指標
### 5.1 成功の定義
**Q24**: このシステムが成功したと言えるのはどのような状態ですか？
**A**: 

**Q25**: システム導入前後で何がどう変わっていれば良いと思いますか？
**A**: 

### 5.2 評価指標
**Q26**: システムの効果を測る指標として何が適切だと思いますか？
**A**: 

## 6. 制約・懸念事項
### 6.1 制約事項
**Q27**: システム導入にあたって制約や制限はありますか？
**A**: 

**Q28**: 予算や期間について何か制約はありますか？
**A**: 

### 6.2 懸念事項
**Q29**: 新システム導入について心配なことはありますか？
**A**: 

**Q30**: 現在の業務が変わることで困ることはありますか？
**A**: 

## 7. その他
### 7.1 追加要望
**Q31**: その他、システムに関してご要望やご意見はありますか？
**A**: 

### 7.2 優先順位
**Q32**: 今日お話いただいた内容で、特に重要だと思うものを3つ教えてください。
**A**: 
1. 
2. 
3. 

## 8. フォローアップ
### 8.1 次回確認事項
- [ ] [確認事項1]
- [ ] [確認事項2]
- [ ] [確認事項3]

### 8.2 追加ヒアリング
**必要性**: [要/不要]
**実施予定**: [日時]
**内容**: [ヒアリング内容]

## 9. ヒアリング実施者所見
### 9.1 重要ポイント
[ヒアリングで得られた重要な情報]

### 9.2 課題・検討事項
[さらに詳細確認が必要な事項]

### 9.3 次のアクション
[このヒアリング結果を受けて行うべき次のアクション]

---
記録日: [YYYY/MM/DD]
記録者: [氏名]
確認者: [ヒアリング対象者氏名]`},{id:"system-architecture-template",title:"システム全体構成設計書テンプレート",description:"システムアーキテクチャの基本構成を設計するためのテンプレート。レイヤー構成、技術選択、非機能要件を含む。",category:"basic-design",type:"document",icon:yv,difficulty:"intermediate",content:`# システム全体構成設計書

## 1. 概要
### 1.1 文書の目的
本文書は[システム名]のシステム全体構成を定義し、アーキテクチャの設計方針を明確化することを目的とする。

### 1.2 システム概要
[システムの概要を記載]

## 2. アーキテクチャ方針
### 2.1 基本方針
- **拡張性**: 将来の機能拡張に対応可能な構成
- **保守性**: 運用・保守が容易な構成
- **可用性**: 高い可用性を実現する構成
- **セキュリティ**: セキュアな構成

### 2.2 設計原則
1. **疎結合**: コンポーネント間の依存関係を最小化
2. **モジュール化**: 機能ごとに独立したモジュール構成
3. **標準技術**: 業界標準の技術を採用
4. **性能重視**: 高性能を実現する設計

## 3. システム全体構成
### 3.1 システム構成図
[システム構成図を挿入]

### 3.2 レイヤー構成
#### 3.2.1 プレゼンテーション層
**役割**: ユーザーインターフェースとユーザー操作の処理
**技術**: [フロントエンド技術]
**特徴**:
- レスポンシブデザイン対応
- アクセシビリティ対応
- SEO対応

#### 3.2.2 アプリケーション層
**役割**: ビジネスロジックの実装
**技術**: [バックエンド技術]
**特徴**:
- RESTful API提供
- 認証・認可処理
- バリデーション処理

#### 3.2.3 データアクセス層
**役割**: データベースアクセスの抽象化
**技術**: [ORM/データアクセス技術]
**特徴**:
- データベース依存性の隠蔽
- トランザクション管理
- 接続プール管理

#### 3.2.4 データ層
**役割**: データの永続化
**技術**: [データベース技術]
**特徴**:
- ACID特性の保証
- 高可用性構成
- バックアップ・復旧

## 4. 技術構成
### 4.1 技術スタック一覧
| レイヤー | 技術 | バージョン | 選定理由 |
|----------|------|------------|----------|
| フロントエンド | [技術名] | [バージョン] | [理由] |
| バックエンド | [技術名] | [バージョン] | [理由] |
| データベース | [技術名] | [バージョン] | [理由] |
| Web Server | [技術名] | [バージョン] | [理由] |
| OS | [技術名] | [バージョン] | [理由] |

### 4.2 フレームワーク・ライブラリ
#### フロントエンド
- [フレームワーク名]: [用途・選定理由]
- [ライブラリ名]: [用途・選定理由]

#### バックエンド
- [フレームワーク名]: [用途・選定理由]
- [ライブラリ名]: [用途・選定理由]

## 5. インフラ構成
### 5.1 物理構成
[物理構成図を挿入]

### 5.2 ネットワーク構成
#### 5.2.1 ネットワーク構成図
[ネットワーク構成図を挿入]

#### 5.2.2 セグメント設計
| セグメント | 用途 | IPアドレス範囲 | VLAN ID |
|------------|------|----------------|---------|
| [セグメント名] | [用途] | [IP範囲] | [VLAN] |

### 5.3 サーバー構成
#### 5.3.1 サーバー一覧
| サーバー名 | 役割 | スペック | OS | 台数 |
|------------|------|----------|----|----- |
| [サーバー名] | [役割] | [スペック] | [OS] | [台数] |

#### 5.3.2 ロードバランサー構成
[ロードバランサーの構成と設定]

### 5.4 ストレージ構成
- **データベース用**: [ストレージ仕様]
- **ファイル用**: [ストレージ仕様]
- **バックアップ用**: [ストレージ仕様]

## 6. セキュリティ設計
### 6.1 セキュリティ方針
[セキュリティの基本方針]

### 6.2 認証・認可
#### 6.2.1 認証方式
- **ユーザー認証**: [認証方式]
- **システム間認証**: [認証方式]

#### 6.2.2 認可設計
[権限管理の仕組み]

### 6.3 通信セキュリティ
- **暗号化プロトコル**: [プロトコル]
- **証明書管理**: [管理方法]

### 6.4 データ保護
- **データ暗号化**: [暗号化方式]
- **個人情報保護**: [保護方法]

## 7. 性能設計
### 7.1 性能要件
| 項目 | 目標値 | 条件 |
|------|--------|------|
| 応答時間 | [XX]秒以内 | [条件] |
| スループット | [XX]TPS | [条件] |
| 同時接続数 | [XX]ユーザー | [条件] |

### 7.2 性能対策
#### 7.2.1 フロントエンド
- [対策1]
- [対策2]

#### 7.2.2 バックエンド
- [対策1]
- [対策2]

#### 7.2.3 データベース
- [対策1]
- [対策2]

## 8. 可用性設計
### 8.1 可用性要件
- **稼働率**: [XX]%
- **復旧時間**: [XX]時間以内

### 8.2 冗長化設計
[冗長化の仕組みと構成]

### 8.3 障害対策
#### 8.3.1 障害検知
[監視・アラートの仕組み]

#### 8.3.2 自動復旧
[自動復旧の仕組み]

#### 8.3.3 手動復旧
[手動復旧の手順]

## 9. 運用設計
### 9.1 監視設計
#### 9.1.1 監視対象
| 監視項目 | 監視方法 | 閾値 | 通知先 |
|----------|----------|------|--------|
| [項目] | [方法] | [閾値] | [通知先] |

#### 9.2 ログ設計
[ログの出力方針と管理方法]

### 9.3 バックアップ設計
[バックアップの方針と手順]

## 10. 移行設計
### 10.1 移行方針
[既存システムからの移行方針]

### 10.2 移行手順
[移行の手順とスケジュール]

---
作成日: [YYYY/MM/DD]
作成者: [氏名]
レビュー者: [氏名]
承認者: [氏名]
版数: 1.0`},{id:"ui-design-template",title:"画面設計書テンプレート",description:"ワイヤーフレーム、画面遷移図、入力検証ルールを含む包括的な画面設計テンプレート。",category:"external-design",type:"document",icon:Fd,difficulty:"intermediate",content:`# 画面設計書

## 1. 概要
### 1.1 文書の目的
本文書は[システム名]の画面設計仕様を定義し、開発の指針とすることを目的とする。

### 1.2 対象画面
[設計対象の画面範囲]

### 1.3 設計方針
- **ユーザビリティ**: 直感的で使いやすいインターフェース
- **アクセシビリティ**: WCAG 2.1 AA準拠
- **レスポンシブ**: モバイル・タブレット・PC対応
- **一貫性**: 統一されたデザインシステム

## 2. 画面一覧
### 2.1 画面構成
| 画面ID | 画面名 | 機能概要 | 対象ユーザー | 優先度 |
|--------|--------|----------|--------------|--------|
| SCR001 | [画面名] | [機能概要] | [ユーザー種別] | [高/中/低] |
| SCR002 | [画面名] | [機能概要] | [ユーザー種別] | [高/中/低] |

### 2.2 画面遷移図
[画面遷移図を挿入]

## 3. 共通設計
### 3.1 レイアウト設計
#### 3.1.1 基本レイアウト
[基本レイアウト図を挿入]

#### 3.1.2 グリッドシステム
- **デスクトップ**: 12カラムグリッド
- **タブレット**: 8カラムグリッド  
- **モバイル**: 4カラムグリッド

#### 3.1.3 ブレークポイント
| デバイス | 画面幅 | 最適化内容 |
|----------|--------|------------|
| モバイル | ~768px | [最適化内容] |
| タブレット | 769px~1024px | [最適化内容] |
| デスクトップ | 1025px~ | [最適化内容] |

### 3.2 カラーパレット
#### 3.2.1 ブランドカラー
- **プライマリ**: #[HEX] - [用途]
- **セカンダリ**: #[HEX] - [用途]
- **アクセント**: #[HEX] - [用途]

#### 3.2.2 システムカラー
- **成功**: #[HEX] - 成功メッセージ
- **警告**: #[HEX] - 警告メッセージ
- **エラー**: #[HEX] - エラーメッセージ
- **情報**: #[HEX] - 情報メッセージ

### 3.3 タイポグラフィ
#### 3.3.1 フォント
- **メインフォント**: [フォント名]
- **サブフォント**: [フォント名]

#### 3.3.2 文字サイズ
| 用途 | サイズ | 行間 | 用途 |
|------|--------|------|------|
| h1 | 32px | 1.2 | ページタイトル |
| h2 | 24px | 1.3 | セクションタイトル |
| h3 | 20px | 1.4 | サブタイトル |
| body | 16px | 1.5 | 本文 |
| small | 14px | 1.4 | 補足テキスト |

### 3.4 コンポーネント設計
#### 3.4.1 ボタン
[ボタンの種類とスタイル]

#### 3.4.2 フォーム
[入力フィールドの種類とスタイル]

#### 3.4.3 ナビゲーション
[ナビゲーションの種類とスタイル]

## 4. 画面詳細設計
### 4.1 [画面名] (SCR001)
#### 4.1.1 画面概要
**目的**: [画面の目的]
**対象ユーザー**: [対象ユーザー]
**アクセス方法**: [アクセス経路]

#### 4.1.2 ワイヤーフレーム
[ワイヤーフレーム図を挿入]

#### 4.1.3 画面要素
| 要素ID | 要素名 | 種別 | 必須 | 説明 |
|--------|--------|------|------|------|
| E001 | [要素名] | [種別] | [○/△/-] | [説明] |
| E002 | [要素名] | [種別] | [○/△/-] | [説明] |

#### 4.1.4 入力項目詳細
##### E001: [項目名]
- **種別**: [テキスト/選択/日付等]
- **最大文字数**: [文字数]
- **入力形式**: [形式]
- **必須チェック**: [チェック内容]
- **形式チェック**: [チェック内容]
- **初期値**: [初期値]
- **プレースホルダー**: [表示文言]

#### 4.1.5 表示項目詳細
##### E002: [項目名]
- **データソース**: [データの取得元]
- **表示形式**: [表示形式]
- **更新タイミング**: [更新条件]
- **ソート**: [ソート方法]
- **フィルタ**: [フィルタ条件]

#### 4.1.6 操作・イベント
| 操作対象 | イベント | 処理内容 | 遷移先 |
|----------|----------|----------|--------|
| [ボタン名] | クリック | [処理内容] | [遷移先] |
| [フィールド名] | 入力 | [処理内容] | - |

#### 4.1.7 エラーハンドリング
| エラー条件 | エラーメッセージ | 表示位置 | 対処方法 |
|------------|------------------|----------|----------|
| [条件] | [メッセージ] | [位置] | [対処法] |

#### 4.1.8 権限制御
| ユーザー種別 | 参照 | 追加 | 更新 | 削除 |
|--------------|------|------|------|------|
| [種別1] | ○ | ○ | ○ | × |
| [種別2] | ○ | × | × | × |

#### 4.1.9 レスポンシブ対応
##### モバイル表示
[モバイル時の表示方法]

##### タブレット表示
[タブレット時の表示方法]

## 5. 画面遷移仕様
### 5.1 遷移パターン
[画面遷移のパターンと条件]

### 5.2 パンくずリスト
[パンくずリストの表示仕様]

### 5.3 戻る・進む操作
[ブラウザの戻る・進むボタンの動作]

## 6. 操作性・UX設計
### 6.1 キーボード操作
[キーボードでの操作方法]

### 6.2 マウス操作
[マウスでの操作方法]

### 6.3 タッチ操作
[タッチデバイスでの操作方法]

### 6.4 ローディング表示
[読み込み中の表示方法]

### 6.5 プログレス表示
[進捗状況の表示方法]

## 7. アクセシビリティ
### 7.1 対応方針
[アクセシビリティ対応の方針]

### 7.2 スクリーンリーダー対応
[スクリーンリーダーへの対応]

### 7.3 キーボードナビゲーション
[キーボードでのナビゲーション]

## 8. 性能・表示速度
### 8.1 表示速度要件
[画面表示速度の要件]

### 8.2 最適化方針
[表示速度最適化の方針]

## 9. テスト観点
### 9.1 表示テスト
[表示確認のテスト項目]

### 9.2 操作テスト
[操作確認のテスト項目]

### 9.3 レスポンシブテスト
[レスポンシブ対応のテスト項目]

---
作成日: [YYYY/MM/DD]
作成者: [氏名]
デザイナー: [氏名]
レビュー者: [氏名]
版数: 1.0`},{id:"coding-standards",title:"コーディング規約テンプレート",description:"JavaScript/TypeScript、Python、Java等の言語別コーディング規約テンプレート。",category:"development-prep",type:"document",icon:wk,difficulty:"beginner",content:`# コーディング規約

## 1. 概要
### 1.1 目的
本規約は、開発チーム全体でコードの品質と可読性を保つことを目的とする。

### 1.2 適用範囲
- プロジェクト: [プロジェクト名]
- 対象言語: [対象言語]
- 対象者: 開発チーム全員

### 1.3 基本方針
- **可読性**: 理解しやすいコード
- **保守性**: 変更・修正しやすいコード
- **一貫性**: 統一されたスタイル
- **効率性**: パフォーマンスを考慮したコード

## 2. ファイル構成・命名規則
### 2.1 ディレクトリ構成
\`\`\`
src/
├── components/          # コンポーネント
├── pages/              # ページ
├── hooks/              # カスタムフック
├── utils/              # ユーティリティ
├── types/              # 型定義
├── constants/          # 定数
├── api/                # API関連
├── styles/             # スタイル
└── tests/              # テスト
\`\`\`

### 2.2 ファイル命名規則
| 種類 | 命名規則 | 例 |
|------|----------|-----|
| コンポーネント | PascalCase | \`UserProfile.tsx\` |
| ページ | kebab-case | \`user-profile.tsx\` |
| ユーティリティ | camelCase | \`dateUtils.ts\` |
| 定数 | UPPER_SNAKE_CASE | \`API_ENDPOINTS.ts\` |
| 型定義 | PascalCase | \`UserTypes.ts\` |

### 2.3 変数・関数命名規則
#### 2.3.1 変数名
- **camelCase**を使用
- 意味のある名前を付ける
- 略語は避ける

\`\`\`typescript
// ✅ Good
const userName = 'john_doe';
const userAge = 25;
const isUserActive = true;

// ❌ Bad
const un = 'john_doe';
const a = 25;
const flag = true;
\`\`\`

#### 2.3.2 関数名
- **camelCase**を使用
- 動詞から始める
- 何をする関数か明確にする

\`\`\`typescript
// ✅ Good
function getUserProfile(userId: string): UserProfile {}
function validateEmail(email: string): boolean {}
function calculateTotalPrice(items: Item[]): number {}

// ❌ Bad
function user(id: string): UserProfile {}
function check(email: string): boolean {}
function total(items: Item[]): number {}
\`\`\`

#### 2.3.3 定数名
- **UPPER_SNAKE_CASE**を使用
- 意味のある名前を付ける

\`\`\`typescript
// ✅ Good
const MAX_RETRY_COUNT = 3;
const API_BASE_URL = 'https://api.example.com';
const DEFAULT_TIMEOUT = 5000;

// ❌ Bad
const max = 3;
const url = 'https://api.example.com';
const timeout = 5000;
\`\`\`

## 3. TypeScript/JavaScript 規約
### 3.1 型定義
#### 3.1.1 基本的な型定義
\`\`\`typescript
// インターフェース定義
interface User {
  id: string;
  name: string;
  email: string;
  age?: number; // オプショナル
}

// 型エイリアス
type Status = 'pending' | 'approved' | 'rejected';
type UserRole = 'admin' | 'user' | 'guest';
\`\`\`

#### 3.1.2 Generics の使用
\`\`\`typescript
// ✅ Good
interface ApiResponse<T> {
  data: T;
  status: number;
  message: string;
}

function fetchData<T>(url: string): Promise<ApiResponse<T>> {
  // 実装
}

// 使用例
const users = await fetchData<User[]>('/api/users');
\`\`\`

### 3.2 関数・メソッド
#### 3.2.1 Arrow Function vs Function Declaration
\`\`\`typescript
// ✅ コンポーネント: Arrow Function
const UserProfile: React.FC<Props> = ({ user }) => {
  return <div>{user.name}</div>;
};

// ✅ ユーティリティ関数: Function Declaration
function formatDate(date: Date): string {
  return date.toLocaleDateString();
}

// ✅ イベントハンドラー: Arrow Function
const handleClick = useCallback((event: MouseEvent) => {
  // 処理
}, []);
\`\`\`

#### 3.2.2 async/await の使用
\`\`\`typescript
// ✅ Good
async function fetchUserData(userId: string): Promise<User> {
  try {
    const response = await fetch(\`/api/users/\${userId}\`);
    if (!response.ok) {
      throw new Error('Failed to fetch user data');
    }
    return await response.json();
  } catch (error) {
    console.error('Error fetching user data:', error);
    throw error;
  }
}

// ❌ Bad - Promise chain
function fetchUserData(userId: string): Promise<User> {
  return fetch(\`/api/users/\${userId}\`)
    .then(response => response.json())
    .catch(error => console.error(error));
}
\`\`\`

### 3.3 条件分岐・ループ
#### 3.3.1 条件分岐
\`\`\`typescript
// ✅ Good - Early Return
function validateUser(user: User): boolean {
  if (!user.email) {
    return false;
  }
  
  if (!user.name) {
    return false;
  }
  
  return true;
}

// ✅ Good - Optional Chaining
const userName = user?.profile?.name ?? 'Unknown';

// ✅ Good - Nullish Coalescing
const timeout = config.timeout ?? DEFAULT_TIMEOUT;
\`\`\`

#### 3.3.2 配列操作
\`\`\`typescript
// ✅ Good - map, filter, reduce の活用
const activeUsers = users
  .filter(user => user.isActive)
  .map(user => ({
    id: user.id,
    name: user.name,
    email: user.email
  }));

// ✅ Good - 分割代入
const [first, second, ...rest] = items;
const { name, email } = user;
\`\`\`

## 4. React/Next.js 規約
### 4.1 コンポーネント設計
#### 4.1.1 関数コンポーネント
\`\`\`typescript
// ✅ Good
interface UserCardProps {
  user: User;
  onEdit?: (user: User) => void;
  onDelete?: (userId: string) => void;
}

const UserCard: React.FC<UserCardProps> = ({ 
  user, 
  onEdit, 
  onDelete 
}) => {
  return (
    <div className="user-card">
      <h3>{user.name}</h3>
      <p>{user.email}</p>
      {onEdit && <button onClick={() => onEdit(user)}>Edit</button>}
      {onDelete && <button onClick={() => onDelete(user.id)}>Delete</button>}
    </div>
  );
};
\`\`\`

#### 4.1.2 Hooks の使用
\`\`\`typescript
// ✅ Good - カスタムフック
function useUserData(userId: string) {
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const fetchUser = async () => {
      try {
        setLoading(true);
        const userData = await fetchUserData(userId);
        setUser(userData);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Unknown error');
      } finally {
        setLoading(false);
      }
    };

    if (userId) {
      fetchUser();
    }
  }, [userId]);

  return { user, loading, error };
}
\`\`\`

### 4.2 State 管理
\`\`\`typescript
// ✅ Good - useReducer for complex state
interface State {
  users: User[];
  loading: boolean;
  error: string | null;
}

type Action = 
  | { type: 'FETCH_START' }
  | { type: 'FETCH_SUCCESS'; payload: User[] }
  | { type: 'FETCH_ERROR'; payload: string };

function userReducer(state: State, action: Action): State {
  switch (action.type) {
    case 'FETCH_START':
      return { ...state, loading: true, error: null };
    case 'FETCH_SUCCESS':
      return { ...state, loading: false, users: action.payload };
    case 'FETCH_ERROR':
      return { ...state, loading: false, error: action.payload };
    default:
      return state;
  }
}
\`\`\`

## 5. エラーハンドリング
### 5.1 エラーの種類と対応
\`\`\`typescript
// カスタムエラークラス
class ApiError extends Error {
  constructor(
    message: string,
    public status: number,
    public code?: string
  ) {
    super(message);
    this.name = 'ApiError';
  }
}

// エラーハンドリング
async function apiCall<T>(url: string): Promise<T> {
  try {
    const response = await fetch(url);
    
    if (!response.ok) {
      throw new ApiError(
        'API request failed',
        response.status,
        'API_ERROR'
      );
    }
    
    return await response.json();
  } catch (error) {
    if (error instanceof ApiError) {
      // API エラーの処理
      throw error;
    } else {
      // その他のエラー
      throw new Error('Unexpected error occurred');
    }
  }
}
\`\`\`

## 6. コメント・ドキュメント
### 6.1 JSDoc
\`\`\`typescript
/**
 * ユーザーデータを取得する
 * @param userId - ユーザーID
 * @param includeProfile - プロフィール情報を含めるかどうか
 * @returns ユーザーデータ
 * @throws {ApiError} API呼び出しに失敗した場合
 */
async function fetchUser(
  userId: string, 
  includeProfile = false
): Promise<User> {
  // 実装
}
\`\`\`

### 6.2 インラインコメント
\`\`\`typescript
// ✅ Good - why not what
// XSS攻撃を防ぐためにHTMLエスケープを行う
const escapedHtml = escapeHtml(userInput);

// ブラウザの互換性のため setTimeout を使用
// requestAnimationFrame は IE10以下で未対応
setTimeout(callback, 0);

// ❌ Bad - what not why
// ユーザー名を取得
const name = user.name;
\`\`\`

## 7. テスト
### 7.1 テストファイル命名
\`\`\`
src/
├── utils/
│   ├── dateUtils.ts
│   └── dateUtils.test.ts
├── components/
│   ├── UserCard.tsx
│   └── UserCard.test.tsx
\`\`\`

### 7.2 テストの書き方
\`\`\`typescript
describe('UserCard', () => {
  it('should render user name and email', () => {
    const user = {
      id: '1',
      name: 'John Doe',
      email: 'john@example.com'
    };
    
    render(<UserCard user={user} />);
    
    expect(screen.getByText('John Doe')).toBeInTheDocument();
    expect(screen.getByText('john@example.com')).toBeInTheDocument();
  });
  
  it('should call onEdit when edit button is clicked', () => {
    const user = { id: '1', name: 'John', email: 'john@example.com' };
    const onEdit = jest.fn();
    
    render(<UserCard user={user} onEdit={onEdit} />);
    
    fireEvent.click(screen.getByText('Edit'));
    
    expect(onEdit).toHaveBeenCalledWith(user);
  });
});
\`\`\`

## 8. パフォーマンス
### 8.1 React最適化
\`\`\`typescript
// ✅ memo for expensive components
const ExpensiveComponent = React.memo<Props>(({ data }) => {
  return <div>{/* expensive rendering */}</div>;
});

// ✅ useMemo for expensive calculations
const expensiveValue = useMemo(() => {
  return heavyCalculation(data);
}, [data]);

// ✅ useCallback for event handlers
const handleClick = useCallback((id: string) => {
  onItemClick(id);
}, [onItemClick]);
\`\`\`

## 9. セキュリティ
### 9.1 基本原則
\`\`\`typescript
// ✅ 入力値の検証
function validateEmail(email: string): boolean {
  const emailRegex = /^[^s@]+@[^s@]+.[^s@]+$/;
  return emailRegex.test(email);
}

// ✅ XSS対策
import DOMPurify from 'dompurify';

function SafeHtml({ html }: { html: string }) {
  const cleanHtml = DOMPurify.sanitize(html);
  return <div dangerouslySetInnerHTML={{ __html: cleanHtml }} />;
}

// ✅ 環境変数の使用
const apiUrl = ({}).NEXT_PUBLIC_API_URL;
\`\`\`

## 10. Linter・Formatter設定
### 10.1 ESLint設定例
\`\`\`json
{
  "extends": [
    "@typescript-eslint/recommended",
    "next/core-web-vitals"
  ],
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "@typescript-eslint/explicit-function-return-type": "warn",
    "prefer-const": "error",
    "no-console": "warn"
  }
}
\`\`\`

### 10.2 Prettier設定例
\`\`\`json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2
}
\`\`\`

---
作成日: [YYYY/MM/DD]
作成者: [氏名]
レビュー者: [氏名]
版数: 1.0`},{id:"meeting-minutes",title:"会議議事録テンプレート",description:"設計レビュー、進捗報告、課題管理等の会議で使用する議事録テンプレート。",category:"common",type:"template",icon:ca,difficulty:"beginner",content:`# 会議議事録

## 会議基本情報
- **会議名**: [会議名]
- **開催日時**: [YYYY/MM/DD HH:MM-HH:MM]
- **開催場所**: [場所 / オンライン（ツール名）]
- **司会**: [氏名]
- **記録**: [氏名]

## 参加者
### 出席者
| 氏名 | 所属・役職 | 備考 |
|------|------------|------|
| [氏名] | [所属・役職] | [備考] |
| [氏名] | [所属・役職] | [備考] |

### 欠席者
| 氏名 | 所属・役職 | 欠席理由 |
|------|------------|----------|
| [氏名] | [所属・役職] | [理由] |

## 会議の目的・議題
### 目的
[会議の目的を記載]

### 議題
1. [議題1]
2. [議題2]
3. [議題3]

## 配布資料
- [資料名1] - [作成者]
- [資料名2] - [作成者]
- [資料名3] - [作成者]

## 前回議事録確認
### 前回のアクションアイテム進捗
| 項目 | 担当者 | 期限 | 状況 | 備考 |
|------|--------|------|------|------|
| [項目] | [担当者] | [期限] | [完了/進行中/未着手] | [備考] |

## 討議内容・決定事項
### 議題1: [議題名]
#### 討議内容
[討議の内容を詳細に記載]

#### 決定事項
- [決定事項1]
- [決定事項2]

#### 残課題・懸念事項
- [課題1]
- [課題2]

### 議題2: [議題名]
#### 討議内容
[討議の内容を詳細に記載]

#### 決定事項
- [決定事項1]
- [決定事項2]

#### 残課題・懸念事項
- [課題1]
- [課題2]

## アクションアイテム
| No | 内容 | 担当者 | 期限 | 確認方法 | 優先度 |
|----|------|--------|------|----------|--------|
| 1 | [アクション内容] | [担当者] | [YYYY/MM/DD] | [確認方法] | [高/中/低] |
| 2 | [アクション内容] | [担当者] | [YYYY/MM/DD] | [確認方法] | [高/中/低] |

## 次回会議
- **開催予定日**: [YYYY/MM/DD HH:MM-HH:MM]
- **議題予定**: 
  1. [予定議題1]
  2. [予定議題2]
- **準備事項**: [準備が必要な事項]

## その他・補足事項
[その他の重要な情報や補足事項]

## 添付資料
- [添付資料1]
- [添付資料2]

---
**記録者確認**: [記録者氏名] [確認日: YYYY/MM/DD]
**司会者確認**: [司会者氏名] [確認日: YYYY/MM/DD]
**配布先**: [配布先一覧]
**配布日**: [YYYY/MM/DD]`}],Bp={"requirements-definition":"要件定義","basic-design":"基本設計","external-design":"外部設計","development-prep":"開発準備",common:"共通"},H3={"requirements-definition":bv,"basic-design":Gt,"external-design":wv,"development-prep":Ld,common:zd},q3={document:Gt,checklist:We,template:Fd};function K3(){const[e,t]=h.useState("all"),[n,r]=h.useState("all"),s=W3.filter(i=>{const l=e==="all"||i.category===e,c=n==="all"||i.type===n;return l&&c}),o=i=>{const l=new Blob([i.content],{type:"text/markdown"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=`${i.title.replace(/\s+/g,"_")}.md`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c),console.log(`Downloaded: ${i.title}`)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"テンプレート一覧"}),a.jsx("p",{className:"text-gray-600",children:"システム開発で使用できるテンプレートをダウンロードできます。各フェーズに応じたテンプレートをご利用ください。"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"カテゴリ:"}),a.jsxs("select",{value:e,onChange:i=>t(i.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"すべて"}),Object.entries(Bp).map(([i,l])=>a.jsx("option",{value:i,children:l},i))]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"タイプ:"}),a.jsxs("select",{value:n,onChange:i=>r(i.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"すべて"}),a.jsx("option",{value:"document",children:"文書"}),a.jsx("option",{value:"checklist",children:"チェックリスト"}),a.jsx("option",{value:"template",children:"テンプレート"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(i=>{const l=i.icon;H3[i.category];const c=q3[i.type];return a.jsxs(Fe,{className:"rounded-2xl border-gray-200 hover:shadow-lg transition-all duration-200",children:[a.jsxs(et,{className:"pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:a.jsx(l,{className:"h-5 w-5 text-blue-600"})}),a.jsx("div",{children:a.jsx(Se,{variant:"outline",className:"text-xs",children:Bp[i.category]})})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(c,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-xs text-gray-500",children:i.type})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(tt,{className:"text-lg line-clamp-2 flex-1 min-w-0",children:i.title}),a.jsx(Se,{variant:i.difficulty==="beginner"?"secondary":i.difficulty==="intermediate"?"default":"destructive",className:"text-xs flex-shrink-0",children:i.difficulty==="beginner"?"初級":i.difficulty==="intermediate"?"中級":"上級"})]})]}),a.jsxs(ze,{className:"pt-0",children:[a.jsx(ut,{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:i.description}),a.jsxs(ee,{onClick:()=>o(i),className:"w-full rounded-xl bg-blue-600 hover:bg-blue-700",children:[a.jsx(Ud,{className:"h-4 w-4 mr-2"}),"ダウンロード"]})]})]},i.id)})}),s.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Gt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"テンプレートが見つかりません"}),a.jsx("p",{className:"text-gray-600",children:"別のフィルター条件を試してください。"})]})]})}const Xl=768;function G3(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Xl-1}px)`),r=()=>{t(window.innerWidth<Xl)};return n.addEventListener("change",r),t(window.innerWidth<Xl),()=>n.removeEventListener("change",r)},[]),!!e}const Y3=[{id:"requirements-definition",label:"要件定義",icon:a.jsx("span",{children:"🔍"})},{id:"basic-design",label:"基本設計",icon:a.jsx("span",{children:"📝"})},{id:"external-design",label:"外部設計",icon:a.jsx("span",{children:"📐"})},{id:"development-prep",label:"開発準備",icon:a.jsx("span",{children:"⚙️"})}];function X3({phase:e}){const t=e.tasks.filter(o=>o.status==="completed").length,n=e.tasks.length,r=e.deliverables.filter(o=>o.status==="completed").length,s=e.deliverables.length;return a.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-xl border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(We,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"font-semibold text-gray-800",children:"進捗サマリー"})]}),a.jsx("span",{className:"text-xs text-gray-500",children:e.title})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-700",children:"タスク"}),a.jsxs("div",{className:"font-bold",children:[t,"/",n," 完了"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-700",children:"成果物"}),a.jsxs("div",{className:"font-bold",children:[r,"/",s," 完了"]})]})]})]})}function Q3({phase:e,onTaskUpdate:t}){const n=s=>{switch(s){case"high":return"bg-red-100 text-red-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-gray-100 text-gray-600";default:return"bg-gray-100 text-gray-600"}},r=s=>{switch(s){case"high":return"高";case"medium":return"中";case"low":return"低";default:return"低"}};return a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-base font-bold mb-2",children:"主要タスク"}),a.jsx("div",{className:"space-y-3",children:e.tasks.map(s=>a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-white",children:[a.jsx("input",{type:"checkbox",checked:s.status==="completed",onChange:()=>t(s.id,s.status==="completed"?"not-started":"completed"),className:"mt-1 accent-blue-500"}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-sm ${s.status==="completed"?"line-through text-gray-400":""}`,children:s.title}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${n(s.priority)}`,children:r(s.priority)})]}),a.jsx("p",{className:`text-xs text-gray-600 ${s.status==="completed"?"line-through":""}`,children:s.description})]})]},s.id))})]})}function J3({phase:e,onStatusUpdate:t}){const n=s=>{switch(s){case"completed":return"bg-green-100 text-green-700";case"in-progress":return"bg-yellow-100 text-yellow-700";case"not-started":return"bg-gray-100 text-gray-600";default:return"bg-gray-100 text-gray-600"}},r=s=>{switch(s){case"completed":return"完了";case"in-progress":return"進行中";case"not-started":return"未着手";default:return"未着手"}};return a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-base font-bold mb-2",children:"主要成果物"}),a.jsx("div",{className:"space-y-3",children:e.deliverables.map(s=>a.jsxs("div",{className:"p-3 border rounded-lg bg-white space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:s.title}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${n(s.status)}`,children:r(s.status)})]}),a.jsx("p",{className:"text-xs text-gray-600",children:s.description}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"ステータス:"}),a.jsxs("select",{value:s.status,onChange:o=>t(s.id,o.target.value),className:"border rounded px-2 py-1 text-xs",children:[a.jsx("option",{value:"not-started",children:"未着手"}),a.jsx("option",{value:"in-progress",children:"進行中"}),a.jsx("option",{value:"completed",children:"完了"})]})]})]},s.id))})]})}function Z3({phaseData:e,onCheck:t}){const n=r=>{const s=r.length,o=r.filter(i=>i.status==="completed").length;return{completed:o,total:s,percent:s?Math.round(o/s*100):0}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-bold mb-2",children:"成果物チェックリスト"}),Object.entries(e).map(([r,s])=>{const o=s,i=n(o.deliverables);return a.jsxs("details",{className:"bg-white rounded-xl shadow p-4",children:[a.jsxs("summary",{className:"flex items-center gap-2 cursor-pointer font-semibold text-base",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:o.title[0]}),a.jsx("span",{children:o.title}),a.jsxs("span",{className:"ml-auto text-xs bg-gray-100 rounded px-2 py-0.5",children:[i.completed,"/",i.total," 完了"]}),a.jsxs("span",{className:"ml-2 text-xs bg-green-100 text-green-800 rounded px-2",children:[i.percent,"%"]})]}),a.jsx("ul",{className:"mt-3 space-y-2",children:o.deliverables.map((l,c)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:l.status==="completed",onChange:()=>t(r,l.id,l.status==="completed"?"not-started":"completed"),className:"accent-blue-500"}),a.jsx("span",{className:l.status==="completed"?"line-through text-gray-400":"",children:l.title})]},l.id))})]},r)})]})}const eP=[{id:"project-proposal-template",title:"企画書テンプレート",description:"システム開発の目的、ターゲット、期待効果、ビジネスゴールを整理するための企画書テンプレート。",category:"requirements-definition",type:"document",icon:Wa,difficulty:"intermediate",content:`# システム開発企画書
...（省略）`},{id:"requirements-definition-template",title:"要件定義書テンプレート",description:"機能要件・非機能要件を体系的に整理し、開発の基盤となる要件定義書を作成するためのテンプレート。",category:"requirements-definition",type:"document",icon:Gt,difficulty:"advanced",content:`# 要件定義書
...（省略）`},{id:"business-flow-template",title:"業務フロー図テンプレート",description:"現状（As-Is）と将来（To-Be）の業務フローを可視化するためのテンプレート。",category:"requirements-definition",type:"template",icon:Fd,difficulty:"intermediate",content:`# 業務フロー分析書
...（省略）`},{id:"coding-standards",title:"コーディング規約テンプレート",description:"JavaScript/TypeScript、Python、Java等の言語別コーディング規約テンプレート。",category:"development-prep",type:"document",icon:Ld,difficulty:"beginner",content:`# コーディング規約
...（省略）`},{id:"meeting-minutes",title:"会議議事録テンプレート",description:"設計レビュー、進捗報告、課題管理等の会議で使用する議事録テンプレート。",category:"common",type:"template",icon:Gt,difficulty:"beginner",content:`# 会議議事録
...（省略）`}],tP={"requirements-definition":"要件定義","basic-design":"基本設計","external-design":"外部設計","development-prep":"開発準備",common:"共通"},nP={beginner:"初級",intermediate:"中級",advanced:"上級"};function rP(){const e=t=>{const n=new Blob([t.content],{type:"text/markdown"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`${t.title.replace(/\s+/g,"_")}.md`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"テンプレート一覧"}),a.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"システム開発で使える各種テンプレートをダウンロードできます。"}),a.jsx("div",{className:"space-y-4",children:eP.map(t=>{const n=t.icon;return a.jsxs("div",{className:"border rounded-xl p-4 bg-white flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(n,{className:"h-5 w-5 text-blue-600"})}),a.jsx("span",{className:"text-xs text-gray-500",children:tP[t.category]}),a.jsx("span",{className:`ml-auto px-2 py-0.5 rounded text-xs font-bold ${t.difficulty==="beginner"?"bg-green-100 text-green-800":t.difficulty==="intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:nP[t.difficulty]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"font-semibold text-base truncate flex-1",children:t.title})}),a.jsx("p",{className:"text-xs text-gray-600 mb-2",children:t.description}),a.jsxs("button",{onClick:()=>e(t),className:"w-full rounded-lg bg-blue-600 hover:bg-blue-700 text-white py-2 flex items-center justify-center gap-2 text-sm font-medium",children:[a.jsx(Ud,{className:"h-4 w-4"}),"ダウンロード"]})]},t.id)})})]})}function sP(){const e=[{title:"段階的な開発アプローチ",description:"各フェーズを順序立てて進め、前の段階の成果物を確実に固めてから次へ進む",icon:"📚"},{title:"ステークホルダー中心の開発",description:"関係者全員を巻き込み、合意形成を重視しながらプロジェクトを進める",icon:"👥"},{title:"継続的な改善とレビュー",description:"定期的な振り返りと改善を通じて、品質向上とリスク軽減を図る",icon:"🔄"},{title:"透明性のある情報共有",description:"進捗状況、課題、決定事項を関係者全員に適切に共有する",icon:"💬"},{title:"品質重視の開発",description:"テストやレビューを通じて品質を確保し、保守性の高いシステムを構築する",icon:"🛡️"},{title:"包括的なドキュメント化",description:"開発プロセスと成果物を適切に文書化し、ナレッジを蓄積する",icon:"📄"}],t=[{id:1,title:"要件定義",duration:"2-6週間",description:"「何を作るのか」を明確にし、システムに求められる機能や非機能要件を具体化する",keyActivities:["プロジェクトの目的と目標の明確化","現状業務の分析と課題特定","ユーザーヒアリングと要求収集","機能要件の洗い出しと詳細化","非機能要件の定義","要件の優先順位付け"],deliverables:["企画書","要件定義書","業務フロー図（As-Is/To-Be）","ユーザーストーリー","機能一覧"],tips:["要件ヒアリングでは「なぜ」を深く掘り下げる","MoSCoW法で要件の優先順位を明確化","ステークホルダー全員の合意を文書で確認"]},{id:2,title:"基本設計",duration:"2-4週間",description:"要件定義で定義された内容を、システムとしてどう実現するかを具体化する",keyActivities:["システム全体構成設計","データベース論理・物理設計","機能概要設計","外部インターフェース設計","非機能要件の詳細化"],deliverables:["基本設計書","システム構成図","データベース設計書","テスト計画書（概要）"],tips:["ステークホルダーとの定期的なレビューを実施","アーキテクチャの選定理由を文書化","パフォーマンス要件を数値で明確化"]},{id:3,title:"外部設計",duration:"3-5週間",description:"基本設計の内容を、ユーザーにとって使いやすい形に落とし込む",keyActivities:["UI設計","UX設計","入力・出力情報の詳細設計","エラーハンドリングの検討","帳票設計"],deliverables:["画面設計書","ワイヤーフレーム・プロトタイプ","入出力設計書","UI/UX仕様書"],tips:["ユーザビリティテストを早期実施","アクセシビリティを考慮した設計","レスポンシブデザインの検討"]},{id:4,title:"開発準備",duration:"1-2週間",description:"開発をスムーズに開始するための最終準備",keyActivities:["開発環境の構築","開発技術の最終決定","バージョン管理システムの導入","コーディング規約の策定","プロジェクト管理ツールの準備"],deliverables:["開発環境構築手順書","コーディング規約","開発スケジュール詳細","チーム開発ガイドライン"],tips:["CI/CDパイプラインの早期構築","コードレビュープロセスの確立","チーム内のコミュニケーションルール策定"]}],n=[{title:"要件の曖昧さ",description:"要件が曖昧なまま設計を進めると、後で大幅な修正が必要になる",solution:"具体的で測定可能な要件を定義し、不明点は必ず確認する"},{title:"ステークホルダーとの認識齟齬",description:"関係者間で認識が異なると、プロジェクトが迷走する",solution:"定期的なミーティングと文書による確認を徹底する"},{title:"技術選定の遅れ",description:"技術選定が遅れると、設計や開発に影響する",solution:"早期に技術調査を行い、PoC（概念実証）で検証する"},{title:"ドキュメントの不備",description:"不十分なドキュメントは、後の開発や保守で問題となる",solution:"テンプレートを活用し、レビューを通じて品質を確保する"}];return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow",children:[a.jsx("h2",{className:"text-lg font-bold mb-2",children:"システム開発の基本原則"}),a.jsx("ul",{className:"space-y-2",children:e.map((r,s)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl mt-1",children:r.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:r.title}),a.jsx("div",{className:"text-sm text-gray-600",children:r.description})]})]},s))})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow",children:[a.jsx("h2",{className:"text-lg font-bold mb-2",children:"フェーズ別実行ガイド"}),a.jsx("div",{className:"divide-y",children:t.map(r=>a.jsxs("details",{className:"py-4",children:[a.jsxs("summary",{className:"font-semibold text-base cursor-pointer flex items-center gap-2",children:[a.jsx("span",{className:"w-7 h-7 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:r.id}),a.jsx("span",{children:r.title}),a.jsx("span",{className:"ml-2 text-xs bg-gray-100 rounded px-2 py-0.5",children:r.duration})]}),a.jsxs("div",{className:"mt-3 ml-8 space-y-2",children:[a.jsx("div",{className:"text-sm text-gray-700 mb-1",children:r.description}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-sm",children:"主要活動"}),a.jsx("ul",{className:"list-disc ml-5 text-sm text-gray-600",children:r.keyActivities.map((s,o)=>a.jsx("li",{children:s},o))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-sm mt-2",children:"成果物"}),a.jsx("ul",{className:"list-disc ml-5 text-sm text-gray-600",children:r.deliverables.map((s,o)=>a.jsx("li",{children:s},o))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-sm mt-2",children:"重要ポイント"}),a.jsx("ul",{className:"list-disc ml-5 text-sm text-gray-600",children:r.tips.map((s,o)=>a.jsx("li",{children:s},o))})]})]})]},r.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow",children:[a.jsx("h2",{className:"text-lg font-bold mb-2",children:"よくある落とし穴と対策"}),a.jsx("div",{className:"divide-y",children:n.map((r,s)=>a.jsxs("details",{className:"py-3",children:[a.jsx("summary",{className:"font-semibold text-base cursor-pointer",children:r.title}),a.jsxs("div",{className:"mt-2 ml-6",children:[a.jsx("div",{className:"text-sm text-gray-700 mb-1",children:r.description}),a.jsxs("div",{className:"text-sm text-green-700 font-semibold",children:["対策: ",r.solution]})]})]},s))})]})]})}function oP(){const[e,t]=W.useState([{id:"1",name:"要件定義書.md",type:"requirements-definition",size:2048,uploadDate:new Date("2024-07-01T10:00:00"),updateDate:new Date("2024-07-10T12:00:00"),author:"山田太郎",content:`# 要件定義書
...（省略）`,description:"システムの要件をまとめたドキュメント",tags:["最新版","Draft"],isLatest:!0},{id:"2",name:"基本設計書.md",type:"basic-design",size:4096,uploadDate:new Date("2024-07-05T09:00:00"),updateDate:new Date("2024-07-12T15:00:00"),author:"佐藤花子",content:`# 基本設計書
...（省略）`,description:"システムの基本設計をまとめたドキュメント",tags:["最新版"],isLatest:!0}]),[n,r]=W.useState(!1),[s,o]=W.useState(null),[i,l]=W.useState({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1}),c=g=>`${(g/1024).toFixed(1)} KB`,u=g=>g.toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),d=()=>{if(!i.name.trim())return;const g=new Date;t(y=>[...y,{id:Date.now().toString(),name:i.name,type:i.type,size:new Blob([i.content]).size,uploadDate:g,updateDate:g,author:"Current User",content:i.content,description:i.description,tags:i.tags,isLatest:i.isLatest}]),r(!1),l({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1})},f=g=>{const y=new Blob([g.content||""],{type:"text/markdown"}),w=URL.createObjectURL(y),b=document.createElement("a");b.href=w,b.download=g.name,b.click(),URL.revokeObjectURL(w)},p=()=>{e.filter(g=>g.isLatest).forEach(g=>f(g))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-bold",children:"ドキュメント管理"}),a.jsx("button",{className:"bg-blue-600 text-white rounded px-3 py-1 text-sm",onClick:()=>r(!0),children:"アップロード"})]}),a.jsx("button",{className:"w-full bg-green-100 text-green-800 rounded py-2 font-semibold mb-2",onClick:p,children:"最新版一括ダウンロード"}),a.jsx("div",{className:"space-y-3",children:e.map(g=>a.jsxs("div",{className:"border rounded-xl bg-white",children:[a.jsxs("button",{className:"w-full flex justify-between items-center p-3",onClick:()=>o(s===g.id?null:g.id),children:[a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"font-semibold text-base",children:g.name}),a.jsx("span",{className:"text-xs text-gray-500",children:g.description}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 rounded px-2",children:g.type==="requirements-definition"?"要件定義":g.type==="basic-design"?"基本設計":g.type==="external-design"?"外部設計":g.type==="development-prep"?"開発準備":"その他"}),g.isLatest&&a.jsx("span",{className:"text-xs bg-green-200 text-green-800 rounded px-2",children:"最新版"}),g.tags.map((y,w)=>a.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 rounded px-2",children:y},w))]})]}),a.jsx("span",{className:"text-xs text-gray-400",children:u(g.updateDate)})]}),s===g.id&&a.jsxs("div",{className:"p-4 border-t space-y-2",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:["サイズ: ",c(g.size)," / 作成者: ",g.author]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["アップロード: ",u(g.uploadDate)," / 更新: ",u(g.updateDate)]}),a.jsx("div",{className:"bg-gray-50 rounded p-2 text-xs font-mono overflow-x-auto max-h-32",children:g.content}),a.jsx("div",{className:"flex gap-2 mt-2",children:a.jsx("button",{className:"bg-blue-600 text-white rounded px-3 py-1 text-xs",onClick:()=>f(g),children:"ダウンロード"})})]})]},g.id))}),n&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-30 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-xs space-y-4 shadow-lg",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"新規ドキュメントアップロード"}),a.jsx("input",{className:"w-full border rounded px-2 py-1",placeholder:"ファイル名.md",value:i.name,onChange:g=>l({...i,name:g.target.value})}),a.jsxs("select",{className:"w-full border rounded px-2 py-1 bg-white shadow-sm",value:i.type,onChange:g=>l({...i,type:g.target.value}),children:[a.jsx("option",{value:"requirements-definition",children:"要件定義"}),a.jsx("option",{value:"basic-design",children:"基本設計"}),a.jsx("option",{value:"external-design",children:"外部設計"}),a.jsx("option",{value:"development-prep",children:"開発準備"}),a.jsx("option",{value:"other",children:"その他"})]}),a.jsx("input",{className:"w-full border rounded px-2 py-1",placeholder:"説明",value:i.description,onChange:g=>l({...i,description:g.target.value})}),a.jsx("textarea",{className:"w-full border rounded px-2 py-1",rows:4,placeholder:"内容 (Markdown)",value:i.content,onChange:g=>l({...i,content:g.target.value})}),a.jsx("input",{className:"w-full border rounded px-2 py-1",placeholder:"タグ（カンマ区切り）",value:i.tags.join(","),onChange:g=>l({...i,tags:g.target.value.split(",").map(y=>y.trim()).filter(Boolean)})}),a.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[a.jsx("input",{type:"checkbox",checked:i.isLatest,onChange:g=>l({...i,isLatest:g.target.checked})}),"最新版としてマーク"]}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx("button",{className:"bg-blue-600 text-white rounded px-3 py-1 text-xs",onClick:d,children:"アップロード"}),a.jsx("button",{className:"bg-gray-300 text-gray-700 rounded px-3 py-1 text-xs",onClick:()=>r(!1),children:"キャンセル"})]})]})})]})}function iP(){const[e,t]=h.useState("requirements-definition"),[n,r]=h.useState(!1),[s,o]=h.useState("phase"),[i,l]=h.useState({"requirements-definition":{title:"要件定義",tasks:[{id:"t1",title:"目的・目標の明確化",description:"プロジェクトの目的や目標を明確にする",status:"not-started",priority:"high"},{id:"t2",title:"現状分析",description:"現状業務の分析と課題特定",status:"not-started",priority:"high"},{id:"t3",title:"ヒアリング",description:"ユーザーヒアリングと要求収集",status:"not-started",priority:"medium"}],deliverables:[{id:"d1",title:"企画書",description:"システム開発の目的や期待効果をまとめた文書",status:"not-started"},{id:"d2",title:"要件定義書",description:"機能・非機能要件を詳細に記述した文書",status:"not-started"}]},"basic-design":{title:"基本設計",tasks:[{id:"t1",title:"システム構成設計",description:"全体アーキテクチャ設計",status:"not-started",priority:"high"},{id:"t2",title:"DB設計",description:"データベース論理・物理設計",status:"not-started",priority:"high"}],deliverables:[{id:"d1",title:"基本設計書",description:"システム全体像を記述した文書",status:"not-started"}]},"external-design":{title:"外部設計",tasks:[{id:"t1",title:"UI設計",description:"画面レイアウトや操作フロー設計",status:"not-started",priority:"medium"},{id:"t2",title:"UX設計",description:"ユーザー体験の最適化設計",status:"not-started",priority:"medium"}],deliverables:[{id:"d1",title:"画面設計書",description:"各画面のレイアウトや要素を記述した文書",status:"not-started"}]},"development-prep":{title:"開発準備",tasks:[{id:"t1",title:"環境構築",description:"開発環境のセットアップ",status:"not-started",priority:"high"},{id:"t2",title:"コーディング規約策定",description:"チーム内のコーディングルール策定",status:"not-started",priority:"medium"}],deliverables:[{id:"d1",title:"開発環境手順書",description:"開発環境のセットアップ手順書",status:"not-started"}]}}),c=(f,p)=>{l(g=>{const y=g[e],w=y.tasks.map(b=>b.id===f?{...b,status:p}:b);return{...g,[e]:{...y,tasks:w}}})},u=(f,p)=>{l(g=>{const y=g[e],w=y.deliverables.map(b=>b.id===f?{...b,status:p}:b);return{...g,[e]:{...y,deliverables:w}}})},d=(f,p,g)=>{l(y=>{const w=y[f],b=w.deliverables.map(m=>m.id===p?{...m,status:g}:m);return{...y,[f]:{...w,deliverables:b}}})};return console.log("activeView:",s),a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[a.jsxs("header",{className:"flex items-center justify-between h-14 px-4 bg-white border-b shadow-sm",children:[a.jsx("span",{className:"font-bold text-lg",children:"システム設計アシスタント"}),a.jsxs("button",{onClick:()=>r(!0),className:"p-2",children:[a.jsx("span",{className:"text-2xl",children:"☰"})," "]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 pb-20",children:[s==="phase"&&a.jsxs(a.Fragment,{children:[a.jsx(X3,{phase:i[e]}),a.jsx(Q3,{phase:i[e],onTaskUpdate:c}),a.jsx(J3,{phase:i[e],onStatusUpdate:u})]}),s==="templates"&&a.jsx(rP,{}),s==="guide"&&a.jsx(sP,{}),s==="documents"&&a.jsx(oP,{}),s==="deliverables-checklist"&&a.jsx(Z3,{phaseData:i,onCheck:d})]}),a.jsx("footer",{className:"fixed bottom-0 left-0 w-full bg-white border-t flex justify-around items-center h-24 z-20",children:Y3.map(f=>a.jsxs("button",{onClick:()=>{t(f.id),o("phase")},className:`flex flex-col items-center justify-center flex-1 py-2 ${e===f.id&&s==="phase"?"text-blue-600 font-bold":"text-gray-500"}`,children:[a.jsx("span",{className:"text-2xl",children:f.icon}),a.jsx("span",{className:"text-sm mt-1",children:f.label})]},f.id))}),n&&a.jsxs("div",{className:"fixed inset-0 z-30 bg-black bg-opacity-30 flex",children:[a.jsxs("div",{className:"w-64 bg-white h-full shadow-lg p-6 flex flex-col",children:[a.jsx("button",{onClick:()=>r(!1),className:"self-end mb-4 text-2xl",children:"×"}),a.jsxs("nav",{className:"flex flex-col gap-4",children:[a.jsx("button",{className:"text-left text-base py-2",onClick:()=>{o("templates"),r(!1)},children:"テンプレート"}),a.jsx("button",{className:"text-left text-base py-2",onClick:()=>{o("guide"),r(!1)},children:"基本ガイド"}),a.jsx("button",{className:"text-left text-base py-2",onClick:()=>{o("documents"),r(!1)},children:"ドキュメント管理"}),a.jsx("button",{className:"text-left text-base py-2",onClick:()=>{o("deliverables-checklist"),r(!1)},children:"成果物チェック"})]})]}),a.jsx("div",{className:"flex-1",onClick:()=>r(!1)})]})]})}const Vp={要件定義:Wa,基本設計:Gt,外部設計:wv,開発準備:Ld},aP=()=>{const{currentProject:e}=Uo(),{phases:t,tasks:n,deliverables:r,loading:s,updateTask:o,updateDeliverable:i}=$2(),l=G3(),[c,u]=h.useState("phases"),[d,f]=h.useState(!0),[p,g]=h.useState(!0),y=t.map(k=>({...k,title:k.name,tasks:n.filter($=>$.phase_id===k.id),deliverables:r.filter($=>$.phase_id===k.id),questions:[],advice:[]}));console.log("MainApp - phasesWithData:",y),console.log("MainApp - currentProject:",e),console.log("MainApp - phases:",t),console.log("MainApp - tasks:",n),console.log("MainApp - deliverables:",r);const[w,b]=h.useState(()=>y.length>0?y[0].id:"");h.useEffect(()=>{console.log("MainApp - useEffect triggered, phasesWithData.length:",y.length),console.log("MainApp - current activePhase:",w),console.log("MainApp - phasesWithData IDs:",y.map(k=>k.id)),y.length>0&&!y.find(k=>k.id===w)&&(console.log("MainApp - Setting new activePhase to:",y[0].id),b(y[0].id))},[y,w]);const m=y.find(k=>k.id===w);console.log("MainApp - currentPhase:",m),console.log("MainApp - activePhase:",w);const x=y.reduce((k,$)=>k+$.tasks.length,0),v=y.reduce((k,$)=>k+$.tasks.filter(C=>C.status==="completed").length,0),_=y.reduce((k,$)=>k+$.deliverables.length,0),j=y.reduce((k,$)=>k+$.deliverables.filter(C=>C.status==="completed").length,0),E=async(k,$,C)=>{await o($,{status:C?"completed":"todo"})},S=async(k,$,C)=>{await i($,{status:C})};return s?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"text-lg",children:"読み込み中..."})}):l?a.jsx(iP,{}):y.length===0?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg mb-2",children:"フェーズデータが見つかりません"}),a.jsx("div",{className:"text-sm text-gray-500",children:"プロジェクトにフェーズが設定されていない可能性があります"})]})}):a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[a.jsx(VN,{totalTasks:x,completedTasks:v,totalDeliverables:_,completedDeliverables:j,currentProject:e}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsxs("div",{className:`${d?"w-64":"w-20"} bg-white border-r border-gray-200 transition-all duration-300 flex flex-col relative shadow-sm`,children:[a.jsx("button",{onClick:()=>f(!d),className:"absolute -right-3 top-6 w-6 h-6 bg-white border border-gray-200 rounded-full flex items-center justify-center shadow-sm hover:shadow-md transition-all duration-200 z-10",children:d?a.jsx(fp,{className:"h-3 w-3"}):a.jsx(hp,{className:"h-3 w-3"})}),a.jsxs("nav",{className:"flex-1 p-4 space-y-6 overflow-y-auto",children:[a.jsxs("div",{children:[d&&a.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3 px-3",children:"ツール"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("button",{onClick:()=>u("guide"),className:`w-full flex items-center ${d?"justify-start":"justify-center"} gap-3 px-3 py-3 text-left rounded-2xl transition-all duration-200 ${c==="guide"?"bg-blue-100 text-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-100"}`,title:d?"":"基本手順",children:[a.jsx(Z$,{className:"h-5 w-5 flex-shrink-0"}),d&&a.jsx("span",{className:"text-sm font-medium",children:"基本手順"})]}),a.jsxs("button",{onClick:()=>u("checklist"),className:`w-full flex items-center ${d?"justify-start":"justify-center"} gap-3 px-3 py-3 text-left rounded-2xl transition-all duration-200 ${c==="checklist"?"bg-blue-100 text-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-100"}`,title:d?"":"成果物チェック",children:[a.jsx(Wk,{className:"h-5 w-5 flex-shrink-0"}),d&&a.jsx("span",{className:"text-sm font-medium",children:"成果物チェック"})]}),a.jsxs("button",{onClick:()=>u("templates"),className:`w-full flex items-center ${d?"justify-start":"justify-center"} gap-3 px-3 py-3 text-left rounded-2xl transition-all duration-200 ${c==="templates"?"bg-blue-100 text-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-100"}`,title:d?"":"テンプレート",children:[a.jsx(jk,{className:"h-5 w-5 flex-shrink-0"}),d&&a.jsx("span",{className:"text-sm font-medium",children:"テンプレート"})]})]})]}),a.jsxs("div",{children:[d&&a.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3 px-3",children:"フェーズ"}),a.jsx("div",{className:"space-y-2",children:y.map(k=>{const $=Vp[k.title]||Vp.要件定義,C=k.tasks.length>0?k.tasks.filter(A=>A.status==="completed").length/k.tasks.length*100:0,I=c==="phases"&&w===k.id;return a.jsxs("button",{onClick:()=>{console.log("Phase clicked:",k.title,"ID:",k.id),u("phases"),b(k.id)},className:`w-full flex items-center ${d?"justify-start":"justify-center"} gap-3 px-3 py-3 text-left rounded-2xl transition-all duration-200 ${I?"bg-blue-100 text-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-100"}`,title:d?"":k.title,children:[a.jsx($,{className:"h-5 w-5 flex-shrink-0"}),d&&a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:"block text-sm font-medium truncate",children:k.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full transition-all duration-300",style:{width:`${C}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:[Math.round(C),"%"]})]})]})]},k.id)})})]})]}),d&&a.jsx("div",{className:"p-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[a.jsx(lu,{className:"h-4 w-4"}),a.jsx("span",{children:"サポートが必要ですか？"})]})}),!d&&a.jsx("div",{className:"p-4 border-t border-gray-100",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"サポートが必要ですか？",children:a.jsx(lu,{className:"h-4 w-4 text-gray-500"})})})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"p-6",children:c==="guide"?a.jsx(f3,{}):c==="checklist"?a.jsx(V3,{phases:y}):c==="templates"?a.jsx(K3,{}):m&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(WN,{phase:m}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(HN,{phase:m,onTaskUpdate:(k,$)=>E(m.id,k,$)}),a.jsx(qN,{phase:m,onStatusUpdate:(k,$)=>S(m.id,k,$)})]})]})})}),a.jsxs("div",{className:`${p?"w-96":"w-16"} bg-white border-l border-gray-200 transition-all duration-300 flex flex-col relative shadow-sm`,children:[a.jsx("button",{onClick:()=>g(!p),className:"absolute -left-3 top-6 w-6 h-6 bg-white border border-gray-200 rounded-full flex items-center justify-center shadow-sm hover:shadow-md transition-all duration-200 z-10",children:p?a.jsx(hp,{className:"h-3 w-3"}):a.jsx(fp,{className:"h-3 w-3"})}),p?a.jsx(c3,{phaseId:(m==null?void 0:m.id)||"requirements-definition"}):a.jsx("div",{className:"flex flex-col items-center py-6",children:a.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:a.jsx(Gt,{className:"h-6 w-6 text-gray-600"})})})]})]})]})};function lP(){const[e]=ib(),t=f0(),{user:n}=Jn(),{acceptInvitation:r,declineInvitation:s}=W0(),[o,i]=h.useState("loading"),[l,c]=h.useState(""),[u,d]=h.useState(null),f=e.get("token");h.useEffect(()=>{(async()=>{var b;if(!f){i("error"),c("招待リンクが無効です。");return}try{console.log("Fetching invitation with token:",f),console.log("Current user state:",n),console.log("User email:",n==null?void 0:n.email);const{data:m,error:x}=await H.from("project_invitations").select("id, project_id, email, role, scopes, expires_at, created_at").eq("token",f).single();if(console.log("Basic invitation data:",m),console.log("Basic invitation error:",x),x){console.error("Error fetching basic invitation:",x),i("error"),c("招待データの取得に失敗しました。");return}if(!m){console.error("No invitation found with token:",f),i("error"),c("有効な招待が見つかりません。招待リンクが正しいかご確認ください。");return}if(console.log("Project ID from invitation:",m.project_id),console.log("Project ID type:",typeof m.project_id),console.log("Project ID length:",(b=m.project_id)==null?void 0:b.length),console.log("Invitation email:",m.email),!n){console.log("User is not authenticated, showing login required message"),i("error"),c(`ログインが必要です。招待メールアドレス: ${m.email}`);return}console.log("User is authenticated:",n.email),console.log("Fetching project data for ID:",m.project_id);const{data:v,error:_}=await H.from("projects").select("name, description").eq("id",m.project_id).single();console.log("Project data:",v),console.log("Project error:",_),console.log("Project error details:",_==null?void 0:_.details);const j=m.email||"招待者@example.com",E=j.split("@")[0]||"招待者";console.log("Inviter email:",j);const S=new Date,k=new Date(m.expires_at);if(S>k){i("error"),c("この招待は期限切れです。");return}if(n&&n.email){console.log("Checking existing member for project_id:",m.project_id,"user_id:",n.id);const{data:$}=await H.from("project_members").select("id").eq("project_id",m.project_id).eq("user_id",n.id).single();if(console.log("Existing member check result:",$),$){i("error"),c("既にプロジェクトのメンバーです。");return}}if(n&&n.email&&n.email!==m.email){console.log("Email mismatch - User email:",n.email,"Invitation email:",m.email),i("error"),c("この招待は別のメールアドレス宛てです。正しいアカウントでログインしてください。");return}console.log("All checks passed, setting status to pending"),d({project_name:(v==null?void 0:v.name)||"プロジェクト名",project_description:(v==null?void 0:v.description)||"",inviter_email:j,inviter_name:E,role:m.role,scopes:m.scopes||[]}),i("pending")}catch(m){console.error("Error fetching invitation data:",m),i("error"),c("招待データの取得に失敗しました。")}})()},[f,n]);const p=async()=>{if(f)try{const{error:w}=await r(f);if(w)throw w;i("success"),c("プロジェクトへの参加が完了しました！"),setTimeout(()=>{t("/")},2e3)}catch{i("error"),c("招待の承認に失敗しました。")}},g=async()=>{if(f)try{const{error:w}=await s(f);if(w)throw w;i("declined"),c("招待を辞退しました。")}catch{i("error"),c("招待の辞退に失敗しました。")}},y=()=>{t("/")};return o==="loading"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx(Fe,{className:"w-full max-w-md",children:a.jsx(ze,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Nk,{className:"h-8 w-8 animate-spin text-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"招待を確認中..."})]})})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs(Fe,{className:"w-full max-w-md",children:[a.jsxs(et,{className:"text-center",children:[o==="success"?a.jsx(We,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}):o==="error"?a.jsx(oo,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}):o==="declined"?a.jsx(oo,{className:"h-12 w-12 text-gray-600 mx-auto mb-4"}):null,a.jsxs(tt,{children:[o==="success"&&"招待を承認しました",o==="error"&&"エラーが発生しました",o==="declined"&&"招待を辞退しました"]}),a.jsx(ut,{children:l})]}),a.jsxs(ze,{className:"space-y-4",children:[o==="pending"&&u&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h3",{className:"font-medium text-lg mb-2",children:[u==null?void 0:u.project_name," への招待"]}),(u==null?void 0:u.project_description)&&a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:u.project_description}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:["招待者: ",a.jsx("span",{className:"font-medium",children:u==null?void 0:u.inviter_name})]}),a.jsxs("p",{className:"text-gray-600",children:["役割: ",a.jsx("span",{className:"font-medium",children:(u==null?void 0:u.role)==="admin"?"管理者":"メンバー"})]}),(u==null?void 0:u.scopes)&&u.scopes.length>0&&a.jsxs("p",{className:"text-gray-600",children:["アクセス権限: ",a.jsxs("span",{className:"font-medium",children:[u.scopes.length,"個の権限"]})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",onClick:g,className:"flex-1",children:[a.jsx(oo,{className:"h-4 w-4 mr-2"}),"辞退"]}),a.jsxs(ee,{onClick:p,className:"flex-1",children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"参加する"]})]})]}),o==="success"&&a.jsx(ee,{onClick:y,className:"w-full",children:"プロジェクトに移動"}),(o==="error"||o==="declined")&&a.jsx(ee,{variant:"outline",onClick:()=>t("/"),className:"w-full",children:"ホームに戻る"})]})]})})}function cP(){return a.jsx(ob,{children:a.jsx(_2,{children:a.jsx(j2,{children:a.jsx(k2,{children:a.jsx(T2,{children:a.jsxs(tb,{children:[a.jsx(Hc,{path:"/invite",element:a.jsx(Qh,{children:a.jsx(lP,{})})}),a.jsx(Hc,{path:"/*",element:a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx(Qh,{children:a.jsx(lS,{children:a.jsx(aP,{})})})})})]})})})})})})}Ql.createRoot(document.getElementById("root")).render(a.jsx(W.StrictMode,{children:a.jsx(cP,{})}));
