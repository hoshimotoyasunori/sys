function Dw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Lw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var gm={exports:{}},Pa={},vm={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=Symbol.for("react.element"),$w=Symbol.for("react.portal"),Uw=Symbol.for("react.fragment"),Fw=Symbol.for("react.strict_mode"),zw=Symbol.for("react.profiler"),Bw=Symbol.for("react.provider"),Ww=Symbol.for("react.context"),Vw=Symbol.for("react.forward_ref"),Hw=Symbol.for("react.suspense"),qw=Symbol.for("react.memo"),Gw=Symbol.for("react.lazy"),Lf=Symbol.iterator;function Kw(e){return e===null||typeof e!="object"?null:(e=Lf&&e[Lf]||e["@@iterator"],typeof e=="function"?e:null)}var ym={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xm=Object.assign,wm={};function xs(e,t,n){this.props=e,this.context=t,this.refs=wm,this.updater=n||ym}xs.prototype.isReactComponent={};xs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bm(){}bm.prototype=xs.prototype;function Vu(e,t,n){this.props=e,this.context=t,this.refs=wm,this.updater=n||ym}var Hu=Vu.prototype=new bm;Hu.constructor=Vu;xm(Hu,xs.prototype);Hu.isPureReactComponent=!0;var $f=Array.isArray,_m=Object.prototype.hasOwnProperty,qu={current:null},jm={key:!0,ref:!0,__self:!0,__source:!0};function Sm(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)_m.call(t,r)&&!jm.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Lo,type:e,key:o,ref:i,props:s,_owner:qu.current}}function Yw(e,t){return{$$typeof:Lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lo}function Xw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Uf=/\/+/g;function Sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xw(""+e.key):t.toString(36)}function ki(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Lo:case $w:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Sl(i,0):r,$f(s)?(n="",e!=null&&(n=e.replace(Uf,"$&/")+"/"),ki(s,t,n,"",function(u){return u})):s!=null&&(Gu(s)&&(s=Yw(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Uf,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",$f(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Sl(o,l);i+=ki(o,t,n,c,s)}else if(c=Kw(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Sl(o,l++),i+=ki(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Jo(e,t,n){if(e==null)return e;var r=[],s=0;return ki(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Qw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Ni={transition:null},Jw={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Ni,ReactCurrentOwner:qu};function km(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Jo,forEach:function(e,t,n){Jo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Jo(e,function(){t++}),t},toArray:function(e){return Jo(e,function(t){return t})||[]},only:function(e){if(!Gu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=xs;Q.Fragment=Uw;Q.Profiler=zw;Q.PureComponent=Vu;Q.StrictMode=Fw;Q.Suspense=Hw;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jw;Q.act=km;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xm({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=qu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_m.call(t,c)&&!jm.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Lo,type:e.type,key:s,ref:o,props:r,_owner:i}};Q.createContext=function(e){return e={$$typeof:Ww,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bw,_context:e},e.Consumer=e};Q.createElement=Sm;Q.createFactory=function(e){var t=Sm.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:Vw,render:e}};Q.isValidElement=Gu;Q.lazy=function(e){return{$$typeof:Gw,_payload:{_status:-1,_result:e},_init:Qw}};Q.memo=function(e,t){return{$$typeof:qw,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Ni.transition;Ni.transition={};try{e()}finally{Ni.transition=t}};Q.unstable_act=km;Q.useCallback=function(e,t){return He.current.useCallback(e,t)};Q.useContext=function(e){return He.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return He.current.useDeferredValue(e)};Q.useEffect=function(e,t){return He.current.useEffect(e,t)};Q.useId=function(){return He.current.useId()};Q.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return He.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};Q.useRef=function(e){return He.current.useRef(e)};Q.useState=function(e){return He.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return He.current.useTransition()};Q.version="18.3.1";vm.exports=Q;var p=vm.exports;const te=mm(p),Ku=Dw({__proto__:null,default:te},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw=p,e1=Symbol.for("react.element"),t1=Symbol.for("react.fragment"),n1=Object.prototype.hasOwnProperty,r1=Zw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s1={key:!0,ref:!0,__self:!0,__source:!0};function Nm(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)n1.call(t,r)&&!s1.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:e1,type:e,key:o,ref:i,props:s,_owner:r1.current}}Pa.Fragment=t1;Pa.jsx=Nm;Pa.jsxs=Nm;gm.exports=Pa;var a=gm.exports,gc={},Cm={exports:{}},ht={},Em={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,R){var L=T.length;T.push(R);e:for(;0<L;){var B=L-1>>>1,J=T[B];if(0<s(J,R))T[B]=R,T[L]=J,L=B;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var R=T[0],L=T.pop();if(L!==R){T[0]=L;e:for(var B=0,J=T.length,Ge=J>>>1;B<Ge;){var be=2*(B+1)-1,st=T[be],xe=be+1,z=T[xe];if(0>s(st,L))xe<J&&0>s(z,st)?(T[B]=z,T[xe]=L,B=xe):(T[B]=st,T[be]=L,B=be);else if(xe<J&&0>s(z,L))T[B]=z,T[xe]=L,B=xe;else break e}}return R}function s(T,R){var L=T.sortIndex-R.sortIndex;return L!==0?L:T.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,y=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=T)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function _(T){if(x=!1,m(T),!w)if(n(c)!==null)w=!0,D(j);else{var R=n(u);R!==null&&q(_,R.startTime-T)}}function j(T,R){w=!1,x&&(x=!1,v(N),N=-1),y=!0;var L=h;try{for(m(R),f=n(c);f!==null&&(!(f.expirationTime>R)||T&&!M());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var J=B(f.expirationTime<=R);R=e.unstable_now(),typeof J=="function"?f.callback=J:f===n(c)&&r(c),m(R)}else r(c);f=n(c)}if(f!==null)var Ge=!0;else{var be=n(u);be!==null&&q(_,be.startTime-R),Ge=!1}return Ge}finally{f=null,h=L,y=!1}}var C=!1,k=null,N=-1,S=5,E=-1;function M(){return!(e.unstable_now()-E<S)}function I(){if(k!==null){var T=e.unstable_now();E=T;var R=!0;try{R=k(!0,T)}finally{R?O():(C=!1,k=null)}}else C=!1}var O;if(typeof g=="function")O=function(){g(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,F=P.port2;P.port1.onmessage=I,O=function(){F.postMessage(null)}}else O=function(){b(I,0)};function D(T){k=T,C||(C=!0,O())}function q(T,R){N=b(function(){T(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,D(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var L=h;h=R;try{return T()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,R){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=h;h=T;try{return R()}finally{h=L}},e.unstable_scheduleCallback=function(T,R,L){var B=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?B+L:B):L=B,T){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=L+J,T={id:d++,callback:R,priorityLevel:T,startTime:L,expirationTime:J,sortIndex:-1},L>B?(T.sortIndex=L,t(u,T),n(c)===null&&T===n(u)&&(x?(v(N),N=-1):x=!0,q(_,L-B))):(T.sortIndex=J,t(c,T),w||y||(w=!0,D(j))),T},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(T){var R=h;return function(){var L=h;h=R;try{return T.apply(this,arguments)}finally{h=L}}}})(Pm);Em.exports=Pm;var o1=Em.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1=p,ft=o1;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tm=new Set,fo={};function Cr(e,t){cs(e,t),cs(e+"Capture",t)}function cs(e,t){for(fo[e]=t,e=0;e<t.length;e++)Tm.add(t[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vc=Object.prototype.hasOwnProperty,a1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ff={},zf={};function l1(e){return vc.call(zf,e)?!0:vc.call(Ff,e)?!1:a1.test(e)?zf[e]=!0:(Ff[e]=!0,!1)}function c1(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function u1(e,t,n,r){if(t===null||typeof t>"u"||c1(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qe(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yu=/[\-:]([a-z])/g;function Xu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yu,Xu);Ae[t]=new qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yu,Xu);Ae[t]=new qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yu,Xu);Ae[t]=new qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qu(e,t,n,r){var s=Ae.hasOwnProperty(t)?Ae[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(u1(t,n,s,r)&&(n=null),r||s===null?l1(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wn=i1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zo=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),Ju=Symbol.for("react.strict_mode"),yc=Symbol.for("react.profiler"),Rm=Symbol.for("react.provider"),Am=Symbol.for("react.context"),Zu=Symbol.for("react.forward_ref"),xc=Symbol.for("react.suspense"),wc=Symbol.for("react.suspense_list"),ed=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),Im=Symbol.for("react.offscreen"),Bf=Symbol.iterator;function Os(e){return e===null||typeof e!="object"?null:(e=Bf&&e[Bf]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,kl;function qs(e){if(kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var Nl=!1;function Cl(e,t){if(!e||Nl)return"";Nl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Nl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qs(e):""}function d1(e){switch(e.tag){case 5:return qs(e.type);case 16:return qs("Lazy");case 13:return qs("Suspense");case 19:return qs("SuspenseList");case 0:case 2:case 15:return e=Cl(e.type,!1),e;case 11:return e=Cl(e.type.render,!1),e;case 1:return e=Cl(e.type,!0),e;default:return""}}function bc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case Br:return"Portal";case yc:return"Profiler";case Ju:return"StrictMode";case xc:return"Suspense";case wc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Am:return(e.displayName||"Context")+".Consumer";case Rm:return(e._context.displayName||"Context")+".Provider";case Zu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ed:return t=e.displayName||null,t!==null?t:bc(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return bc(e(t))}catch{}}return null}function f1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bc(t);case 8:return t===Ju?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function h1(e){var t=Mm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ei(e){e._valueTracker||(e._valueTracker=h1(e))}function Om(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Mm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _c(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dm(e,t){t=t.checked,t!=null&&Qu(e,"checked",t,!1)}function jc(e,t){Dm(e,t);var n=Hn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sc(e,t.type,Hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sc(e,t,n){(t!=="number"||Fi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gs=Array.isArray;function es(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function kc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(Gs(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hn(n)}}function Lm(e,t){var n=Hn(t.value),r=Hn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $m(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$m(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ti,Um=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ti.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ho(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p1=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(e){p1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zs[t]=Zs[e]})});function Fm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Zs.hasOwnProperty(e)&&Zs[e]?(""+t).trim():t+"px"}function zm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Fm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var m1=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cc(e,t){if(t){if(m1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Ec(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pc=null;function td(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tc=null,ts=null,ns=null;function Gf(e){if(e=Fo(e)){if(typeof Tc!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Ma(t),Tc(e.stateNode,e.type,t))}}function Bm(e){ts?ns?ns.push(e):ns=[e]:ts=e}function Wm(){if(ts){var e=ts,t=ns;if(ns=ts=null,Gf(e),t)for(e=0;e<t.length;e++)Gf(t[e])}}function Vm(e,t){return e(t)}function Hm(){}var El=!1;function qm(e,t,n){if(El)return e(t,n);El=!0;try{return Vm(e,t,n)}finally{El=!1,(ts!==null||ns!==null)&&(Hm(),Wm())}}function po(e,t){var n=e.stateNode;if(n===null)return null;var r=Ma(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var Rc=!1;if(un)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){Rc=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{Rc=!1}function g1(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var eo=!1,zi=null,Bi=!1,Ac=null,v1={onError:function(e){eo=!0,zi=e}};function y1(e,t,n,r,s,o,i,l,c){eo=!1,zi=null,g1.apply(v1,arguments)}function x1(e,t,n,r,s,o,i,l,c){if(y1.apply(this,arguments),eo){if(eo){var u=zi;eo=!1,zi=null}else throw Error(A(198));Bi||(Bi=!0,Ac=u)}}function Er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kf(e){if(Er(e)!==e)throw Error(A(188))}function w1(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Kf(s),e;if(o===r)return Kf(s),t;o=o.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function Km(e){return e=w1(e),e!==null?Ym(e):null}function Ym(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ym(e);if(t!==null)return t;e=e.sibling}return null}var Xm=ft.unstable_scheduleCallback,Yf=ft.unstable_cancelCallback,b1=ft.unstable_shouldYield,_1=ft.unstable_requestPaint,we=ft.unstable_now,j1=ft.unstable_getCurrentPriorityLevel,nd=ft.unstable_ImmediatePriority,Qm=ft.unstable_UserBlockingPriority,Wi=ft.unstable_NormalPriority,S1=ft.unstable_LowPriority,Jm=ft.unstable_IdlePriority,Ta=null,qt=null;function k1(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Ta,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:E1,N1=Math.log,C1=Math.LN2;function E1(e){return e>>>=0,e===0?32:31-(N1(e)/C1|0)|0}var ni=64,ri=4194304;function Ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=Ks(l):(o&=i,o!==0&&(r=Ks(o)))}else i=n&~s,i!==0?r=Ks(i):o!==0&&(r=Ks(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-It(t),s=1<<n,r|=e[n],t&=~s;return r}function P1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-It(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=P1(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Ic(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zm(){var e=ni;return ni<<=1,!(ni&4194240)&&(ni=64),e}function Pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $o(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-It(t),e[t]=n}function R1(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-It(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function rd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-It(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var se=0;function eg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tg,sd,ng,rg,sg,Mc=!1,si=[],Dn=null,Ln=null,$n=null,mo=new Map,go=new Map,Tn=[],A1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xf(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(t.pointerId)}}function Ls(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Fo(t),t!==null&&sd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function I1(e,t,n,r,s){switch(t){case"focusin":return Dn=Ls(Dn,e,t,n,r,s),!0;case"dragenter":return Ln=Ls(Ln,e,t,n,r,s),!0;case"mouseover":return $n=Ls($n,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return mo.set(o,Ls(mo.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,go.set(o,Ls(go.get(o)||null,e,t,n,r,s)),!0}return!1}function og(e){var t=ur(e.target);if(t!==null){var n=Er(t);if(n!==null){if(t=n.tag,t===13){if(t=Gm(n),t!==null){e.blockedOn=t,sg(e.priority,function(){ng(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Oc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Pc=r,n.target.dispatchEvent(r),Pc=null}else return t=Fo(n),t!==null&&sd(t),e.blockedOn=n,!1;t.shift()}return!0}function Qf(e,t,n){Ci(e)&&n.delete(t)}function M1(){Mc=!1,Dn!==null&&Ci(Dn)&&(Dn=null),Ln!==null&&Ci(Ln)&&(Ln=null),$n!==null&&Ci($n)&&($n=null),mo.forEach(Qf),go.forEach(Qf)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,Mc||(Mc=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,M1)))}function vo(e){function t(s){return $s(s,e)}if(0<si.length){$s(si[0],e);for(var n=1;n<si.length;n++){var r=si[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dn!==null&&$s(Dn,e),Ln!==null&&$s(Ln,e),$n!==null&&$s($n,e),mo.forEach(t),go.forEach(t),n=0;n<Tn.length;n++)r=Tn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tn.length&&(n=Tn[0],n.blockedOn===null);)og(n),n.blockedOn===null&&Tn.shift()}var rs=wn.ReactCurrentBatchConfig,Hi=!0;function O1(e,t,n,r){var s=se,o=rs.transition;rs.transition=null;try{se=1,od(e,t,n,r)}finally{se=s,rs.transition=o}}function D1(e,t,n,r){var s=se,o=rs.transition;rs.transition=null;try{se=4,od(e,t,n,r)}finally{se=s,rs.transition=o}}function od(e,t,n,r){if(Hi){var s=Oc(e,t,n,r);if(s===null)Ul(e,t,r,qi,n),Xf(e,r);else if(I1(s,e,t,n,r))r.stopPropagation();else if(Xf(e,r),t&4&&-1<A1.indexOf(e)){for(;s!==null;){var o=Fo(s);if(o!==null&&tg(o),o=Oc(e,t,n,r),o===null&&Ul(e,t,r,qi,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ul(e,t,r,null,n)}}var qi=null;function Oc(e,t,n,r){if(qi=null,e=td(r),e=ur(e),e!==null)if(t=Er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qi=e,null}function ig(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j1()){case nd:return 1;case Qm:return 4;case Wi:case S1:return 16;case Jm:return 536870912;default:return 16}default:return 16}}var In=null,id=null,Ei=null;function ag(){if(Ei)return Ei;var e,t=id,n=t.length,r,s="value"in In?In.value:In.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Ei=s.slice(e,1<r?1-r:void 0)}function Pi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oi(){return!0}function Jf(){return!1}function pt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oi:Jf,this.isPropagationStopped=Jf,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),t}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ad=pt(ws),Uo=ve({},ws,{view:0,detail:0}),L1=pt(Uo),Tl,Rl,Us,Ra=ve({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Us&&(Us&&e.type==="mousemove"?(Tl=e.screenX-Us.screenX,Rl=e.screenY-Us.screenY):Rl=Tl=0,Us=e),Tl)},movementY:function(e){return"movementY"in e?e.movementY:Rl}}),Zf=pt(Ra),$1=ve({},Ra,{dataTransfer:0}),U1=pt($1),F1=ve({},Uo,{relatedTarget:0}),Al=pt(F1),z1=ve({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),B1=pt(z1),W1=ve({},ws,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),V1=pt(W1),H1=ve({},ws,{data:0}),eh=pt(H1),q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=K1[e])?!!t[e]:!1}function ld(){return Y1}var X1=ve({},Uo,{key:function(e){if(e.key){var t=q1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?G1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ld,charCode:function(e){return e.type==="keypress"?Pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Q1=pt(X1),J1=ve({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),th=pt(J1),Z1=ve({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ld}),eb=pt(Z1),tb=ve({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),nb=pt(tb),rb=ve({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sb=pt(rb),ob=[9,13,27,32],cd=un&&"CompositionEvent"in window,to=null;un&&"documentMode"in document&&(to=document.documentMode);var ib=un&&"TextEvent"in window&&!to,lg=un&&(!cd||to&&8<to&&11>=to),nh=String.fromCharCode(32),rh=!1;function cg(e,t){switch(e){case"keyup":return ob.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ug(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function ab(e,t){switch(e){case"compositionend":return ug(t);case"keypress":return t.which!==32?null:(rh=!0,nh);case"textInput":return e=t.data,e===nh&&rh?null:e;default:return null}}function lb(e,t){if(Vr)return e==="compositionend"||!cd&&cg(e,t)?(e=ag(),Ei=id=In=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lg&&t.locale!=="ko"?null:t.data;default:return null}}var cb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cb[e.type]:t==="textarea"}function dg(e,t,n,r){Bm(r),t=Gi(t,"onChange"),0<t.length&&(n=new ad("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var no=null,yo=null;function ub(e){_g(e,0)}function Aa(e){var t=Gr(e);if(Om(t))return e}function db(e,t){if(e==="change")return t}var fg=!1;if(un){var Il;if(un){var Ml="oninput"in document;if(!Ml){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),Ml=typeof oh.oninput=="function"}Il=Ml}else Il=!1;fg=Il&&(!document.documentMode||9<document.documentMode)}function ih(){no&&(no.detachEvent("onpropertychange",hg),yo=no=null)}function hg(e){if(e.propertyName==="value"&&Aa(yo)){var t=[];dg(t,yo,e,td(e)),qm(ub,t)}}function fb(e,t,n){e==="focusin"?(ih(),no=t,yo=n,no.attachEvent("onpropertychange",hg)):e==="focusout"&&ih()}function hb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Aa(yo)}function pb(e,t){if(e==="click")return Aa(t)}function mb(e,t){if(e==="input"||e==="change")return Aa(t)}function gb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:gb;function xo(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vc.call(t,s)||!Ot(e[s],t[s]))return!1}return!0}function ah(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lh(e,t){var n=ah(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ah(n)}}function pg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mg(){for(var e=window,t=Fi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Fi(e.document)}return t}function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vb(e){var t=mg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pg(n.ownerDocument.documentElement,n)){if(r!==null&&ud(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=lh(n,o);var i=lh(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yb=un&&"documentMode"in document&&11>=document.documentMode,Hr=null,Dc=null,ro=null,Lc=!1;function ch(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lc||Hr==null||Hr!==Fi(r)||(r=Hr,"selectionStart"in r&&ud(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ro&&xo(ro,r)||(ro=r,r=Gi(Dc,"onSelect"),0<r.length&&(t=new ad("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hr)))}function ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qr={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionend:ii("Transition","TransitionEnd")},Ol={},gg={};un&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Ia(e){if(Ol[e])return Ol[e];if(!qr[e])return e;var t=qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gg)return Ol[e]=t[n];return e}var vg=Ia("animationend"),yg=Ia("animationiteration"),xg=Ia("animationstart"),wg=Ia("transitionend"),bg=new Map,uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){bg.set(e,t),Cr(t,[e])}for(var Dl=0;Dl<uh.length;Dl++){var Ll=uh[Dl],xb=Ll.toLowerCase(),wb=Ll[0].toUpperCase()+Ll.slice(1);Yn(xb,"on"+wb)}Yn(vg,"onAnimationEnd");Yn(yg,"onAnimationIteration");Yn(xg,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(wg,"onTransitionEnd");cs("onMouseEnter",["mouseout","mouseover"]);cs("onMouseLeave",["mouseout","mouseover"]);cs("onPointerEnter",["pointerout","pointerover"]);cs("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ys));function dh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,x1(r,t,void 0,e),e.currentTarget=null}function _g(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;dh(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;dh(s,l,u),o=c}}}if(Bi)throw e=Ac,Bi=!1,Ac=null,e}function fe(e,t){var n=t[Bc];n===void 0&&(n=t[Bc]=new Set);var r=e+"__bubble";n.has(r)||(jg(t,e,2,!1),n.add(r))}function $l(e,t,n){var r=0;t&&(r|=4),jg(n,e,r,t)}var ai="_reactListening"+Math.random().toString(36).slice(2);function wo(e){if(!e[ai]){e[ai]=!0,Tm.forEach(function(n){n!=="selectionchange"&&(bb.has(n)||$l(n,!1,e),$l(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ai]||(t[ai]=!0,$l("selectionchange",!1,t))}}function jg(e,t,n,r){switch(ig(t)){case 1:var s=O1;break;case 4:s=D1;break;default:s=od}n=s.bind(null,t,n,e),s=void 0,!Rc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ul(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ur(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}qm(function(){var u=o,d=td(n),f=[];e:{var h=bg.get(e);if(h!==void 0){var y=ad,w=e;switch(e){case"keypress":if(Pi(n)===0)break e;case"keydown":case"keyup":y=Q1;break;case"focusin":w="focus",y=Al;break;case"focusout":w="blur",y=Al;break;case"beforeblur":case"afterblur":y=Al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Zf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=U1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=eb;break;case vg:case yg:case xg:y=B1;break;case wg:y=nb;break;case"scroll":y=L1;break;case"wheel":y=sb;break;case"copy":case"cut":case"paste":y=V1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=th}var x=(t&4)!==0,b=!x&&e==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,m;g!==null;){m=g;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,v!==null&&(_=po(g,v),_!=null&&x.push(bo(g,_,m)))),b)break;g=g.return}0<x.length&&(h=new y(h,w,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&n!==Pc&&(w=n.relatedTarget||n.fromElement)&&(ur(w)||w[dn]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?ur(w):null,w!==null&&(b=Er(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(x=Zf,_="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=th,_="onPointerLeave",v="onPointerEnter",g="pointer"),b=y==null?h:Gr(y),m=w==null?h:Gr(w),h=new x(_,g+"leave",y,n,d),h.target=b,h.relatedTarget=m,_=null,ur(d)===u&&(x=new x(v,g+"enter",w,n,d),x.target=m,x.relatedTarget=b,_=x),b=_,y&&w)t:{for(x=y,v=w,g=0,m=x;m;m=Rr(m))g++;for(m=0,_=v;_;_=Rr(_))m++;for(;0<g-m;)x=Rr(x),g--;for(;0<m-g;)v=Rr(v),m--;for(;g--;){if(x===v||v!==null&&x===v.alternate)break t;x=Rr(x),v=Rr(v)}x=null}else x=null;y!==null&&fh(f,h,y,x,!1),w!==null&&b!==null&&fh(f,b,w,x,!0)}}e:{if(h=u?Gr(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var j=db;else if(sh(h))if(fg)j=mb;else{j=hb;var C=fb}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=pb);if(j&&(j=j(e,u))){dg(f,j,n,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Sc(h,"number",h.value)}switch(C=u?Gr(u):window,e){case"focusin":(sh(C)||C.contentEditable==="true")&&(Hr=C,Dc=u,ro=null);break;case"focusout":ro=Dc=Hr=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,ch(f,n,d);break;case"selectionchange":if(yb)break;case"keydown":case"keyup":ch(f,n,d)}var k;if(cd)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Vr?cg(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(lg&&n.locale!=="ko"&&(Vr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Vr&&(k=ag()):(In=d,id="value"in In?In.value:In.textContent,Vr=!0)),C=Gi(u,N),0<C.length&&(N=new eh(N,e,null,n,d),f.push({event:N,listeners:C}),k?N.data=k:(k=ug(n),k!==null&&(N.data=k)))),(k=ib?ab(e,n):lb(e,n))&&(u=Gi(u,"onBeforeInput"),0<u.length&&(d=new eh("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}_g(f,t)})}function bo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=po(e,n),o!=null&&r.unshift(bo(e,o,s)),o=po(e,t),o!=null&&r.push(bo(e,o,s))),e=e.return}return r}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fh(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=po(n,o),c!=null&&i.unshift(bo(n,c,l))):s||(c=po(n,o),c!=null&&i.push(bo(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var _b=/\r\n?/g,jb=/\u0000|\uFFFD/g;function hh(e){return(typeof e=="string"?e:""+e).replace(_b,`
`).replace(jb,"")}function li(e,t,n){if(t=hh(t),hh(e)!==t&&n)throw Error(A(425))}function Ki(){}var $c=null,Uc=null;function Fc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zc=typeof setTimeout=="function"?setTimeout:void 0,Sb=typeof clearTimeout=="function"?clearTimeout:void 0,ph=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof ph<"u"?function(e){return ph.resolve(null).then(e).catch(Nb)}:zc;function Nb(e){setTimeout(function(){throw e})}function Fl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),vo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vo(t)}function Un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Wt="__reactFiber$"+bs,_o="__reactProps$"+bs,dn="__reactContainer$"+bs,Bc="__reactEvents$"+bs,Cb="__reactListeners$"+bs,Eb="__reactHandles$"+bs;function ur(e){var t=e[Wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dn]||n[Wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mh(e);e!==null;){if(n=e[Wt])return n;e=mh(e)}return t}e=n,n=e.parentNode}return null}function Fo(e){return e=e[Wt]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Ma(e){return e[_o]||null}var Wc=[],Kr=-1;function Xn(e){return{current:e}}function he(e){0>Kr||(e.current=Wc[Kr],Wc[Kr]=null,Kr--)}function ue(e,t){Kr++,Wc[Kr]=e.current,e.current=t}var qn={},Fe=Xn(qn),et=Xn(!1),vr=qn;function us(e,t){var n=e.type.contextTypes;if(!n)return qn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function tt(e){return e=e.childContextTypes,e!=null}function Yi(){he(et),he(Fe)}function gh(e,t,n){if(Fe.current!==qn)throw Error(A(168));ue(Fe,t),ue(et,n)}function Sg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(A(108,f1(e)||"Unknown",s));return ve({},n,r)}function Xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qn,vr=Fe.current,ue(Fe,e),ue(et,et.current),!0}function vh(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=Sg(e,t,vr),r.__reactInternalMemoizedMergedChildContext=e,he(et),he(Fe),ue(Fe,e)):he(et),ue(et,n)}var on=null,Oa=!1,zl=!1;function kg(e){on===null?on=[e]:on.push(e)}function Pb(e){Oa=!0,kg(e)}function Qn(){if(!zl&&on!==null){zl=!0;var e=0,t=se;try{var n=on;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}on=null,Oa=!1}catch(s){throw on!==null&&(on=on.slice(e+1)),Xm(nd,Qn),s}finally{se=t,zl=!1}}return null}var Yr=[],Xr=0,Qi=null,Ji=0,mt=[],gt=0,yr=null,an=1,ln="";function sr(e,t){Yr[Xr++]=Ji,Yr[Xr++]=Qi,Qi=e,Ji=t}function Ng(e,t,n){mt[gt++]=an,mt[gt++]=ln,mt[gt++]=yr,yr=e;var r=an;e=ln;var s=32-It(r)-1;r&=~(1<<s),n+=1;var o=32-It(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,an=1<<32-It(t)+s|n<<s|r,ln=o+e}else an=1<<o|n<<s|r,ln=e}function dd(e){e.return!==null&&(sr(e,1),Ng(e,1,0))}function fd(e){for(;e===Qi;)Qi=Yr[--Xr],Yr[Xr]=null,Ji=Yr[--Xr],Yr[Xr]=null;for(;e===yr;)yr=mt[--gt],mt[gt]=null,ln=mt[--gt],mt[gt]=null,an=mt[--gt],mt[gt]=null}var ut=null,lt=null,pe=!1,Rt=null;function Cg(e,t){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,lt=Un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yr!==null?{id:an,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ut=e,lt=null,!0):!1;default:return!1}}function Vc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hc(e){if(pe){var t=lt;if(t){var n=t;if(!yh(e,t)){if(Vc(e))throw Error(A(418));t=Un(n.nextSibling);var r=ut;t&&yh(e,t)?Cg(r,n):(e.flags=e.flags&-4097|2,pe=!1,ut=e)}}else{if(Vc(e))throw Error(A(418));e.flags=e.flags&-4097|2,pe=!1,ut=e}}}function xh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function ci(e){if(e!==ut)return!1;if(!pe)return xh(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fc(e.type,e.memoizedProps)),t&&(t=lt)){if(Vc(e))throw Eg(),Error(A(418));for(;t;)Cg(e,t),t=Un(t.nextSibling)}if(xh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){lt=Un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=ut?Un(e.stateNode.nextSibling):null;return!0}function Eg(){for(var e=lt;e;)e=Un(e.nextSibling)}function ds(){lt=ut=null,pe=!1}function hd(e){Rt===null?Rt=[e]:Rt.push(e)}var Tb=wn.ReactCurrentBatchConfig;function Fs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function ui(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wh(e){var t=e._init;return t(e._payload)}function Pg(e){function t(v,g){if(e){var m=v.deletions;m===null?(v.deletions=[g],v.flags|=16):m.push(g)}}function n(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Wn(v,g),v.index=0,v.sibling=null,v}function o(v,g,m){return v.index=m,e?(m=v.alternate,m!==null?(m=m.index,m<g?(v.flags|=2,g):m):(v.flags|=2,g)):(v.flags|=1048576,g)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,m,_){return g===null||g.tag!==6?(g=Kl(m,v.mode,_),g.return=v,g):(g=s(g,m),g.return=v,g)}function c(v,g,m,_){var j=m.type;return j===Wr?d(v,g,m.props.children,_,m.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Cn&&wh(j)===g.type)?(_=s(g,m.props),_.ref=Fs(v,g,m),_.return=v,_):(_=Di(m.type,m.key,m.props,null,v.mode,_),_.ref=Fs(v,g,m),_.return=v,_)}function u(v,g,m,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==m.containerInfo||g.stateNode.implementation!==m.implementation?(g=Yl(m,v.mode,_),g.return=v,g):(g=s(g,m.children||[]),g.return=v,g)}function d(v,g,m,_,j){return g===null||g.tag!==7?(g=mr(m,v.mode,_,j),g.return=v,g):(g=s(g,m),g.return=v,g)}function f(v,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Kl(""+g,v.mode,m),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zo:return m=Di(g.type,g.key,g.props,null,v.mode,m),m.ref=Fs(v,null,g),m.return=v,m;case Br:return g=Yl(g,v.mode,m),g.return=v,g;case Cn:var _=g._init;return f(v,_(g._payload),m)}if(Gs(g)||Os(g))return g=mr(g,v.mode,m,null),g.return=v,g;ui(v,g)}return null}function h(v,g,m,_){var j=g!==null?g.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return j!==null?null:l(v,g,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zo:return m.key===j?c(v,g,m,_):null;case Br:return m.key===j?u(v,g,m,_):null;case Cn:return j=m._init,h(v,g,j(m._payload),_)}if(Gs(m)||Os(m))return j!==null?null:d(v,g,m,_,null);ui(v,m)}return null}function y(v,g,m,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(m)||null,l(g,v,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zo:return v=v.get(_.key===null?m:_.key)||null,c(g,v,_,j);case Br:return v=v.get(_.key===null?m:_.key)||null,u(g,v,_,j);case Cn:var C=_._init;return y(v,g,m,C(_._payload),j)}if(Gs(_)||Os(_))return v=v.get(m)||null,d(g,v,_,j,null);ui(g,_)}return null}function w(v,g,m,_){for(var j=null,C=null,k=g,N=g=0,S=null;k!==null&&N<m.length;N++){k.index>N?(S=k,k=null):S=k.sibling;var E=h(v,k,m[N],_);if(E===null){k===null&&(k=S);break}e&&k&&E.alternate===null&&t(v,k),g=o(E,g,N),C===null?j=E:C.sibling=E,C=E,k=S}if(N===m.length)return n(v,k),pe&&sr(v,N),j;if(k===null){for(;N<m.length;N++)k=f(v,m[N],_),k!==null&&(g=o(k,g,N),C===null?j=k:C.sibling=k,C=k);return pe&&sr(v,N),j}for(k=r(v,k);N<m.length;N++)S=y(k,v,N,m[N],_),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?N:S.key),g=o(S,g,N),C===null?j=S:C.sibling=S,C=S);return e&&k.forEach(function(M){return t(v,M)}),pe&&sr(v,N),j}function x(v,g,m,_){var j=Os(m);if(typeof j!="function")throw Error(A(150));if(m=j.call(m),m==null)throw Error(A(151));for(var C=j=null,k=g,N=g=0,S=null,E=m.next();k!==null&&!E.done;N++,E=m.next()){k.index>N?(S=k,k=null):S=k.sibling;var M=h(v,k,E.value,_);if(M===null){k===null&&(k=S);break}e&&k&&M.alternate===null&&t(v,k),g=o(M,g,N),C===null?j=M:C.sibling=M,C=M,k=S}if(E.done)return n(v,k),pe&&sr(v,N),j;if(k===null){for(;!E.done;N++,E=m.next())E=f(v,E.value,_),E!==null&&(g=o(E,g,N),C===null?j=E:C.sibling=E,C=E);return pe&&sr(v,N),j}for(k=r(v,k);!E.done;N++,E=m.next())E=y(k,v,N,E.value,_),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?N:E.key),g=o(E,g,N),C===null?j=E:C.sibling=E,C=E);return e&&k.forEach(function(I){return t(v,I)}),pe&&sr(v,N),j}function b(v,g,m,_){if(typeof m=="object"&&m!==null&&m.type===Wr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Zo:e:{for(var j=m.key,C=g;C!==null;){if(C.key===j){if(j=m.type,j===Wr){if(C.tag===7){n(v,C.sibling),g=s(C,m.props.children),g.return=v,v=g;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Cn&&wh(j)===C.type){n(v,C.sibling),g=s(C,m.props),g.ref=Fs(v,C,m),g.return=v,v=g;break e}n(v,C);break}else t(v,C);C=C.sibling}m.type===Wr?(g=mr(m.props.children,v.mode,_,m.key),g.return=v,v=g):(_=Di(m.type,m.key,m.props,null,v.mode,_),_.ref=Fs(v,g,m),_.return=v,v=_)}return i(v);case Br:e:{for(C=m.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===m.containerInfo&&g.stateNode.implementation===m.implementation){n(v,g.sibling),g=s(g,m.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else t(v,g);g=g.sibling}g=Yl(m,v.mode,_),g.return=v,v=g}return i(v);case Cn:return C=m._init,b(v,g,C(m._payload),_)}if(Gs(m))return w(v,g,m,_);if(Os(m))return x(v,g,m,_);ui(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,g!==null&&g.tag===6?(n(v,g.sibling),g=s(g,m),g.return=v,v=g):(n(v,g),g=Kl(m,v.mode,_),g.return=v,v=g),i(v)):n(v,g)}return b}var fs=Pg(!0),Tg=Pg(!1),Zi=Xn(null),ea=null,Qr=null,pd=null;function md(){pd=Qr=ea=null}function gd(e){var t=Zi.current;he(Zi),e._currentValue=t}function qc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ss(e,t){ea=e,pd=Qr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function _t(e){var t=e._currentValue;if(pd!==e)if(e={context:e,memoizedValue:t,next:null},Qr===null){if(ea===null)throw Error(A(308));Qr=e,ea.dependencies={lanes:0,firstContext:e}}else Qr=Qr.next=e;return t}var dr=null;function vd(e){dr===null?dr=[e]:dr.push(e)}function Rg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,vd(t)):(n.next=s.next,s.next=n),t.interleaved=n,fn(e,r)}function fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var En=!1;function yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ag(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,fn(e,n)}return s=r.interleaved,s===null?(t.next=t,vd(r)):(t.next=s.next,s.next=t),r.interleaved=t,fn(e,n)}function Ti(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rd(e,n)}}function bh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ta(e,t,n,r){var s=e.updateQueue;En=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var h=l.lane,y=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(h=t,y=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){f=w.call(y,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,h=typeof w=="function"?w.call(y,f,h):w,h==null)break e;f=ve({},f,h);break e;case 2:En=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=f):d=d.next=y,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);wr|=i,e.lanes=i,e.memoizedState=f}}function _h(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var zo={},Gt=Xn(zo),jo=Xn(zo),So=Xn(zo);function fr(e){if(e===zo)throw Error(A(174));return e}function xd(e,t){switch(ue(So,t),ue(jo,e),ue(Gt,zo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nc(t,e)}he(Gt),ue(Gt,t)}function hs(){he(Gt),he(jo),he(So)}function Ig(e){fr(So.current);var t=fr(Gt.current),n=Nc(t,e.type);t!==n&&(ue(jo,e),ue(Gt,n))}function wd(e){jo.current===e&&(he(Gt),he(jo))}var me=Xn(0);function na(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bl=[];function bd(){for(var e=0;e<Bl.length;e++)Bl[e]._workInProgressVersionPrimary=null;Bl.length=0}var Ri=wn.ReactCurrentDispatcher,Wl=wn.ReactCurrentBatchConfig,xr=0,ge=null,je=null,Ee=null,ra=!1,so=!1,ko=0,Rb=0;function Me(){throw Error(A(321))}function _d(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function jd(e,t,n,r,s,o){if(xr=o,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ri.current=e===null||e.memoizedState===null?Ob:Db,e=n(r,s),so){o=0;do{if(so=!1,ko=0,25<=o)throw Error(A(301));o+=1,Ee=je=null,t.updateQueue=null,Ri.current=Lb,e=n(r,s)}while(so)}if(Ri.current=sa,t=je!==null&&je.next!==null,xr=0,Ee=je=ge=null,ra=!1,t)throw Error(A(300));return e}function Sd(){var e=ko!==0;return ko=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?ge.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function jt(){if(je===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Ee===null?ge.memoizedState:Ee.next;if(t!==null)Ee=t,je=e;else{if(e===null)throw Error(A(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ee===null?ge.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function No(e,t){return typeof t=="function"?t(e):t}function Vl(e){var t=jt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=je,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((xr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,ge.lanes|=d,wr|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,Ot(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ge.lanes|=o,wr|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hl(e){var t=jt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Ot(o,t.memoizedState)||(Qe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Mg(){}function Og(e,t){var n=ge,r=jt(),s=t(),o=!Ot(r.memoizedState,s);if(o&&(r.memoizedState=s,Qe=!0),r=r.queue,kd($g.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Co(9,Lg.bind(null,n,r,s,t),void 0,null),Pe===null)throw Error(A(349));xr&30||Dg(n,t,s)}return s}function Dg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lg(e,t,n,r){t.value=n,t.getSnapshot=r,Ug(t)&&Fg(e)}function $g(e,t,n){return n(function(){Ug(t)&&Fg(e)})}function Ug(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function Fg(e){var t=fn(e,1);t!==null&&Mt(t,e,1,-1)}function jh(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=Mb.bind(null,ge,e),[t.memoizedState,e]}function Co(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zg(){return jt().memoizedState}function Ai(e,t,n,r){var s=Bt();ge.flags|=e,s.memoizedState=Co(1|t,n,void 0,r===void 0?null:r)}function Da(e,t,n,r){var s=jt();r=r===void 0?null:r;var o=void 0;if(je!==null){var i=je.memoizedState;if(o=i.destroy,r!==null&&_d(r,i.deps)){s.memoizedState=Co(t,n,o,r);return}}ge.flags|=e,s.memoizedState=Co(1|t,n,o,r)}function Sh(e,t){return Ai(8390656,8,e,t)}function kd(e,t){return Da(2048,8,e,t)}function Bg(e,t){return Da(4,2,e,t)}function Wg(e,t){return Da(4,4,e,t)}function Vg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hg(e,t,n){return n=n!=null?n.concat([e]):null,Da(4,4,Vg.bind(null,t,e),n)}function Nd(){}function qg(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_d(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gg(e,t){var n=jt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_d(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Kg(e,t,n){return xr&21?(Ot(n,t)||(n=Zm(),ge.lanes|=n,wr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function Ab(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=Wl.transition;Wl.transition={};try{e(!1),t()}finally{se=n,Wl.transition=r}}function Yg(){return jt().memoizedState}function Ib(e,t,n){var r=Bn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xg(e))Qg(t,n);else if(n=Rg(e,t,n,r),n!==null){var s=Ve();Mt(n,e,r,s),Jg(n,t,r)}}function Mb(e,t,n){var r=Bn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xg(e))Qg(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,Ot(l,i)){var c=t.interleaved;c===null?(s.next=s,vd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Rg(e,t,s,r),n!==null&&(s=Ve(),Mt(n,e,r,s),Jg(n,t,r))}}function Xg(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Qg(e,t){so=ra=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rd(e,n)}}var sa={readContext:_t,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},Ob={readContext:_t,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:Sh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ai(4194308,4,Vg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ai(4,2,e,t)},useMemo:function(e,t){var n=Bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ib.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:jh,useDebugValue:Nd,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=jh(!1),t=e[0];return e=Ab.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,s=Bt();if(pe){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),Pe===null)throw Error(A(349));xr&30||Dg(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Sh($g.bind(null,r,o,e),[e]),r.flags|=2048,Co(9,Lg.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Bt(),t=Pe.identifierPrefix;if(pe){var n=ln,r=an;n=(r&~(1<<32-It(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ko++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Rb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Db={readContext:_t,useCallback:qg,useContext:_t,useEffect:kd,useImperativeHandle:Hg,useInsertionEffect:Bg,useLayoutEffect:Wg,useMemo:Gg,useReducer:Vl,useRef:zg,useState:function(){return Vl(No)},useDebugValue:Nd,useDeferredValue:function(e){var t=jt();return Kg(t,je.memoizedState,e)},useTransition:function(){var e=Vl(No)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Mg,useSyncExternalStore:Og,useId:Yg,unstable_isNewReconciler:!1},Lb={readContext:_t,useCallback:qg,useContext:_t,useEffect:kd,useImperativeHandle:Hg,useInsertionEffect:Bg,useLayoutEffect:Wg,useMemo:Gg,useReducer:Hl,useRef:zg,useState:function(){return Hl(No)},useDebugValue:Nd,useDeferredValue:function(e){var t=jt();return je===null?t.memoizedState=e:Kg(t,je.memoizedState,e)},useTransition:function(){var e=Hl(No)[0],t=jt().memoizedState;return[e,t]},useMutableSource:Mg,useSyncExternalStore:Og,useId:Yg,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Gc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var La={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=Bn(e),o=cn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Fn(e,o,s),t!==null&&(Mt(t,e,s,r),Ti(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ve(),s=Bn(e),o=cn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Fn(e,o,s),t!==null&&(Mt(t,e,s,r),Ti(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ve(),r=Bn(e),s=cn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Fn(e,s,r),t!==null&&(Mt(t,e,r,n),Ti(t,e,r))}};function kh(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!xo(n,r)||!xo(s,o):!0}function Zg(e,t,n){var r=!1,s=qn,o=t.contextType;return typeof o=="object"&&o!==null?o=_t(o):(s=tt(t)?vr:Fe.current,r=t.contextTypes,o=(r=r!=null)?us(e,s):qn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=La,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Nh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&La.enqueueReplaceState(t,t.state,null)}function Kc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},yd(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=_t(o):(o=tt(t)?vr:Fe.current,s.context=us(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Gc(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&La.enqueueReplaceState(s,s.state,null),ta(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ps(e,t){try{var n="",r=t;do n+=d1(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $b=typeof WeakMap=="function"?WeakMap:Map;function ev(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ia||(ia=!0,ou=r),Yc(e,t)},n}function tv(e,t,n){n=cn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Yc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Yc(e,t),typeof r!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ch(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $b;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Jb.bind(null,e,t,n),t.then(e,e))}function Eh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ph(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,Fn(n,t,1))),n.lanes|=1),e)}var Ub=wn.ReactCurrentOwner,Qe=!1;function ze(e,t,n,r){t.child=e===null?Tg(t,null,n,r):fs(t,e.child,n,r)}function Th(e,t,n,r,s){n=n.render;var o=t.ref;return ss(t,s),r=jd(e,t,n,r,o,s),n=Sd(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(pe&&n&&dd(t),t.flags|=1,ze(e,t,r,s),t.child)}function Rh(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Md(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,nv(e,t,o,r,s)):(e=Di(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:xo,n(i,r)&&e.ref===t.ref)return hn(e,t,s)}return t.flags|=1,e=Wn(o,r),e.ref=t.ref,e.return=t,t.child=e}function nv(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(xo(o,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,hn(e,t,s)}return Xc(e,t,n,r,s)}function rv(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Zr,it),it|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Zr,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ue(Zr,it),it|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ue(Zr,it),it|=r;return ze(e,t,s,n),t.child}function sv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xc(e,t,n,r,s){var o=tt(n)?vr:Fe.current;return o=us(t,o),ss(t,s),n=jd(e,t,n,r,o,s),r=Sd(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(pe&&r&&dd(t),t.flags|=1,ze(e,t,n,s),t.child)}function Ah(e,t,n,r,s){if(tt(n)){var o=!0;Xi(t)}else o=!1;if(ss(t,s),t.stateNode===null)Ii(e,t),Zg(t,n,r),Kc(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=_t(u):(u=tt(n)?vr:Fe.current,u=us(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Nh(t,i,r,u),En=!1;var h=t.memoizedState;i.state=h,ta(t,r,i,s),c=t.memoizedState,l!==r||h!==c||et.current||En?(typeof d=="function"&&(Gc(t,n,d,r),c=t.memoizedState),(l=En||kh(t,n,l,r,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ag(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Et(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=_t(c):(c=tt(n)?vr:Fe.current,c=us(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Nh(t,i,r,c),En=!1,h=t.memoizedState,i.state=h,ta(t,r,i,s);var w=t.memoizedState;l!==f||h!==w||et.current||En?(typeof y=="function"&&(Gc(t,n,y,r),w=t.memoizedState),(u=En||kh(t,n,u,r,h,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Qc(e,t,n,r,o,s)}function Qc(e,t,n,r,s,o){sv(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&vh(t,n,!1),hn(e,t,o);r=t.stateNode,Ub.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=fs(t,e.child,null,o),t.child=fs(t,null,l,o)):ze(e,t,l,o),t.memoizedState=r.state,s&&vh(t,n,!0),t.child}function ov(e){var t=e.stateNode;t.pendingContext?gh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gh(e,t.context,!1),xd(e,t.containerInfo)}function Ih(e,t,n,r,s){return ds(),hd(s),t.flags|=256,ze(e,t,n,r),t.child}var Jc={dehydrated:null,treeContext:null,retryLane:0};function Zc(e){return{baseLanes:e,cachePool:null,transitions:null}}function iv(e,t,n){var r=t.pendingProps,s=me.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(me,s&1),e===null)return Hc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Fa(i,r,0,null),e=mr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Zc(n),t.memoizedState=Jc,e):Cd(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Fb(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Wn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Wn(l,o):(o=mr(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Zc(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Jc,r}return o=e.child,e=o.sibling,r=Wn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Cd(e,t){return t=Fa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function di(e,t,n,r){return r!==null&&hd(r),fs(t,e.child,null,n),e=Cd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fb(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=ql(Error(A(422))),di(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Fa({mode:"visible",children:r.children},s,0,null),o=mr(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&fs(t,e.child,null,i),t.child.memoizedState=Zc(i),t.memoizedState=Jc,o);if(!(t.mode&1))return di(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(A(419)),r=ql(o,r,void 0),di(e,t,i,r)}if(l=(i&e.childLanes)!==0,Qe||l){if(r=Pe,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,fn(e,s),Mt(r,e,s,-1))}return Id(),r=ql(Error(A(421))),di(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Zb.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,lt=Un(s.nextSibling),ut=t,pe=!0,Rt=null,e!==null&&(mt[gt++]=an,mt[gt++]=ln,mt[gt++]=yr,an=e.id,ln=e.overflow,yr=t),t=Cd(t,r.children),t.flags|=4096,t)}function Mh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qc(e.return,t,n)}function Gl(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function av(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(ze(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mh(e,n,t);else if(e.tag===19)Mh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(me,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&na(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Gl(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&na(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Gl(t,!0,n,null,o);break;case"together":Gl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ii(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Wn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Wn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zb(e,t,n){switch(t.tag){case 3:ov(t),ds();break;case 5:Ig(t);break;case 1:tt(t.type)&&Xi(t);break;case 4:xd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ue(Zi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?iv(e,t,n):(ue(me,me.current&1),e=hn(e,t,n),e!==null?e.sibling:null);ue(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return av(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,rv(e,t,n)}return hn(e,t,n)}var lv,eu,cv,uv;lv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eu=function(){};cv=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,fr(Gt.current);var o=null;switch(n){case"input":s=_c(e,s),r=_c(e,r),o=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),o=[];break;case"textarea":s=kc(e,s),r=kc(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ki)}Cc(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&fe("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};uv=function(e,t,n,r){n!==r&&(t.flags|=4)};function zs(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bb(e,t,n){var r=t.pendingProps;switch(fd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return tt(t.type)&&Yi(),Oe(t),null;case 3:return r=t.stateNode,hs(),he(et),he(Fe),bd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ci(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rt!==null&&(lu(Rt),Rt=null))),eu(e,t),Oe(t),null;case 5:wd(t);var s=fr(So.current);if(n=t.type,e!==null&&t.stateNode!=null)cv(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return Oe(t),null}if(e=fr(Gt.current),ci(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Wt]=t,r[_o]=o,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<Ys.length;s++)fe(Ys[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Wf(r,o),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},fe("invalid",r);break;case"textarea":Hf(r,o),fe("invalid",r)}Cc(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&li(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&li(r.textContent,l,e),s=["children",""+l]):fo.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&fe("scroll",r)}switch(n){case"input":ei(r),Vf(r,o,!0);break;case"textarea":ei(r),qf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ki)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$m(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Wt]=t,e[_o]=r,lv(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ec(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ys.length;s++)fe(Ys[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":Wf(e,r),s=_c(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Hf(e,r),s=kc(e,r),fe("invalid",e);break;default:s=r}Cc(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?zm(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Um(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ho(e,c):typeof c=="number"&&ho(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fo.hasOwnProperty(o)?c!=null&&o==="onScroll"&&fe("scroll",e):c!=null&&Qu(e,o,c,i))}switch(n){case"input":ei(e),Vf(e,r,!1);break;case"textarea":ei(e),qf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?es(e,!!r.multiple,o,!1):r.defaultValue!=null&&es(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ki)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Oe(t),null;case 6:if(e&&t.stateNode!=null)uv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=fr(So.current),fr(Gt.current),ci(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wt]=t,(o=r.nodeValue!==n)&&(e=ut,e!==null))switch(e.tag){case 3:li(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&li(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wt]=t,t.stateNode=r}return Oe(t),null;case 13:if(he(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&lt!==null&&t.mode&1&&!(t.flags&128))Eg(),ds(),t.flags|=98560,o=!1;else if(o=ci(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(A(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[Wt]=t}else ds(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oe(t),o=!1}else Rt!==null&&(lu(Rt),Rt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Se===0&&(Se=3):Id())),t.updateQueue!==null&&(t.flags|=4),Oe(t),null);case 4:return hs(),eu(e,t),e===null&&wo(t.stateNode.containerInfo),Oe(t),null;case 10:return gd(t.type._context),Oe(t),null;case 17:return tt(t.type)&&Yi(),Oe(t),null;case 19:if(he(me),o=t.memoizedState,o===null)return Oe(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)zs(o,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=na(e),i!==null){for(t.flags|=128,zs(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(me,me.current&1|2),t.child}e=e.sibling}o.tail!==null&&we()>ms&&(t.flags|=128,r=!0,zs(o,!1),t.lanes=4194304)}else{if(!r)if(e=na(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!pe)return Oe(t),null}else 2*we()-o.renderingStartTime>ms&&n!==1073741824&&(t.flags|=128,r=!0,zs(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=we(),t.sibling=null,n=me.current,ue(me,r?n&1|2:n&1),t):(Oe(t),null);case 22:case 23:return Ad(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function Wb(e,t){switch(fd(t),t.tag){case 1:return tt(t.type)&&Yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hs(),he(et),he(Fe),bd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wd(t),null;case 13:if(he(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));ds()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(me),null;case 4:return hs(),null;case 10:return gd(t.type._context),null;case 22:case 23:return Ad(),null;case 24:return null;default:return null}}var fi=!1,Le=!1,Vb=typeof WeakSet=="function"?WeakSet:Set,$=null;function Jr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Oh=!1;function Hb(e,t){if($c=Hi,e=mg(),ud(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=i),h===o&&++d===r&&(c=i),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uc={focusedElem:e,selectionRange:n},Hi=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,b=w.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:Et(t.type,x),b);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(_){ye(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return w=Oh,Oh=!1,w}function oo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&tu(t,n,o)}s=s.next}while(s!==r)}}function $a(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dv(e){var t=e.alternate;t!==null&&(e.alternate=null,dv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wt],delete t[_o],delete t[Bc],delete t[Cb],delete t[Eb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fv(e){return e.tag===5||e.tag===3||e.tag===4}function Dh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ru(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ki));else if(r!==4&&(e=e.child,e!==null))for(ru(e,t,n),e=e.sibling;e!==null;)ru(e,t,n),e=e.sibling}function su(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(su(e,t,n),e=e.sibling;e!==null;)su(e,t,n),e=e.sibling}var Te=null,Pt=!1;function bn(e,t,n){for(n=n.child;n!==null;)hv(e,t,n),n=n.sibling}function hv(e,t,n){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Ta,n)}catch{}switch(n.tag){case 5:Le||Jr(n,t);case 6:var r=Te,s=Pt;Te=null,bn(e,t,n),Te=r,Pt=s,Te!==null&&(Pt?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(Pt?(e=Te,n=n.stateNode,e.nodeType===8?Fl(e.parentNode,n):e.nodeType===1&&Fl(e,n),vo(e)):Fl(Te,n.stateNode));break;case 4:r=Te,s=Pt,Te=n.stateNode.containerInfo,Pt=!0,bn(e,t,n),Te=r,Pt=s;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&tu(n,t,i),s=s.next}while(s!==r)}bn(e,t,n);break;case 1:if(!Le&&(Jr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ye(n,t,l)}bn(e,t,n);break;case 21:bn(e,t,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,bn(e,t,n),Le=r):bn(e,t,n);break;default:bn(e,t,n)}}function Lh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Vb),t.forEach(function(r){var s=e_.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Te=l.stateNode,Pt=!1;break e;case 3:Te=l.stateNode.containerInfo,Pt=!0;break e;case 4:Te=l.stateNode.containerInfo,Pt=!0;break e}l=l.return}if(Te===null)throw Error(A(160));hv(o,i,s),Te=null,Pt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ye(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pv(t,e),t=t.sibling}function pv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kt(t,e),zt(e),r&4){try{oo(3,e,e.return),$a(3,e)}catch(x){ye(e,e.return,x)}try{oo(5,e,e.return)}catch(x){ye(e,e.return,x)}}break;case 1:kt(t,e),zt(e),r&512&&n!==null&&Jr(n,n.return);break;case 5:if(kt(t,e),zt(e),r&512&&n!==null&&Jr(n,n.return),e.flags&32){var s=e.stateNode;try{ho(s,"")}catch(x){ye(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Dm(s,o),Ec(l,i);var u=Ec(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?zm(s,f):d==="dangerouslySetInnerHTML"?Um(s,f):d==="children"?ho(s,f):Qu(s,d,f,u)}switch(l){case"input":jc(s,o);break;case"textarea":Lm(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?es(s,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?es(s,!!o.multiple,o.defaultValue,!0):es(s,!!o.multiple,o.multiple?[]:"",!1))}s[_o]=o}catch(x){ye(e,e.return,x)}}break;case 6:if(kt(t,e),zt(e),r&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(x){ye(e,e.return,x)}}break;case 3:if(kt(t,e),zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vo(t.containerInfo)}catch(x){ye(e,e.return,x)}break;case 4:kt(t,e),zt(e);break;case 13:kt(t,e),zt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Td=we())),r&4&&Lh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(u=Le)||d,kt(t,e),Le=u):kt(t,e),zt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(f=$=d;$!==null;){switch(h=$,y=h.child,h.tag){case 0:case 11:case 14:case 15:oo(4,h,h.return);break;case 1:Jr(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){ye(r,n,x)}}break;case 5:Jr(h,h.return);break;case 22:if(h.memoizedState!==null){Uh(f);continue}}y!==null?(y.return=h,$=y):Uh(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Fm("display",i))}catch(x){ye(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ye(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:kt(t,e),zt(e),r&4&&Lh(e);break;case 21:break;default:kt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(fv(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ho(s,""),r.flags&=-33);var o=Dh(e);su(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Dh(e);ru(e,l,i);break;default:throw Error(A(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qb(e,t,n){$=e,mv(e)}function mv(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var s=$,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||fi;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Le;l=fi;var u=Le;if(fi=i,(Le=c)&&!u)for($=s;$!==null;)i=$,c=i.child,i.tag===22&&i.memoizedState!==null?Fh(s):c!==null?(c.return=i,$=c):Fh(s);for(;o!==null;)$=o,mv(o),o=o.sibling;$=s,fi=l,Le=u}$h(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,$=o):$h(e)}}function $h(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||$a(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Le)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Et(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&_h(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_h(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&vo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Le||t.flags&512&&nu(t)}catch(h){ye(t,t.return,h)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Uh(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Fh(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{$a(4,t)}catch(c){ye(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ye(t,s,c)}}var o=t.return;try{nu(t)}catch(c){ye(t,o,c)}break;case 5:var i=t.return;try{nu(t)}catch(c){ye(t,i,c)}}}catch(c){ye(t,t.return,c)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var Gb=Math.ceil,oa=wn.ReactCurrentDispatcher,Ed=wn.ReactCurrentOwner,yt=wn.ReactCurrentBatchConfig,ee=0,Pe=null,_e=null,Re=0,it=0,Zr=Xn(0),Se=0,Eo=null,wr=0,Ua=0,Pd=0,io=null,Ye=null,Td=0,ms=1/0,rn=null,ia=!1,ou=null,zn=null,hi=!1,Mn=null,aa=0,ao=0,iu=null,Mi=-1,Oi=0;function Ve(){return ee&6?we():Mi!==-1?Mi:Mi=we()}function Bn(e){return e.mode&1?ee&2&&Re!==0?Re&-Re:Tb.transition!==null?(Oi===0&&(Oi=Zm()),Oi):(e=se,e!==0||(e=window.event,e=e===void 0?16:ig(e.type)),e):1}function Mt(e,t,n,r){if(50<ao)throw ao=0,iu=null,Error(A(185));$o(e,n,r),(!(ee&2)||e!==Pe)&&(e===Pe&&(!(ee&2)&&(Ua|=n),Se===4&&Rn(e,Re)),nt(e,r),n===1&&ee===0&&!(t.mode&1)&&(ms=we()+500,Oa&&Qn()))}function nt(e,t){var n=e.callbackNode;T1(e,t);var r=Vi(e,e===Pe?Re:0);if(r===0)n!==null&&Yf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Yf(n),t===1)e.tag===0?Pb(zh.bind(null,e)):kg(zh.bind(null,e)),kb(function(){!(ee&6)&&Qn()}),n=null;else{switch(eg(r)){case 1:n=nd;break;case 4:n=Qm;break;case 16:n=Wi;break;case 536870912:n=Jm;break;default:n=Wi}n=jv(n,gv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gv(e,t){if(Mi=-1,Oi=0,ee&6)throw Error(A(327));var n=e.callbackNode;if(os()&&e.callbackNode!==n)return null;var r=Vi(e,e===Pe?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=la(e,r);else{t=r;var s=ee;ee|=2;var o=yv();(Pe!==e||Re!==t)&&(rn=null,ms=we()+500,pr(e,t));do try{Xb();break}catch(l){vv(e,l)}while(1);md(),oa.current=o,ee=s,_e!==null?t=0:(Pe=null,Re=0,t=Se)}if(t!==0){if(t===2&&(s=Ic(e),s!==0&&(r=s,t=au(e,s))),t===1)throw n=Eo,pr(e,0),Rn(e,r),nt(e,we()),n;if(t===6)Rn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Kb(s)&&(t=la(e,r),t===2&&(o=Ic(e),o!==0&&(r=o,t=au(e,o))),t===1))throw n=Eo,pr(e,0),Rn(e,r),nt(e,we()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:or(e,Ye,rn);break;case 3:if(Rn(e,r),(r&130023424)===r&&(t=Td+500-we(),10<t)){if(Vi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ve(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zc(or.bind(null,e,Ye,rn),t);break}or(e,Ye,rn);break;case 4:if(Rn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-It(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gb(r/1960))-r,10<r){e.timeoutHandle=zc(or.bind(null,e,Ye,rn),r);break}or(e,Ye,rn);break;case 5:or(e,Ye,rn);break;default:throw Error(A(329))}}}return nt(e,we()),e.callbackNode===n?gv.bind(null,e):null}function au(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(pr(e,t).flags|=256),e=la(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&lu(t)),e}function lu(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function Kb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Ot(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~Pd,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-It(t),r=1<<n;e[n]=-1,t&=~r}}function zh(e){if(ee&6)throw Error(A(327));os();var t=Vi(e,0);if(!(t&1))return nt(e,we()),null;var n=la(e,t);if(e.tag!==0&&n===2){var r=Ic(e);r!==0&&(t=r,n=au(e,r))}if(n===1)throw n=Eo,pr(e,0),Rn(e,t),nt(e,we()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,Ye,rn),nt(e,we()),null}function Rd(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(ms=we()+500,Oa&&Qn())}}function br(e){Mn!==null&&Mn.tag===0&&!(ee&6)&&os();var t=ee;ee|=1;var n=yt.transition,r=se;try{if(yt.transition=null,se=1,e)return e()}finally{se=r,yt.transition=n,ee=t,!(ee&6)&&Qn()}}function Ad(){it=Zr.current,he(Zr)}function pr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sb(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(fd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yi();break;case 3:hs(),he(et),he(Fe),bd();break;case 5:wd(r);break;case 4:hs();break;case 13:he(me);break;case 19:he(me);break;case 10:gd(r.type._context);break;case 22:case 23:Ad()}n=n.return}if(Pe=e,_e=e=Wn(e.current,null),Re=it=t,Se=0,Eo=null,Pd=Ua=wr=0,Ye=io=null,dr!==null){for(t=0;t<dr.length;t++)if(n=dr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}dr=null}return e}function vv(e,t){do{var n=_e;try{if(md(),Ri.current=sa,ra){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ra=!1}if(xr=0,Ee=je=ge=null,so=!1,ko=0,Ed.current=null,n===null||n.return===null){Se=1,Eo=t,_e=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Re,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Eh(i);if(y!==null){y.flags&=-257,Ph(y,i,l,o,t),y.mode&1&&Ch(o,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){Ch(o,u,t),Id();break e}c=Error(A(426))}}else if(pe&&l.mode&1){var b=Eh(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ph(b,i,l,o,t),hd(ps(c,l));break e}}o=c=ps(c,l),Se!==4&&(Se=2),io===null?io=[o]:io.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=ev(o,c,t);bh(o,v);break e;case 1:l=c;var g=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(zn===null||!zn.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=tv(o,l,t);bh(o,_);break e}}o=o.return}while(o!==null)}wv(n)}catch(j){t=j,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(1)}function yv(){var e=oa.current;return oa.current=sa,e===null?sa:e}function Id(){(Se===0||Se===3||Se===2)&&(Se=4),Pe===null||!(wr&268435455)&&!(Ua&268435455)||Rn(Pe,Re)}function la(e,t){var n=ee;ee|=2;var r=yv();(Pe!==e||Re!==t)&&(rn=null,pr(e,t));do try{Yb();break}catch(s){vv(e,s)}while(1);if(md(),ee=n,oa.current=r,_e!==null)throw Error(A(261));return Pe=null,Re=0,Se}function Yb(){for(;_e!==null;)xv(_e)}function Xb(){for(;_e!==null&&!b1();)xv(_e)}function xv(e){var t=_v(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?wv(e):_e=t,Ed.current=null}function wv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Wb(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,_e=null;return}}else if(n=Bb(n,t,it),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Se===0&&(Se=5)}function or(e,t,n){var r=se,s=yt.transition;try{yt.transition=null,se=1,Qb(e,t,n,r)}finally{yt.transition=s,se=r}return null}function Qb(e,t,n,r){do os();while(Mn!==null);if(ee&6)throw Error(A(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(R1(e,o),e===Pe&&(_e=Pe=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hi||(hi=!0,jv(Wi,function(){return os(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=yt.transition,yt.transition=null;var i=se;se=1;var l=ee;ee|=4,Ed.current=null,Hb(e,n),pv(n,e),vb(Uc),Hi=!!$c,Uc=$c=null,e.current=n,qb(n),_1(),ee=l,se=i,yt.transition=o}else e.current=n;if(hi&&(hi=!1,Mn=e,aa=s),o=e.pendingLanes,o===0&&(zn=null),k1(n.stateNode),nt(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ia)throw ia=!1,e=ou,ou=null,e;return aa&1&&e.tag!==0&&os(),o=e.pendingLanes,o&1?e===iu?ao++:(ao=0,iu=e):ao=0,Qn(),null}function os(){if(Mn!==null){var e=eg(aa),t=yt.transition,n=se;try{if(yt.transition=null,se=16>e?16:e,Mn===null)var r=!1;else{if(e=Mn,Mn=null,aa=0,ee&6)throw Error(A(331));var s=ee;for(ee|=4,$=e.current;$!==null;){var o=$,i=o.child;if($.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:oo(8,d,o)}var f=d.child;if(f!==null)f.return=d,$=f;else for(;$!==null;){d=$;var h=d.sibling,y=d.return;if(dv(d),d===u){$=null;break}if(h!==null){h.return=y,$=h;break}$=y}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}$=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,$=i;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:oo(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,$=v;break e}$=o.return}}var g=e.current;for($=g;$!==null;){i=$;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,$=m;else e:for(i=g;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$a(9,l)}}catch(j){ye(l,l.return,j)}if(l===i){$=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,$=_;break e}$=l.return}}if(ee=s,Qn(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Ta,e)}catch{}r=!0}return r}finally{se=n,yt.transition=t}}return!1}function Bh(e,t,n){t=ps(n,t),t=ev(e,t,1),e=Fn(e,t,1),t=Ve(),e!==null&&($o(e,1,t),nt(e,t))}function ye(e,t,n){if(e.tag===3)Bh(e,e,n);else for(;t!==null;){if(t.tag===3){Bh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zn===null||!zn.has(r))){e=ps(n,e),e=tv(t,e,1),t=Fn(t,e,1),e=Ve(),t!==null&&($o(t,1,e),nt(t,e));break}}t=t.return}}function Jb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ve(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Re&n)===n&&(Se===4||Se===3&&(Re&130023424)===Re&&500>we()-Td?pr(e,0):Pd|=n),nt(e,t)}function bv(e,t){t===0&&(e.mode&1?(t=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):t=1);var n=Ve();e=fn(e,t),e!==null&&($o(e,t,n),nt(e,n))}function Zb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bv(e,n)}function e_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),bv(e,n)}var _v;_v=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,zb(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,pe&&t.flags&1048576&&Ng(t,Ji,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ii(e,t),e=t.pendingProps;var s=us(t,Fe.current);ss(t,n),s=jd(null,t,r,e,s,n);var o=Sd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(o=!0,Xi(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yd(t),s.updater=La,t.stateNode=s,s._reactInternals=t,Kc(t,r,e,n),t=Qc(null,t,r,!0,o,n)):(t.tag=0,pe&&o&&dd(t),ze(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ii(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=n_(r),e=Et(r,e),s){case 0:t=Xc(null,t,r,e,n);break e;case 1:t=Ah(null,t,r,e,n);break e;case 11:t=Th(null,t,r,e,n);break e;case 14:t=Rh(null,t,r,Et(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Et(r,s),Xc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Et(r,s),Ah(e,t,r,s,n);case 3:e:{if(ov(t),e===null)throw Error(A(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Ag(e,t),ta(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ps(Error(A(423)),t),t=Ih(e,t,r,n,s);break e}else if(r!==s){s=ps(Error(A(424)),t),t=Ih(e,t,r,n,s);break e}else for(lt=Un(t.stateNode.containerInfo.firstChild),ut=t,pe=!0,Rt=null,n=Tg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ds(),r===s){t=hn(e,t,n);break e}ze(e,t,r,n)}t=t.child}return t;case 5:return Ig(t),e===null&&Hc(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Fc(r,s)?i=null:o!==null&&Fc(r,o)&&(t.flags|=32),sv(e,t),ze(e,t,i,n),t.child;case 6:return e===null&&Hc(t),null;case 13:return iv(e,t,n);case 4:return xd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=fs(t,null,r,n):ze(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Et(r,s),Th(e,t,r,s,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ue(Zi,r._currentValue),r._currentValue=i,o!==null)if(Ot(o.value,i)){if(o.children===s.children&&!et.current){t=hn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=cn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),qc(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(A(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),qc(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ze(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ss(t,n),s=_t(s),r=r(s),t.flags|=1,ze(e,t,r,n),t.child;case 14:return r=t.type,s=Et(r,t.pendingProps),s=Et(r.type,s),Rh(e,t,r,s,n);case 15:return nv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Et(r,s),Ii(e,t),t.tag=1,tt(r)?(e=!0,Xi(t)):e=!1,ss(t,n),Zg(t,r,s),Kc(t,r,s,n),Qc(null,t,r,!0,e,n);case 19:return av(e,t,n);case 22:return rv(e,t,n)}throw Error(A(156,t.tag))};function jv(e,t){return Xm(e,t)}function t_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,n,r){return new t_(e,t,n,r)}function Md(e){return e=e.prototype,!(!e||!e.isReactComponent)}function n_(e){if(typeof e=="function")return Md(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zu)return 11;if(e===ed)return 14}return 2}function Wn(e,t){var n=e.alternate;return n===null?(n=vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Di(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Md(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Wr:return mr(n.children,s,o,t);case Ju:i=8,s|=8;break;case yc:return e=vt(12,n,t,s|2),e.elementType=yc,e.lanes=o,e;case xc:return e=vt(13,n,t,s),e.elementType=xc,e.lanes=o,e;case wc:return e=vt(19,n,t,s),e.elementType=wc,e.lanes=o,e;case Im:return Fa(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rm:i=10;break e;case Am:i=9;break e;case Zu:i=11;break e;case ed:i=14;break e;case Cn:i=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=vt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function mr(e,t,n,r){return e=vt(7,e,r,t),e.lanes=n,e}function Fa(e,t,n,r){return e=vt(22,e,r,t),e.elementType=Im,e.lanes=n,e.stateNode={isHidden:!1},e}function Kl(e,t,n){return e=vt(6,e,null,t),e.lanes=n,e}function Yl(e,t,n){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function r_(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Od(e,t,n,r,s,o,i,l,c){return e=new r_(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=vt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(o),e}function s_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Sv(e){if(!e)return qn;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(tt(n))return Sg(e,n,t)}return t}function kv(e,t,n,r,s,o,i,l,c){return e=Od(n,r,!0,e,s,o,i,l,c),e.context=Sv(null),n=e.current,r=Ve(),s=Bn(n),o=cn(r,s),o.callback=t??null,Fn(n,o,s),e.current.lanes=s,$o(e,s,r),nt(e,r),e}function za(e,t,n,r){var s=t.current,o=Ve(),i=Bn(s);return n=Sv(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Fn(s,t,i),e!==null&&(Mt(e,s,i,o),Ti(e,s,i)),i}function ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dd(e,t){Wh(e,t),(e=e.alternate)&&Wh(e,t)}function o_(){return null}var Nv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ld(e){this._internalRoot=e}Ba.prototype.render=Ld.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));za(e,t,null,null)};Ba.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;br(function(){za(null,e,null,null)}),t[dn]=null}};function Ba(e){this._internalRoot=e}Ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=rg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tn.length&&t!==0&&t<Tn[n].priority;n++);Tn.splice(n,0,e),n===0&&og(e)}};function $d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vh(){}function i_(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ca(i);o.call(u)}}var i=kv(t,r,e,0,null,!1,!1,"",Vh);return e._reactRootContainer=i,e[dn]=i.current,wo(e.nodeType===8?e.parentNode:e),br(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ca(c);l.call(u)}}var c=Od(e,0,!1,null,null,!1,!1,"",Vh);return e._reactRootContainer=c,e[dn]=c.current,wo(e.nodeType===8?e.parentNode:e),br(function(){za(t,c,n,r)}),c}function Va(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=ca(i);l.call(c)}}za(t,i,e,s)}else i=i_(n,t,e,s,r);return ca(i)}tg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ks(t.pendingLanes);n!==0&&(rd(t,n|1),nt(t,we()),!(ee&6)&&(ms=we()+500,Qn()))}break;case 13:br(function(){var r=fn(e,1);if(r!==null){var s=Ve();Mt(r,e,1,s)}}),Dd(e,1)}};sd=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var n=Ve();Mt(t,e,134217728,n)}Dd(e,134217728)}};ng=function(e){if(e.tag===13){var t=Bn(e),n=fn(e,t);if(n!==null){var r=Ve();Mt(n,e,t,r)}Dd(e,t)}};rg=function(){return se};sg=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};Tc=function(e,t,n){switch(t){case"input":if(jc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ma(r);if(!s)throw Error(A(90));Om(r),jc(r,s)}}}break;case"textarea":Lm(e,n);break;case"select":t=n.value,t!=null&&es(e,!!n.multiple,t,!1)}};Vm=Rd;Hm=br;var a_={usingClientEntryPoint:!1,Events:[Fo,Gr,Ma,Bm,Wm,Rd]},Bs={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l_={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Km(e),e===null?null:e.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||o_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pi.isDisabled&&pi.supportsFiber)try{Ta=pi.inject(l_),qt=pi}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a_;ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$d(t))throw Error(A(200));return s_(e,t,null,n)};ht.createRoot=function(e,t){if(!$d(e))throw Error(A(299));var n=!1,r="",s=Nv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Od(e,1,!1,null,null,n,!1,r,s),e[dn]=t.current,wo(e.nodeType===8?e.parentNode:e),new Ld(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Km(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return br(e)};ht.hydrate=function(e,t,n){if(!Wa(t))throw Error(A(200));return Va(null,e,t,!0,n)};ht.hydrateRoot=function(e,t,n){if(!$d(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Nv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=kv(t,null,e,1,n??null,s,!1,o,i),e[dn]=t.current,wo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ba(t)};ht.render=function(e,t,n){if(!Wa(t))throw Error(A(200));return Va(null,e,t,!1,n)};ht.unmountComponentAtNode=function(e){if(!Wa(e))throw Error(A(40));return e._reactRootContainer?(br(function(){Va(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};ht.unstable_batchedUpdates=Rd;ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wa(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Va(e,t,n,!1,r)};ht.version="18.3.1-next-f1338f8080-20240426";function Cv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cv)}catch(e){console.error(e)}}Cv(),Cm.exports=ht;var _s=Cm.exports;const c_=mm(_s);var Hh=_s;gc.createRoot=Hh.createRoot,gc.hydrateRoot=Hh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Po.apply(this,arguments)}var On;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(On||(On={}));const qh="popstate";function u_(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return cu("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Pv(s)}return f_(t,n,null,e)}function Ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ev(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d_(){return Math.random().toString(36).substr(2,8)}function Gh(e,t){return{usr:e.state,key:e.key,idx:t}}function cu(e,t,n,r){return n===void 0&&(n=null),Po({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?js(t):t,{state:n,key:t&&t.key||r||d_()})}function Pv(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function js(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f_(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=On.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Po({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=On.Pop;let b=d(),v=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:v})}function h(b,v){l=On.Push;let g=cu(x.location,b,v);n&&n(g,b),u=d()+1;let m=Gh(g,u),_=x.createHref(g);try{i.pushState(m,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}o&&c&&c({action:l,location:x.location,delta:1})}function y(b,v){l=On.Replace;let g=cu(x.location,b,v);n&&n(g,b),u=d();let m=Gh(g,u),_=x.createHref(g);i.replaceState(m,"",_),o&&c&&c({action:l,location:x.location,delta:0})}function w(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:Pv(b);return g=g.replace(/ $/,"%20"),Ne(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let x={get action(){return l},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(qh,f),c=b,()=>{s.removeEventListener(qh,f),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let v=w(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:y,go(b){return i.go(b)}};return x}var Kh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kh||(Kh={}));function h_(e,t,n){return n===void 0&&(n="/"),p_(e,t,n,!1)}function p_(e,t,n,r){let s=typeof t=="string"?js(t):t,o=Av(s.pathname||"/",n);if(o==null)return null;let i=Tv(e);m_(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=N_(o);l=S_(i[c],u,r)}return l}function Tv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ne(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=gr([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Ne(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Tv(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:__(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of Rv(o.path))s(o,i,c)}),t}function Rv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Rv(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function m_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:j_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const g_=/^:[\w-]+$/,v_=3,y_=2,x_=1,w_=10,b_=-2,Yh=e=>e==="*";function __(e,t){let n=e.split("/"),r=n.length;return n.some(Yh)&&(r+=b_),t&&(r+=y_),n.filter(s=>!Yh(s)).reduce((s,o)=>s+(g_.test(o)?v_:o===""?x_:w_),r)}function j_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function S_(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Xh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Xh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:gr([o,f.pathname]),pathnameBase:A_(gr([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=gr([o,f.pathnameBase]))}return i}function Xh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=k_(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let x=l[f]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[f];return y&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function k_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ev(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function N_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ev(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Av(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function C_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?js(e):e;return{pathname:n?n.startsWith("/")?n:E_(n,t):t,search:I_(r),hash:M_(s)}}function E_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Xl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function T_(e,t){let n=P_(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function R_(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=js(e):(s=Po({},e),Ne(!s.pathname||!s.pathname.includes("?"),Xl("?","pathname","search",s)),Ne(!s.pathname||!s.pathname.includes("#"),Xl("#","pathname","hash",s)),Ne(!s.search||!s.search.includes("#"),Xl("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=C_(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const gr=e=>e.join("/").replace(/\/\/+/g,"/"),A_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),I_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,M_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function O_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Iv=["post","put","patch","delete"];new Set(Iv);const D_=["get",...Iv];new Set(D_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},To.apply(this,arguments)}const Ud=p.createContext(null),L_=p.createContext(null),Ha=p.createContext(null),qa=p.createContext(null),Ss=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Mv=p.createContext(null);function Ga(){return p.useContext(qa)!=null}function Fd(){return Ga()||Ne(!1),p.useContext(qa).location}function Ov(e){p.useContext(Ha).static||p.useLayoutEffect(e)}function Dv(){let{isDataRoute:e}=p.useContext(Ss);return e?X_():$_()}function $_(){Ga()||Ne(!1);let e=p.useContext(Ud),{basename:t,future:n,navigator:r}=p.useContext(Ha),{matches:s}=p.useContext(Ss),{pathname:o}=Fd(),i=JSON.stringify(T_(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return Ov(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=R_(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gr([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function U_(e,t){return F_(e,t)}function F_(e,t,n,r){Ga()||Ne(!1);let{navigator:s}=p.useContext(Ha),{matches:o}=p.useContext(Ss),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Fd(),d;if(t){var f;let b=typeof t=="string"?js(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Ne(!1),d=b}else d=u;let h=d.pathname||"/",y=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=h_(e,{pathname:y}),x=H_(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:gr([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:gr([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return t&&x?p.createElement(qa.Provider,{value:{location:To({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:On.Pop}},x):x}function z_(){let e=Y_(),t=O_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,o)}const B_=p.createElement(z_,null);class W_ extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Ss.Provider,{value:this.props.routeContext},p.createElement(Mv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V_(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(Ud);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Ss.Provider,{value:t},r)}function H_(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ne(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:y}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let y,w=!1,x=null,b=null;n&&(y=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||B_,c&&(u<0&&h===0?(Q_("route-fallback",!1),w=!0,b=null):u===h&&(w=!0,b=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,h+1)),g=()=>{let m;return y?m=x:w?m=b:f.route.Component?m=p.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=d,p.createElement(V_,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:m})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(W_,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var Lv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Lv||{}),ua=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ua||{});function q_(e){let t=p.useContext(Ud);return t||Ne(!1),t}function G_(e){let t=p.useContext(L_);return t||Ne(!1),t}function K_(e){let t=p.useContext(Ss);return t||Ne(!1),t}function $v(e){let t=K_(),n=t.matches[t.matches.length-1];return n.route.id||Ne(!1),n.route.id}function Y_(){var e;let t=p.useContext(Mv),n=G_(ua.UseRouteError),r=$v(ua.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function X_(){let{router:e}=q_(Lv.UseNavigateStable),t=$v(ua.UseNavigateStable),n=p.useRef(!1);return Ov(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,To({fromRouteId:t},o)))},[e,t])}const Qh={};function Q_(e,t,n){!t&&!Qh[e]&&(Qh[e]=!0)}function J_(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function uu(e){Ne(!1)}function Z_(e){let{basename:t="/",children:n=null,location:r,navigationType:s=On.Pop,navigator:o,static:i=!1,future:l}=e;Ga()&&Ne(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:i,future:To({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=js(r));let{pathname:d="/",search:f="",hash:h="",state:y=null,key:w="default"}=r,x=p.useMemo(()=>{let b=Av(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:y,key:w},navigationType:s}},[c,d,f,h,y,w,s]);return x==null?null:p.createElement(Ha.Provider,{value:u},p.createElement(qa.Provider,{children:n,value:x}))}function ej(e){let{children:t,location:n}=e;return U_(du(t),n)}new Promise(()=>{});function du(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let o=[...t,s];if(r.type===p.Fragment){n.push.apply(n,du(r.props.children,o));return}r.type!==uu&&Ne(!1),!r.props.index||!r.props.children||Ne(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=du(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function tj(e,t){let n=fu(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}const nj="6";try{window.__reactRouterVersion=nj}catch{}const rj="startTransition",Jh=Ku[rj];function sj(e){let{basename:t,children:n,future:r,window:s}=e,o=p.useRef();o.current==null&&(o.current=u_({window:s,v5Compat:!0}));let i=o.current,[l,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=p.useCallback(f=>{u&&Jh?Jh(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.useEffect(()=>J_(r),[r]),p.createElement(Z_,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}var Zh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zh||(Zh={}));var ep;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ep||(ep={}));function oj(e){let t=p.useRef(fu(e)),n=p.useRef(!1),r=Fd(),s=p.useMemo(()=>tj(r.search,n.current?null:t.current),[r.search]),o=Dv(),i=p.useCallback((l,c)=>{const u=fu(typeof l=="function"?l(s):l);n.current=!0,o("?"+u,c)},[o,s]);return[s,i]}const ij="modulepreload",aj=function(e){return"/"+e},tp={},Bo=function(t,n,r){if(!n||n.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=aj(o),o in tp)return;tp[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===o&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":ij,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},lj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bo(()=>Promise.resolve().then(()=>ks),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class zd extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class cj extends zd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class np extends zd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class rp extends zd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hu||(hu={}));var uj=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class dj{constructor(t,{headers:n={},customFetch:r,region:s=hu.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=lj(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return uj(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new cj(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new np(f);if(!f.ok)throw new rp(f);let y=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield f.json():y==="application/octet-stream"?w=yield f.blob():y==="text/event-stream"?w=f:y==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof rp||s instanceof np?s.context:void 0}}})}}var Xe={},Bd={},Ka={},Wo={},Ya={},Xa={},fj=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gs=fj();const hj=gs.fetch,Uv=gs.fetch.bind(gs),Fv=gs.Headers,pj=gs.Request,mj=gs.Response,ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fv,Request:pj,Response:mj,default:Uv,fetch:hj},Symbol.toStringTag,{value:"Module"})),gj=Lw(ks);var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});let vj=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Qa.default=vj;var zv=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xa,"__esModule",{value:!0});const yj=zv(gj),xj=zv(Qa);let wj=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=yj.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,f=null,h=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const x=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await o.text();try{u=JSON.parse(x),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,y="OK")}catch{o.status===404&&x===""?(h=204,y="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,y="OK"),u&&this.shouldThrowOnError)throw new xj.default(u)}return{error:u,data:d,count:f,status:h,statusText:y}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Xa.default=wj;var bj=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ya,"__esModule",{value:!0});const _j=bj(Xa);let jj=class extends _j.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ya.default=jj;var Sj=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wo,"__esModule",{value:!0});const kj=Sj(Ya);let Nj=class extends kj.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Wo.default=Nj;var Cj=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ka,"__esModule",{value:!0});const Ws=Cj(Wo);let Ej=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new Ws.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ws.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ws.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Ws.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ws.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ka.default=Ej;var Ja={},Za={};Object.defineProperty(Za,"__esModule",{value:!0});Za.version=void 0;Za.version="0.0.0-automated";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.DEFAULT_HEADERS=void 0;const Pj=Za;Ja.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Pj.version}`};var Bv=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bd,"__esModule",{value:!0});const Tj=Bv(Ka),Rj=Bv(Wo),Aj=Ja;let Ij=class Wv{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Aj.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Tj.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Wv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new Rj.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Bd.default=Ij;var Ns=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const Vv=Ns(Bd);Xe.PostgrestClient=Vv.default;const Hv=Ns(Ka);Xe.PostgrestQueryBuilder=Hv.default;const qv=Ns(Wo);Xe.PostgrestFilterBuilder=qv.default;const Gv=Ns(Ya);Xe.PostgrestTransformBuilder=Gv.default;const Kv=Ns(Xa);Xe.PostgrestBuilder=Kv.default;const Yv=Ns(Qa);Xe.PostgrestError=Yv.default;var Mj=Xe.default={PostgrestClient:Vv.default,PostgrestQueryBuilder:Hv.default,PostgrestFilterBuilder:qv.default,PostgrestTransformBuilder:Gv.default,PostgrestBuilder:Kv.default,PostgrestError:Yv.default};const{PostgrestClient:Oj,PostgrestQueryBuilder:cI,PostgrestFilterBuilder:uI,PostgrestTransformBuilder:dI,PostgrestBuilder:fI,PostgrestError:hI}=Mj;function Dj(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Lj=Dj(),$j="2.11.15",Uj=`realtime-js/${$j}`,Fj="1.0.0",Xv=1e4,zj=1e3;var lo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(lo||(lo={}));var De;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(De||(De={}));var Tt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Tt||(Tt={}));var pu;(function(e){e.websocket="websocket"})(pu||(pu={}));var cr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(cr||(cr={}));class Bj{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const l=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Qv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ce||(ce={}));const sp=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=Wj(i,e,t,s),o),{})},Wj=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?Jv(o,i):mu(i)},Jv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Gj(t,n)}switch(e){case ce.bool:return Vj(t);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return Hj(t);case ce.json:case ce.jsonb:return qj(t);case ce.timestamp:return Kj(t);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return mu(t);default:return mu(t)}},mu=e=>e,Vj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Hj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Gj=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>Jv(t,l))}return e},Kj=e=>typeof e=="string"?e.replace(" ","T"):e,Zv=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ql{constructor(t,n,r={},s=Xv){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var op;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(op||(op={}));class co{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=co.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=co.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=co.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(b=>b.presence_ref),y=f.map(b=>b.presence_ref),w=d.filter(b=>y.indexOf(b.presence_ref)<0),x=f.filter(b=>h.indexOf(b.presence_ref)<0);w.length>0&&(l[u]=w),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(y=>y.presence_ref),h=d.filter(y=>f.indexOf(y.presence_ref)<0);t[l].unshift(...h)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ip;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ip||(ip={}));var ap;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ap||(ap={}));var sn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(sn||(sn={}));class Wd{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ql(this,Tt.join,this.params,this.timeout),this.rejoinTimer=new Qv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tt.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new co(this),this.broadcastEndpointURL=Zv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(sn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(sn.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(sn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,y=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let x=0;x<y;x++){const b=h[x],{filter:{event:v,schema:g,table:m,filter:_}}=b,j=d&&d[x];if(j&&j.event===v&&j.schema===g&&j.table===m&&j.filter===_)w.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),this.state=De.errored,t==null||t(sn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(sn.SUBSCRIBED);return}}).receive("error",d=>{this.state=De.errored,t==null||t(sn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(sn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=De.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Ql(this,Tt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ql(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Tt;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,x,b;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(x=y.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(y=>y.callback(h,r)):(o=this.bindings[i])===null||o===void 0||o.filter(y=>{var w,x,b,v,g,m;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in y){const _=y.id,j=(w=y.filter)===null||w===void 0?void 0:w.event;return _&&((x=n.ids)===null||x===void 0?void 0:x.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(g=(v=y==null?void 0:y.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===i}).map(y=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:x,table:b,commit_timestamp:v,type:g,errors:m}=w;h=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:v,eventType:g,new:{},old:{},errors:m}),this._getPayloadRecords(w))}y.callback(h,r)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Wd.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tt.close,{},t)}_onError(t){this._on(Tt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=sp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=sp(t.columns,t.old_record)),n}}const lp=()=>{},Yj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Xj{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lp,this.ref=0,this.logger=lp,this.conn=null,this.sendBuffer=[],this.serializer=new Bj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Bo(()=>Promise.resolve().then(()=>ks),void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${pu.websocket}`,this.httpEndpoint=Zv(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Lj),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fj}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case lo.connecting:return cr.Connecting;case lo.open:return cr.Open;case lo.closing:return cr.Closing;default:return cr.Closed}}isConnected(){return this.connectionState()===cr.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Wd(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Uj};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Tt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(zj,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(r)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Yj],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Vd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Qj extends Vd{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gu extends Vd{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Jj=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const ey=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bo(()=>Promise.resolve().then(()=>ks),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Zj=()=>Jj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bo(()=>Promise.resolve().then(()=>ks),void 0)).Response:Response}),vu=e=>{if(Array.isArray(e))return e.map(n=>vu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=vu(r)}),t};var Pr=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Jl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eS=(e,t,n)=>Pr(void 0,void 0,void 0,function*(){const r=yield Zj();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new Qj(Jl(s),e.status||500))}).catch(s=>{t(new gu(Jl(s),s))}):t(new gu(Jl(e),e))}),tS=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Vo(e,t,n,r,s,o){return Pr(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(n,tS(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>eS(c,l,r))})})}function da(e,t,n,r){return Pr(this,void 0,void 0,function*(){return Vo(e,"GET",t,n,r)})}function Pn(e,t,n,r,s){return Pr(this,void 0,void 0,function*(){return Vo(e,"POST",t,r,s,n)})}function nS(e,t,n,r,s){return Pr(this,void 0,void 0,function*(){return Vo(e,"PUT",t,r,s,n)})}function rS(e,t,n,r){return Pr(this,void 0,void 0,function*(){return Vo(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ty(e,t,n,r,s){return Pr(this,void 0,void 0,function*(){return Vo(e,"DELETE",t,r,s,n)})}var Ke=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const sS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oS{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=ey(s)}uploadOrUpdate(t,n,r,s){return Ke(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},cp),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Ce(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Ke(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:cp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Ke(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield Pn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Vd("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ke(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Ke(this,void 0,void 0,function*(){try{return{data:{path:(yield Pn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Pn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Ke(this,void 0,void 0,function*(){try{const s=yield Pn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}download(t,n){return Ke(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield da(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ce(l))return{data:null,error:l};throw l}})}info(t){return Ke(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield da(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:vu(r),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}exists(t){return Ke(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield rS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ce(r)&&r instanceof gu){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return Ke(this,void 0,void 0,function*(){try{return{data:yield ty(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},sS),n),{prefix:t||""});return{data:yield Pn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const iS="2.7.1",aS={"X-Client-Info":`storage-js/${iS}`};var Ar=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class lS{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},aS),n),this.fetch=ey(r)}listBuckets(){return Ar(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ce(t))return{data:null,error:t};throw t}})}getBucket(t){return Ar(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ar(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ar(this,void 0,void 0,function*(){try{return{data:yield nS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ar(this,void 0,void 0,function*(){try{return{data:yield Pn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ar(this,void 0,void 0,function*(){try{return{data:yield ty(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}}class cS extends lS{constructor(t,n={},r){super(t,n,r)}from(t){return new oS(this.url,this.headers,t,this.fetch)}}const uS="2.52.0";let Xs="";typeof Deno<"u"?Xs="deno":typeof document<"u"?Xs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xs="react-native":Xs="node";const dS={"X-Client-Info":`supabase-js-${Xs}/${uS}`},fS={headers:dS},hS={schema:"public"},pS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mS={};var gS=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const vS=e=>{let t;return e?t=e:typeof fetch>"u"?t=Uv:t=fetch,(...n)=>t(...n)},yS=()=>typeof Headers>"u"?Fv:Headers,xS=(e,t,n)=>{const r=vS(n),s=yS();return(o,i)=>gS(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var wS=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function bS(e){return e.endsWith("/")?e:e+"/"}function _S(e,t){var n,r;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>wS(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const ny="2.71.1",Fr=30*1e3,yu=3,Zl=yu*Fr,jS="http://localhost:9999",SS="supabase.auth.token",kS={"X-Client-Info":`gotrue-js/${ny}`},xu="X-Supabase-Api-Version",ry={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},NS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CS=10*60*1e3;class Hd extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function G(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ES extends Hd{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function PS(e){return G(e)&&e.name==="AuthApiError"}class sy extends Hd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Jn extends Hd{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class kn extends Jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TS(e){return G(e)&&e.name==="AuthSessionMissingError"}class mi extends Jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gi extends Jn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vi extends Jn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RS(e){return G(e)&&e.name==="AuthImplicitGrantRedirectError"}class up extends Jn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wu extends Jn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ec(e){return G(e)&&e.name==="AuthRetryableFetchError"}class dp extends Jn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class bu extends Jn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fp=` 	
\r=`.split(""),AS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fp.length;t+=1)e[fp[t].charCodeAt(0)]=-2;for(let t=0;t<fa.length;t+=1)e[fa[t].charCodeAt(0)]=t;return e})();function hp(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fa[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(fa[r]),t.queuedBits-=6}}function oy(e,t,n){const r=AS[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pp(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{OS(i,r,n)};for(let i=0;i<e.length;i+=1)oy(e.charCodeAt(i),s,o);return t.join("")}function IS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function MS(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}IS(r,t)}}function OS(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function DS(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)oy(e.charCodeAt(s),n,r);return new Uint8Array(t)}function LS(e){const t=[];return MS(e,n=>t.push(n)),new Uint8Array(t)}function $S(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>hp(s,n,r)),hp(null,n,r),t.join("")}function US(e){return Math.round(Date.now()/1e3)+e}function FS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Nt=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},iy=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function zS(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const ay=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Bo(()=>Promise.resolve().then(()=>ks),void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},BS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},rr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},_n=async(e,t)=>{await e.removeItem(t)};class el{constructor(){this.promise=new el.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}el.promiseConstructor=Promise;function tc(e){const t=e.split(".");if(t.length!==3)throw new bu("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!NS.test(t[r]))throw new bu("JWT not in base64url format");return{header:JSON.parse(pp(t[0])),payload:JSON.parse(pp(t[1])),signature:DS(t[2]),raw:{header:t[0],payload:t[1]}}}async function WS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VS(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function HS(e){return("0"+e.toString(16)).substr(-2)}function qS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,HS).join("")}async function GS(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function KS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await GS(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ir(e,t,n=!1){const r=qS();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await zr(e,`${t}-code-verifier`,s);const o=await KS(r);return[o,r===o?"plain":"s256"]}const YS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XS(e){const t=e.headers.get(xu);if(!t||!t.match(YS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function QS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function JS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mr(e){if(!ZS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function nc(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mp(e){return JSON.parse(JSON.stringify(e))}var ek=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ir=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tk=[502,503,504];async function gp(e){var t;if(!BS(e))throw new wu(ir(e),0);if(tk.includes(e.status))throw new wu(ir(e),e.status);let n;try{n=await e.json()}catch(o){throw new sy(ir(o),o)}let r;const s=XS(e);if(s&&s.getTime()>=ry["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new dp(ir(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new kn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new dp(ir(n),e.status,n.weak_password.reasons);throw new ES(ir(n),e.status||500,r)}const nk=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Y(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[xu]||(o[xu]=ry["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await rk(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function rk(e,t,n,r,s,o){const i=nk(t,r,s,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new wu(ir(c),0)}if(l.ok||await gp(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await gp(c)}}function nn(e){var t;let n=null;ak(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=US(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function vp(e){const t=nn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function An(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function sk(e){return{data:e,error:null}}function ok(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=ek(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function ik(e){return e}function ak(e){return e.access_token&&e.refresh_token&&e.expires_in}const rc=["global","local","others"];var lk=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class ck{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=ay(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=rc[0]){if(rc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rc.join(", ")}`);try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:An})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=lk(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ok,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(G(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:An})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:ik});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(G(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Mr(t);try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:An})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Mr(t);try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:An})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Mr(t);try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:An})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Mr(t.userId);try{const{data:n,error:r}=await Y(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Mr(t.userId),Mr(t.id);try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}}function yp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function uk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Or={debug:!!(globalThis&&iy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ly extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dk extends ly{}async function fk(e,t,n){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Or.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}uk();const hk={url:jS,storageKey:SS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xp(e,t,n){return await n()}const Dr={};class Ro{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ro.nextInstanceID,Ro.nextInstanceID+=1,this.instanceID>0&&Nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},hk),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ck({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ay(s.fetch),this.lock=s.lock||xp,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Nt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=fk:this.lock=xp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:iy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=yp(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Dr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Dr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ny}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=zS(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Nt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),RS(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return G(n)?{error:n}:{error:new sy("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:nn}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(G(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Ir(this.storage,this.storageKey)),o=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:w},xform:nn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:nn})}else throw new gi("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(G(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vp})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:vp})}else throw new gi("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new mi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,l,c,u,d,f,h,y;let w,x;if("message"in t)w=t.message,x=t.signature;else{const{chain:b,wallet:v,statement:g,options:m}=t;let _;if(Nt())if(typeof v=="object")_=v;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const j=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)w=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(w),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=C}}try{const{data:b,error:v}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:$S(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:nn});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new mi}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(G(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await rr(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:nn});if(await _n(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new mi}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(G(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:nn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new mi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ir(this.storage,this.storageKey));const{error:f}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new gi("You must provide either an email or phone number.")}catch(l){if(G(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:nn});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(G(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Ir(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:sk})}catch(o){if(G(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new kn;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(G(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new gi("You must provide either an email or phone number and a type")}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Zl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await rr(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=nc()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:An}):await this._useSession(async n=>{var r,s,o;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kn}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:An})})}catch(n){if(G(n))return TS(n)&&(await this._removeSession(),await _n(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new kn;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ir(this.storage,this.storageKey));const{data:u,error:d}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:An});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new kn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=tc(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(G(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new kn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Nt())throw new vi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new up("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new up("No code detected.");const{data:g,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new vi("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const y=h-d;y*1e3<=Fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:x,error:b}=await this._getUser(o);if(b)throw b;const v={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(G(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(PS(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await _n(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=FS(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ir(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(G(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Nt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(G(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await VS(async s=>(s>0&&await WS(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:nn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&ec(o)&&Date.now()+i-r<Fr})}catch(r){if(this._debug(n,"error",r),G(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Nt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await rr(this.storage,this.storageKey);if(s&&this.userStorage){let i=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await zr(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:nc()}else if(s&&!s.user&&!s.user){const i=await rr(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await _n(this.storage,this.storageKey+"-user"),await zr(this.storage,this.storageKey,s)):s.user=nc()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zl;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Zl}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),ec(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new kn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new el;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new kn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),G(o)){const i={session:null,error:o};return ec(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await zr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=mp(s);await zr(this.storage,this.storageKey,o)}else{const s=mp(n);await zr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await _n(this.storage,this.storageKey),await _n(this.storage,this.storageKey+"-code-verifier"),await _n(this.storage,this.storageKey+"-user"),this.userStorage&&await _n(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fr}ms, refresh threshold is ${yu} ticks`),s<=yu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ly)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Ir(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Y(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:l}=await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(n){if(G(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(G(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=tc(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+CS>s)return r;const{data:o,error:i}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};r=y.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=tc(r);n!=null&&n.allowExpired||QS(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:o,header:s,signature:i},error:null}}const d=JS(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,LS(`${l}.${c}`)))throw new bu("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}}Ro.nextInstanceID=0;const pk=Ro;class mk extends pk{constructor(t){super(t)}}var gk=globalThis&&globalThis.__awaiter||function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class vk{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=bS(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:hS,realtime:mS,auth:Object.assign(Object.assign({},pS),{storageKey:u}),global:fS},f=_S(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=xS(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Oj(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new dj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cS(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return gk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mk({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Xj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yk=(e,t,n)=>new vk(e,t,n),xk="http://127.0.0.1:54321",wk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0",V=yk(xk,wk,{realtime:{params:{eventsPerSecond:10}}}),cy=p.createContext(void 0);function Zn(){const e=p.useContext(cy);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function bk({children:e}){const[t,n]=p.useState(null),[r,s]=p.useState(null),[o,i]=p.useState(!0);p.useEffect(()=>{(async()=>{const{data:{session:y}}=await V.auth.getSession();s(y),n((y==null?void 0:y.user)??null),i(!1)})();const{data:{subscription:h}}=V.auth.onAuthStateChange(async(y,w)=>{s(w),n((w==null?void 0:w.user)??null),i(!1)});return()=>h.unsubscribe()},[]);const d={user:t,session:r,loading:o,signIn:async(f,h)=>{try{const{error:y}=await V.auth.signInWithPassword({email:f,password:h});return{error:y}}catch(y){return{error:y}}},signUp:async(f,h)=>{try{const{error:y}=await V.auth.signUp({email:f,password:h});return{error:y}}catch(y){return{error:y}}},signOut:async()=>{await V.auth.signOut()}};return a.jsx(cy.Provider,{value:d,children:e})}const uy=p.createContext(void 0);function Ho(){const e=p.useContext(uy);if(e===void 0)throw new Error("useProject must be used within a ProjectProvider");return e}function _k({children:e}){const{user:t}=Zn(),[n,r]=p.useState([]),[s,o]=p.useState(null),[i,l]=p.useState(!0),c=async()=>{if(!t){r([]),l(!1);return}try{const{data:w,error:x}=await V.from("projects").select(`
          *,
          project_members!inner(user_id)
        `).eq("project_members.user_id",t.id).order("created_at",{ascending:!1});if(x)throw x;const b=(w==null?void 0:w.reduce((v,g)=>(v.find(_=>_.id===g.id)||v.push({id:g.id,name:g.name,description:g.description,created_at:g.created_at,updated_at:g.updated_at,owner_id:g.owner_id}),v),[]))||[];r(b)}catch(w){console.error("Error fetching projects:",w),r([])}finally{l(!1)}};p.useEffect(()=>{c()},[t]);const y={projects:n,currentProject:s,loading:i,createProject:async(w,x)=>{if(!t)return{error:new Error("User not authenticated")};try{const{data:b,error:v}=await V.from("projects").insert([{name:w,description:x,owner_id:t.id}]).select().single();if(v)throw v;const{error:g}=await V.from("project_members").insert([{project_id:b.id,user_id:t.id,role:"owner"}]);return g&&console.error("Error adding project owner as member:",g),r(m=>[b,...m]),o(b),await c(),{error:null}}catch(b){return console.error("Error creating project:",b),{error:b}}},selectProject:w=>{o(w)},deleteProject:async w=>{if(!t)return{error:new Error("User not authenticated")};try{console.log("Attempting to delete project:",w),console.log("Current user:",t.id);const{data:x,error:b}=await V.from("projects").select("id, owner_id").eq("id",w).single();if(b)return console.error("Error fetching project for deletion:",b),{error:new Error("プロジェクトが見つかりません")};if(!x)return{error:new Error("プロジェクトが見つかりません")};if(x.owner_id!==t.id)return{error:new Error("プロジェクトを削除する権限がありません")};console.log("Project found, owner confirmed. Proceeding with deletion...");const{error:v}=await V.from("project_members").delete().eq("project_id",w);v&&console.warn("Error deleting project members:",v);const{error:g}=await V.from("project_invitations").delete().eq("project_id",w);g&&console.warn("Error deleting project invitations:",g);const{error:m}=await V.from("tasks").delete().eq("project_id",w);m&&console.warn("Error deleting project tasks:",m);const{error:_}=await V.from("deliverables").delete().eq("project_id",w);_&&console.warn("Error deleting project deliverables:",_);const{error:j}=await V.from("phases").delete().eq("project_id",w);j&&console.warn("Error deleting project phases:",j);const{error:C}=await V.from("projects").delete().eq("id",w);return C?(console.error("Error deleting project:",C),{error:new Error("プロジェクトの削除に失敗しました")}):(console.log("Project deleted successfully"),(s==null?void 0:s.id)===w&&o(null),r(k=>k.filter(N=>N.id!==w)),{error:null})}catch(x){return console.error("Error deleting project:",x),{error:x}}},refreshProjects:async()=>{await c()}};return a.jsx(uy.Provider,{value:y,children:e})}const dy=p.createContext(void 0);function jk(){const e=p.useContext(dy);if(e===void 0)throw new Error("useProjectData must be used within a ProjectDataProvider");return e}function Sk({children:e}){const{currentProject:t}=Ho(),[n,r]=p.useState([]),[s,o]=p.useState([]),[i,l]=p.useState([]),[c,u]=p.useState(!1),d=async()=>{if(!t){r([]),o([]),l([]);return}console.log("MainApp - currentProject:",t),console.log("Fetching project data for project:",t.id),u(!0);try{let{data:m,error:_}=await V.from("phases").select("*").eq("project_id",t.id).order("order_index",{ascending:!0});if(_)throw _;if(console.log("MainApp - phases:",m),r(m||[]),!m||m.length===0){console.log("No phases found, creating initial phases...");const{error:O}=await y(t.id);if(O)console.error("Error creating initial phases:",O);else{const{data:P,error:F}=await V.from("phases").select("*").eq("project_id",t.id).order("order_index",{ascending:!0});if(F)throw F;console.log("Fetched new phases:",P),m=P||[],r(m)}}const{data:j,error:C}=await V.from("tasks").select("*").in("phase_id",(m==null?void 0:m.map(O=>O.id))||[]).order("order_index",{ascending:!0});if(C)throw C;console.log("MainApp - tasks:",j);const N=(j||[]).map(O=>({...O,completed:O.status==="completed",priority:O.priority||"medium"})).reduce((O,P)=>(O.find(D=>D.id===P.id)?console.log("Duplicate task found and removed:",P.title,P.id):O.push(P),O),[]);N.sort((O,P)=>O.order_index-P.order_index),console.log("MainApp - unique tasks:",N),console.log("MainApp - tasks count:",(j==null?void 0:j.length)||0,"-> unique:",N.length),o(N);const{data:S,error:E}=await V.from("deliverables").select("*").in("phase_id",(m==null?void 0:m.map(O=>O.id))||[]).order("order_index",{ascending:!0});if(E)throw E;console.log("MainApp - deliverables:",S);const I=(S||[]).map(O=>({...O,title:O.name,status:O.status==="pending"?"not-started":O.status})).reduce((O,P)=>(O.find(D=>D.id===P.id)?console.log("Duplicate deliverable found and removed:",P.name,P.id):O.push(P),O),[]);I.sort((O,P)=>O.order_index-P.order_index),console.log("MainApp - unique deliverables:",I),console.log("MainApp - deliverables count:",(S==null?void 0:S.length)||0,"-> unique:",I.length),l(I)}catch(m){console.error("Error fetching project data:",m)}finally{u(!1)}};p.useEffect(()=>{if(t){d();const m=V.channel("tasks-changes").on("postgres_changes",{event:"*",schema:"public",table:"tasks",filter:`phase_id=in.(${n.map(j=>j.id).join(",")})`},j=>{console.log("Tasks realtime update:",j),(j.eventType==="UPDATE"||j.eventType==="INSERT"||j.eventType==="DELETE")&&d()}).subscribe(),_=V.channel("deliverables-changes").on("postgres_changes",{event:"*",schema:"public",table:"deliverables",filter:`phase_id=in.(${n.map(j=>j.id).join(",")})`},j=>{console.log("Deliverables realtime update:",j),(j.eventType==="UPDATE"||j.eventType==="INSERT"||j.eventType==="DELETE")&&d()}).subscribe();return()=>{V.removeChannel(m),V.removeChannel(_)}}else r([]),o([]),l([])},[t,n.length]);const f=async(m,_)=>{try{console.log("Updating task:",m,"with updates:",_);const{error:j}=await V.from("tasks").update(_).eq("id",m);if(j)throw j;return console.log("Task updated successfully"),o(C=>C.map(N=>N.id===m?{...N,..._}:N).sort((N,S)=>N.order_index-S.order_index)),{error:null}}catch(j){return console.error("Error updating task:",j),{error:j}}},h=async(m,_)=>{try{const{error:j}=await V.from("deliverables").update(_).eq("id",m);if(j)throw j;return l(C=>C.map(N=>N.id===m?{...N,..._}:N).sort((N,S)=>N.order_index-S.order_index)),{error:null}}catch(j){return console.error("Error updating deliverable:",j),{error:j}}},y=async m=>{try{const _=[{project_id:m,name:"要件定義",description:"「何を作るのか」を明確にし、システムに求められる機能や非機能要件を具体化する",order_index:1},{project_id:m,name:"基本設計",description:"要件定義で定義された内容を、システムとしてどう実現するかを具体化する",order_index:2},{project_id:m,name:"外部設計",description:"基本設計の内容を、ユーザーにとって使いやすい形に落とし込む（主にUI/UX）",order_index:3},{project_id:m,name:"開発準備",description:"開発をスムーズに開始するための最終準備",order_index:4}],{data:j,error:C}=await V.from("phases").insert(_).select();if(C)throw C;console.log("Created initial phases:",j);for(const k of j)await w(k);return{error:null}}catch(_){return console.error("Error creating initial phases:",_),{error:_}}},w=async m=>{const _=x(m.name),j=b(m.name);if(_.length>0){const C=_.map((N,S)=>({...N,phase_id:m.id,order_index:S+1})),{error:k}=await V.from("tasks").insert(C);k&&console.error("Error creating tasks for phase:",m.name,k)}if(j.length>0){const C=j.map((N,S)=>({...N,phase_id:m.id,order_index:S+1})),{error:k}=await V.from("deliverables").insert(C);k&&console.error("Error creating deliverables for phase:",m.name,k)}},x=m=>{switch(m){case"要件定義":return[{title:"プロジェクトの目的と目標の明確化",description:"システム開発の目的、ターゲット、期待効果、ビジネスゴールを明確にする",status:"todo",priority:"high"},{title:"現状業務の分析と課題特定",description:"現在の業務プロセスを分析し、課題や改善点を特定する",status:"todo",priority:"high"},{title:"ユーザーヒアリングと要求収集",description:"ステークホルダーからのヒアリングを通じて要求を収集・整理する",status:"todo",priority:"high"},{title:"機能要件の洗い出しと詳細化",description:"システムが備えるべき機能を具体的に定義し、詳細化する",status:"todo",priority:"high"},{title:"非機能要件の定義",description:"性能、セキュリティ、可用性、保守性などの非機能要件を定義する",status:"todo",priority:"medium"},{title:"要件の優先順位付け",description:"MoSCoW法などを用いて要件の優先順位を決定する",status:"todo",priority:"medium"}];case"基本設計":return[{title:"システム全体構成設計",description:"アーキテクチャ設計を行い、システムの基盤を設計する",status:"todo",priority:"high"},{title:"データベース論理・物理設計",description:"ER図の作成と正規化、インデックス設計を実施する",status:"todo",priority:"high"},{title:"機能概要設計",description:"各機能の入力、処理、出力の概要を設計する",status:"todo",priority:"medium"},{title:"外部インターフェース設計",description:"他システムとの連携仕様を設計する",status:"todo",priority:"medium"},{title:"画面遷移設計",description:"画面間の遷移フローを設計する",status:"todo",priority:"medium"},{title:"非機能要件の詳細化",description:"性能、セキュリティ、可用性などの要件を詳細化する",status:"todo",priority:"high"}];case"外部設計":return[{title:"ユーザーインターフェース設計",description:"画面レイアウト、操作フローを設計する",status:"todo",priority:"high"},{title:"ユーザーエクスペリエンス設計",description:"ユーザー体験の最適化を図る",status:"todo",priority:"high"},{title:"入力・出力情報の詳細設計",description:"データの入出力仕様を詳細に設計する",status:"todo",priority:"medium"},{title:"エラーハンドリングの検討",description:"エラー処理とユーザーへの通知方法を設計する",status:"todo",priority:"medium"},{title:"帳票設計",description:"各種レポートの設計を行う",status:"todo",priority:"low"},{title:"テスト計画の詳細作成",description:"単体テスト、結合テスト、総合テストの範囲を詳細化する",status:"todo",priority:"medium"}];case"開発準備":return[{title:"開発環境の構築",description:"開発に必要な環境をセットアップする",status:"todo",priority:"high"},{title:"開発技術の最終決定",description:"開発言語、フレームワーク、ライブラリの最終決定とセットアップ",status:"todo",priority:"high"},{title:"バージョン管理システムの導入",description:"Git等のバージョン管理システム導入とルール策定",status:"todo",priority:"high"},{title:"コーディング規約の策定",description:"開発チーム内のコーディング規約を策定する",status:"todo",priority:"medium"},{title:"開発スケジュールの詳細化",description:"より詳細な開発スケジュールを作成する",status:"todo",priority:"medium"},{title:"課題管理・進捗管理ツールの準備",description:"プロジェクト管理ツールのセットアップ",status:"todo",priority:"medium"}];default:return[]}},b=m=>{switch(m){case"要件定義":return[{name:"企画書",description:"システム開発の目的、ターゲット、期待効果、ビジネスゴールなどをまとめた文書",type:"document",status:"pending"},{name:"要件定義書",description:"システムが備えるべき機能（機能要件）と非機能要件を詳細に記述した、すべての開発工程の基礎となる文書",type:"document",status:"pending"},{name:"業務フロー図（As-Is/To-Be）",description:"現状の業務とシステム導入後の業務の流れを図式化したもの",type:"document",status:"pending"}];case"基本設計":return[{name:"基本設計書（外部設計書）",description:"システムの全体像を記述した文書（システム構成図、データベース設計書、画面遷移図、機能一覧、他システム連携概要、非機能要件詳細を含む）",type:"document",status:"pending"},{name:"テスト計画書（概要）",description:"テストの全体方針、範囲、フェーズなどを記述",type:"document",status:"pending"}];case"外部設計":return[{name:"画面設計書",description:"各画面のレイアウト、操作フロー、UI仕様を記述した文書",type:"document",status:"pending"},{name:"ワイヤーフレーム・プロトタイプ",description:"画面のワイヤーフレームとプロトタイプ",type:"design",status:"pending"},{name:"入出力設計書",description:"データの入出力仕様を詳細に記述した文書",type:"document",status:"pending"}];case"開発準備":return[{name:"開発環境構築手順書",description:"開発環境のセットアップ方法を記述",type:"document",status:"pending"},{name:"コーディング規約",description:"開発チーム内で統一されたコード記述ルール",type:"document",status:"pending"},{name:"開発スケジュール詳細",description:"各タスクの期間、担当、依存関係などを具体化したスケジュール",type:"document",status:"pending"}];default:return[]}},g={phases:n,tasks:s,deliverables:i,loading:c,refreshData:async()=>{await d()},createInitialPhases:y,updateTask:f,updateDeliverable:h};return a.jsx(dy.Provider,{value:g,children:e})}const kk="re_KCXrH7wa_Ey3SspGxAs1uV376hPChzvcn",Nk="onboarding@resend.dev",Ck=!0,fy=async e=>{try{const{data:t,error:n}=await V.functions.invoke("send-email",{body:{email:e.email,token:e.token,role:e.role,projectName:e.projectName,inviterName:e.inviterName}});if(n)throw console.error("Supabase Edge Functions Error:",n),new Error(`メール送信に失敗しました: ${n.message}`);if(!t.success)throw new Error(t.error||"メール送信に失敗しました");return console.log("メール送信成功:",e.email),{error:null}}catch(t){return console.error("Error sending invitation email:",t),{error:t}}},Ek=async e=>await fy({email:e,token:"test-token-123",role:"member",projectName:"テストプロジェクト",inviterName:"テストユーザー"}),Pk=()=>({hasApiKey:!!kk,fromEmail:Nk,enableSending:Ck,isDev:!1}),hy=p.createContext(void 0);function py(){const e=p.useContext(hy);if(e===void 0)throw new Error("useProjectMembers must be used within a ProjectMembersProvider");return e}function Tk({children:e}){const{user:t}=Zn(),[n,r]=p.useState([]),[s,o]=p.useState([]),[i,l]=p.useState(!1),c=p.useCallback(async x=>{if(!(!t||!x)){l(!0);try{const{data:b,error:v}=await V.from("project_members").select("id, project_id, user_id, role").eq("project_id",x).order("id",{ascending:!0});if(v)throw console.error("Error fetching project members:",v),v;const g=(b||[]).filter(_=>_).map(_=>_.user_id===(t==null?void 0:t.id)&&t?{..._,user:{id:t.id,email:t.email||"Unknown",user_metadata:t.user_metadata||{}}}:_.user_id?{..._,user:{id:_.user_id,email:`user-${_.user_id.slice(0,8)}`,user_metadata:{}}}:{..._,user:{id:"unknown",email:"プロジェクトオーナー",user_metadata:{}}});let m=[];try{const{data:_,error:j}=await V.from("project_invitations").select("id, project_id, email, token, role, scopes, expires_at, created_at, updated_at").eq("project_id",x).gt("expires_at",new Date().toISOString()).order("id",{ascending:!1}).limit(10);j?(console.error("Error fetching invitations:",j),m=[]):m=_||[]}catch(_){console.error("Error fetching invitations (caught):",_),m=[]}r(g),o(m||[])}catch(b){console.error("Error in fetchMembers:",b),r([]),o([])}finally{l(!1)}}},[t]),u=p.useCallback(async(x,b,v,g)=>{var m;if(!t)return{error:new Error("User not authenticated")};try{const{data:_}=await V.from("project_members").select("id").eq("project_id",x).eq("user_id",t.id).single();if(!_)return{error:new Error("プロジェクトへのアクセス権限がありません")};const{data:j,error:C}=await V.from("projects").select("name").eq("id",x).single();if(C)return console.error("Error fetching project name:",C),{error:new Error("プロジェクト情報の取得に失敗しました")};const k=crypto.randomUUID(),N=new Date;N.setDate(N.getDate()+7);const{error:S}=await V.from("project_invitations").insert([{project_id:x,email:b,token:k,role:v,scopes:g||[],expires_at:N.toISOString()}]);if(S)throw S;const E=await fy({email:b,token:k,role:v,projectName:j.name,inviterName:((m=t.user_metadata)==null?void 0:m.name)||t.email});return E.error?(console.error("Error sending invitation email:",E.error),{error:new Error("招待は作成されましたが、メール送信に失敗しました")}):(console.log("招待メールを送信しました:",{email:b,token:k,role:v,scopes:g}),{error:null})}catch(_){return console.error("Error inviting member:",_),{error:_}}},[t]),d=p.useCallback(async(x,b,v)=>{if(!t)return{error:new Error("User not authenticated")};try{const{data:g}=await V.from("project_members").select("role").eq("project_id",x).eq("user_id",t.id).single();if(!g||!["owner","admin"].includes(g.role))return{error:new Error("権限がありません")};const{error:m}=await V.from("project_members").update({role:v}).eq("id",b).eq("project_id",x);if(m)throw m;return r(_=>_.map(j=>j.id===b?{...j,role:v}:j)),{error:null}}catch(g){return console.error("Error updating member role:",g),{error:g}}},[t]),f=p.useCallback(async(x,b)=>{if(!t)return{error:new Error("User not authenticated")};try{const{data:v}=await V.from("project_members").select("role").eq("project_id",x).eq("user_id",t.id).single();if(!v||!["owner","admin"].includes(v.role))return{error:new Error("権限がありません")};const{data:g}=await V.from("project_members").select("user_id, role").eq("id",b).single();if((g==null?void 0:g.user_id)===t.id)return{error:new Error("自分自身を削除することはできません")};if((g==null?void 0:g.role)==="owner")return{error:new Error("オーナーを削除することはできません")};const{error:m}=await V.from("project_members").delete().eq("id",b).eq("project_id",x);if(m)throw m;return r(_=>_.filter(j=>j.id!==b)),{error:null}}catch(v){return console.error("Error removing member:",v),{error:v}}},[t]),h=p.useCallback(async x=>{if(!t)return{error:new Error("User not authenticated")};try{const{data:b,error:v}=await V.from("project_invitations").select("*").eq("token",x).single();if(v||!b)return{error:new Error("有効な招待が見つかりません")};const g=new Date,m=new Date(b.expires_at);if(g>m)return{error:new Error("この招待は期限切れです")};const{data:_}=await V.from("project_members").select("id").eq("project_id",b.project_id).eq("user_id",t.id).single();if(_)return{error:new Error("既にプロジェクトのメンバーです")};const{error:j}=await V.from("project_members").insert([{project_id:b.project_id,user_id:t.id,role:b.role,joined_at:new Date().toISOString()}]);if(j)if(console.error("Error inserting member:",j),j.code==="42501"){const{error:k}=await V.rpc("insert_project_member_bypass_rls",{p_project_id:b.project_id,p_user_id:t.id,p_role:b.role});if(k)return{error:new Error("招待の受け入れに失敗しました。管理者に連絡してください。")}}else throw j;const{error:C}=await V.from("project_invitations").delete().eq("token",x);return C&&console.warn("招待の削除に失敗しましたが、メンバー追加は成功しました:",C),{error:null}}catch(b){return console.error("Error accepting invitation:",b),{error:b}}},[t]),y=p.useCallback(async x=>{try{const{error:b}=await V.from("project_invitations").delete().eq("token",x);if(b)throw b;return{error:null}}catch(b){return console.error("Error declining invitation:",b),{error:b}}},[]),w={members:n,invitations:s,loading:i,fetchMembers:c,inviteMember:u,updateMemberRole:d,removeMember:f,acceptInvitation:h,declineInvitation:y};return a.jsx(hy.Provider,{value:w,children:e})}function wp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tl(...e){return t=>{let n=!1;const r=e.map(s=>{const o=wp(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():wp(e[s],null)}}}}function ne(...e){return p.useCallback(tl(...e),e)}function _r(e){const t=Rk(e),n=p.forwardRef((r,s)=>{const{children:o,...i}=r,l=p.Children.toArray(o),c=l.find(Ik);if(c){const u=c.props.children,d=l.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var my=_r("Slot");function Rk(e){const t=p.forwardRef((n,r)=>{const{children:s,...o}=n;if(p.isValidElement(s)){const i=Ok(s),l=Mk(o,s.props);return s.type!==p.Fragment&&(l.ref=r?tl(r,i):i),p.cloneElement(s,l)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ak=Symbol("radix.slottable");function Ik(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ak}function Mk(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Ok(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function gy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=gy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function vy(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=gy(e))&&(r&&(r+=" "),r+=t);return r}const bp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_p=vy,qd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return _p(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=bp(d)||bp(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...y}=d;return Object.entries(y).every(w=>{let[x,b]=w;return Array.isArray(b)?b.includes({...o,...l}[x]):{...o,...l}[x]===b})?[...u,f,h]:u},[]);return _p(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},Gd="-",Dk=e=>{const t=$k(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(Gd);return l[0]===""&&l.length!==1&&l.shift(),yy(l,t)||Lk(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},yy=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?yy(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Gd);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},jp=/^\[(.+)\]$/,Lk=e=>{if(jp.test(e)){const t=jp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},$k=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Fk(Object.entries(e.classGroups),n).forEach(([o,i])=>{_u(i,r,o,t)}),r},_u=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Sp(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(Uk(s)){_u(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{_u(i,Sp(t,o),n,r)})})},Sp=(e,t)=>{let n=e;return t.split(Gd).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Uk=e=>e.isThemeGetter,Fk=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[n,s]}):e,zk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},xy="!",Bk=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let v=l[b];if(u===0){if(v===s&&(r||l.slice(b,b+o)===t)){c.push(l.slice(d,b)),d=b+o;continue}if(v==="/"){f=b;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),y=h.startsWith(xy),w=y?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:i}):i},Wk=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Vk=e=>({cache:zk(e.cacheSize),parseClassName:Bk(e),...Dk(e)}),Hk=/\s+/,qk=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(Hk);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:y}=n(u);let w=!!y,x=r(w?h.substring(0,y):h);if(!x){if(!w){l=u+(l.length>0?" "+l:l);continue}if(x=r(h),!x){l=u+(l.length>0?" "+l:l);continue}w=!1}const b=Wk(d).join(":"),v=f?b+xy:b,g=v+x;if(o.includes(g))continue;o.push(g);const m=s(x,w);for(let _=0;_<m.length;++_){const j=m[_];o.push(v+j)}l=u+(l.length>0?" "+l:l)}return l};function Gk(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=wy(t))&&(r&&(r+=" "),r+=n);return r}const wy=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=wy(e[r]))&&(n&&(n+=" "),n+=t);return n};function Kk(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=Vk(u),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=qk(c,n);return s(c,d),d}return function(){return o(Gk.apply(null,arguments))}}const de=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},by=/^\[(?:([a-z-]+):)?(.+)\]$/i,Yk=/^\d+\/\d+$/,Xk=new Set(["px","full","screen"]),Qk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tn=e=>is(e)||Xk.has(e)||Yk.test(e),jn=e=>Cs(e,"length",cN),is=e=>!!e&&!Number.isNaN(Number(e)),sc=e=>Cs(e,"number",is),Vs=e=>!!e&&Number.isInteger(Number(e)),nN=e=>e.endsWith("%")&&is(e.slice(0,-1)),K=e=>by.test(e),Sn=e=>Qk.test(e),rN=new Set(["length","size","percentage"]),sN=e=>Cs(e,rN,_y),oN=e=>Cs(e,"position",_y),iN=new Set(["image","url"]),aN=e=>Cs(e,iN,dN),lN=e=>Cs(e,"",uN),Hs=()=>!0,Cs=(e,t,n)=>{const r=by.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},cN=e=>Jk.test(e)&&!Zk.test(e),_y=()=>!1,uN=e=>eN.test(e),dN=e=>tN.test(e),fN=()=>{const e=de("colors"),t=de("spacing"),n=de("blur"),r=de("brightness"),s=de("borderColor"),o=de("borderRadius"),i=de("borderSpacing"),l=de("borderWidth"),c=de("contrast"),u=de("grayscale"),d=de("hueRotate"),f=de("invert"),h=de("gap"),y=de("gradientColorStops"),w=de("gradientColorStopPositions"),x=de("inset"),b=de("margin"),v=de("opacity"),g=de("padding"),m=de("saturate"),_=de("scale"),j=de("sepia"),C=de("skew"),k=de("space"),N=de("translate"),S=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",K,t],I=()=>[K,t],O=()=>["",tn,jn],P=()=>["auto",is,K],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",K],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[is,K];return{cacheSize:500,separator:":",theme:{colors:[Hs],spacing:[tn,jn],blur:["none","",Sn,K],brightness:B(),borderColor:[e],borderRadius:["none","","full",Sn,K],borderSpacing:I(),borderWidth:O(),contrast:B(),grayscale:R(),hueRotate:B(),invert:R(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[nN,jn],inset:M(),margin:M(),opacity:B(),padding:I(),saturate:B(),scale:B(),sepia:R(),skew:B(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",K]}],container:["container"],columns:[{columns:[Sn]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),K]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Vs,K]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",K]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Vs,K]}],"grid-cols":[{"grid-cols":[Hs]}],"col-start-end":[{col:["auto",{span:["full",Vs,K]},K]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Hs]}],"row-start-end":[{row:["auto",{span:[Vs,K]},K]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",K]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",K]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",K,t]}],"min-w":[{"min-w":[K,t,"min","max","fit"]}],"max-w":[{"max-w":[K,t,"none","full","min","max","fit","prose",{screen:[Sn]},Sn]}],h:[{h:[K,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[K,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[K,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[K,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Sn,jn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sc]}],"font-family":[{font:[Hs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",K]}],"line-clamp":[{"line-clamp":["none",is,sc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tn,K]}],"list-image":[{"list-image":["none",K]}],"list-style-type":[{list:["none","disc","decimal",K]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tn,jn]}],"underline-offset":[{"underline-offset":["auto",tn,K]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",K]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",K]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),oN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:D()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[tn,K]}],"outline-w":[{outline:[tn,jn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[tn,jn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Sn,lN]}],"shadow-color":[{shadow:[Hs]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Sn,K]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[m]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",K]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",K]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",K]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Vs,K]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",K]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",K]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",K]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[tn,jn,sc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hN=Kk(fN);function X(...e){return hN(vy(e))}const pN=qd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Z=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?my:"button";return a.jsx(i,{"data-slot":"button",className:X(pN({variant:t,size:n,className:e})),ref:o,...s})});Z.displayName="Button";function We({className:e,type:t,...n}){return a.jsx("input",{type:t,"data-slot":"input",className:X("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var mN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],W=mN.reduce((e,t)=>{const n=_r(`Primitive.${t}`),r=p.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function jy(e,t){e&&_s.flushSync(()=>e.dispatchEvent(t))}var gN="Label",Sy=p.forwardRef((e,t)=>a.jsx(W.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Sy.displayName=gN;var vN=Sy;function At({className:e,...t}){return a.jsx(vN,{"data-slot":"label",className:X("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function $e({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:X("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function Je({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:X("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Ze({className:e,...t}){return a.jsx("h4",{"data-slot":"card-title",className:X("leading-none",e),...t})}function ct({className:e,...t}){return a.jsx("p",{"data-slot":"card-description",className:X("text-muted-foreground",e),...t})}function Ue({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:X("px-6 [&:last-child]:pb-6",e),...t})}const yN=qd("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ha({className:e,variant:t,...n}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:X(yN({variant:t}),e),...n})}function pa({className:e,...t}){return a.jsx("div",{"data-slot":"alert-description",className:X("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}const xN=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState(""),[s,o]=p.useState(""),[i,l]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState(null),{signIn:h,signUp:y}=Zn(),w=async x=>{x.preventDefault(),l(null),f(null),u(!0);try{if(e){const{error:b}=await y(n,s);b?l(b.message):f("確認メールを送信しました。メールを確認してアカウントを有効化してください。")}else{const{error:b}=await h(n,s);b&&l(b.message)}}catch{l("予期しないエラーが発生しました。")}finally{u(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"システム設計アシスタント"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:e?"新しいアカウントを作成":"アカウントにサインイン"})]}),a.jsxs($e,{children:[a.jsxs(Je,{children:[a.jsx(Ze,{children:e?"新規登録":"ログイン"}),a.jsx(ct,{children:e?"新しいアカウントを作成してプロジェクトを開始しましょう":"既存のアカウントでログインしてください"})]}),a.jsxs(Ue,{children:[a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i&&a.jsx(ha,{variant:"destructive",children:a.jsx(pa,{children:i})}),d&&a.jsx(ha,{children:a.jsx(pa,{children:d})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(At,{htmlFor:"email",children:"メールアドレス"}),a.jsx(We,{id:"email",type:"email",value:n,onChange:x=>r(x.target.value),required:!0,placeholder:"your@email.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(At,{htmlFor:"password",children:"パスワード"}),a.jsx(We,{id:"password",type:"password",value:s,onChange:x=>o(x.target.value),required:!0,placeholder:"パスワードを入力"})]}),a.jsx(Z,{type:"submit",className:"w-full",disabled:c,children:c?"処理中...":e?"新規登録":"ログイン"})]}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("button",{type:"button",onClick:()=>{t(!e),l(null),f(null)},className:"text-sm text-blue-600 hover:text-blue-500",children:e?"既にアカウントをお持ちですか？ログイン":"アカウントをお持ちでないですか？新規登録"})})]})]})]})})},kp=({children:e})=>{const{user:t,loading:n}=Zn();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"読み込み中..."})]})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(xN,{})};function U(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function wN(e,t){const n=p.createContext(t),r=o=>{const{children:i,...l}=o,c=p.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=p.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function St(e,t=[]){let n=[];function r(o,i){const l=p.createContext(i),c=n.length;n=[...n,i];const u=f=>{var v;const{scope:h,children:y,...w}=f,x=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,b=p.useMemo(()=>w,Object.values(w));return a.jsx(x.Provider,{value:b,children:y})};u.displayName=o+"Provider";function d(f,h){var x;const y=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,w=p.useContext(y);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,bN(s,...t)]}function bN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Ie=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},_N=Ku[" useId ".trim().toString()]||(()=>{}),jN=0;function xt(e){const[t,n]=p.useState(_N());return Ie(()=>{e||n(r=>r??String(jN++))},[e]),e||(t?`radix-${t}`:"")}var SN=Ku[" useInsertionEffect ".trim().toString()]||Ie;function Yt({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=kN({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=p.useCallback(d=>{var f;if(l){const h=NN(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else o(d)},[l,e,o,i]);return[c,u]}function kN({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),s=p.useRef(n),o=p.useRef(t);return SN(()=>{o.current=t},[t]),p.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function NN(e){return typeof e=="function"}function Xt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function CN(e,t=globalThis==null?void 0:globalThis.document){const n=Xt(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var EN="DismissableLayer",ju="dismissableLayer.update",PN="dismissableLayer.pointerDownOutside",TN="dismissableLayer.focusOutside",Np,ky=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nl=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=p.useContext(ky),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=p.useState({}),w=ne(t,k=>f(k)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(b),g=d?x.indexOf(d):-1,m=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=v,j=IN(k=>{const N=k.target,S=[...u.branches].some(E=>E.contains(N));!_||S||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),C=MN(k=>{const N=k.target;[...u.branches].some(E=>E.contains(N))||(o==null||o(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return CN(k=>{g===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Np=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Cp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Np)}},[d,h,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Cp())},[d,u]),p.useEffect(()=>{const k=()=>y({});return document.addEventListener(ju,k),()=>document.removeEventListener(ju,k)},[]),a.jsx(W.div,{...c,ref:w,style:{pointerEvents:m?_?"auto":"none":void 0,...e.style},onFocusCapture:U(e.onFocusCapture,C.onFocusCapture),onBlurCapture:U(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:U(e.onPointerDownCapture,j.onPointerDownCapture)})});nl.displayName=EN;var RN="DismissableLayerBranch",AN=p.forwardRef((e,t)=>{const n=p.useContext(ky),r=p.useRef(null),s=ne(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(W.div,{...e,ref:s})});AN.displayName=RN;function IN(e,t=globalThis==null?void 0:globalThis.document){const n=Xt(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){Ny(PN,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function MN(e,t=globalThis==null?void 0:globalThis.document){const n=Xt(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&Ny(TN,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Cp(){const e=new CustomEvent(ju);document.dispatchEvent(e)}function Ny(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?jy(s,o):s.dispatchEvent(o)}var oc="focusScope.autoFocusOnMount",ic="focusScope.autoFocusOnUnmount",Ep={bubbles:!1,cancelable:!0},ON="FocusScope",rl=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=p.useState(null),u=Xt(s),d=Xt(o),f=p.useRef(null),h=ne(t,x=>c(x)),y=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(m){if(y.paused||!l)return;const _=m.target;l.contains(_)?f.current=_:Nn(f.current,{select:!0})},b=function(m){if(y.paused||!l)return;const _=m.relatedTarget;_!==null&&(l.contains(_)||Nn(f.current,{select:!0}))},v=function(m){if(document.activeElement===document.body)for(const j of m)j.removedNodes.length>0&&Nn(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),g.disconnect()}}},[r,l,y.paused]),p.useEffect(()=>{if(l){Tp.add(y);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(oc,Ep);l.addEventListener(oc,u),l.dispatchEvent(v),v.defaultPrevented||(DN(zN(Cy(l)),{select:!0}),document.activeElement===x&&Nn(l))}return()=>{l.removeEventListener(oc,u),setTimeout(()=>{const v=new CustomEvent(ic,Ep);l.addEventListener(ic,d),l.dispatchEvent(v),v.defaultPrevented||Nn(x??document.body,{select:!0}),l.removeEventListener(ic,d),Tp.remove(y)},0)}}},[l,u,d,y]);const w=p.useCallback(x=>{if(!n&&!r||y.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(b&&v){const g=x.currentTarget,[m,_]=LN(g);m&&_?!x.shiftKey&&v===_?(x.preventDefault(),n&&Nn(m,{select:!0})):x.shiftKey&&v===m&&(x.preventDefault(),n&&Nn(_,{select:!0})):v===g&&x.preventDefault()}},[n,r,y.paused]);return a.jsx(W.div,{tabIndex:-1,...i,ref:h,onKeyDown:w})});rl.displayName=ON;function DN(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Nn(r,{select:t}),document.activeElement!==n)return}function LN(e){const t=Cy(e),n=Pp(t,e),r=Pp(t.reverse(),e);return[n,r]}function Cy(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Pp(e,t){for(const n of e)if(!$N(n,{upTo:t}))return n}function $N(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function UN(e){return e instanceof HTMLInputElement&&"select"in e}function Nn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&UN(e)&&t&&e.select()}}var Tp=FN();function FN(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Rp(e,t),e.unshift(t)},remove(t){var n;e=Rp(e,t),(n=e[0])==null||n.resume()}}}function Rp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function zN(e){return e.filter(t=>t.tagName!=="A")}var BN="Portal",Kd=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=p.useState(!1);Ie(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?c_.createPortal(a.jsx(W.div,{...r,ref:t}),i):null});Kd.displayName=BN;function WN(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Zt=e=>{const{present:t,children:n}=e,r=VN(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=ne(r.ref,HN(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};Zt.displayName="Presence";function VN(e){const[t,n]=p.useState(),r=p.useRef(null),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[l,c]=WN(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=yi(r.current);o.current=l==="mounted"?u:"none"},[l]),Ie(()=>{const u=r.current,d=s.current;if(d!==e){const h=o.current,y=yi(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ie(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=y=>{const x=yi(r.current).includes(y.animationName);if(y.target===t&&x&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=y=>{y.target===t&&(o.current=yi(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function yi(e){return(e==null?void 0:e.animationName)||"none"}function HN(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ac=0;function Yd(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ap()),document.body.insertAdjacentElement("beforeend",e[1]??Ap()),ac++,()=>{ac===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ac--}},[])}function Ap(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vt=function(){return Vt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Vt.apply(this,arguments)};function Ey(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function qN(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Li="right-scroll-bar-position",$i="width-before-scroll-bar",GN="with-scroll-bars-hidden",KN="--removed-body-scroll-bar-size";function lc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YN(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var XN=typeof window<"u"?p.useLayoutEffect:p.useEffect,Ip=new WeakMap;function QN(e,t){var n=YN(t||null,function(r){return e.forEach(function(s){return lc(s,r)})});return XN(function(){var r=Ip.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||lc(l,null)}),o.forEach(function(l){s.has(l)||lc(l,i)})}Ip.set(n,e)},[e]),n}function JN(e){return e}function ZN(e,t){t===void 0&&(t=JN);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function eC(e){e===void 0&&(e={});var t=ZN(null);return t.options=Vt({async:!0,ssr:!1},e),t}var Py=function(e){var t=e.sideCar,n=Ey(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Vt({},n))};Py.isSideCarExport=!0;function tC(e,t){return e.useMedium(t),Py}var Ty=eC(),cc=function(){},sl=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:cc,onWheelCapture:cc,onTouchMoveCapture:cc}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,y=e.noRelative,w=e.noIsolation,x=e.inert,b=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,m=e.gapMode,_=Ey(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,C=QN([n,t]),k=Vt(Vt({},_),s);return p.createElement(p.Fragment,null,d&&p.createElement(j,{sideCar:Ty,removeScrollBar:u,shards:f,noRelative:y,noIsolation:w,inert:x,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:m}),i?p.cloneElement(p.Children.only(l),Vt(Vt({},k),{ref:C})):p.createElement(g,Vt({},k,{className:c,ref:C}),l))});sl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sl.classNames={fullWidth:$i,zeroRight:Li};var Mp,nC=function(){if(Mp)return Mp;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function rC(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=nC();return t&&e.setAttribute("nonce",t),e}function sC(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function oC(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iC=function(){var e=0,t=null;return{add:function(n){e==0&&(t=rC())&&(sC(t,n),oC(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},aC=function(){var e=iC();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Ry=function(){var e=aC(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},lC={left:0,top:0,right:0,gap:0},uc=function(e){return parseInt(e||"",10)||0},cC=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[uc(n),uc(r),uc(s)]},uC=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lC;var t=cC(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},dC=Ry(),as="data-scroll-locked",fC=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(GN,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(as,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Li,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat($i,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Li," .").concat(Li,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($i," .").concat($i,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(as,`] {
    `).concat(KN,": ").concat(l,`px;
  }
`)},Op=function(){var e=parseInt(document.body.getAttribute(as)||"0",10);return isFinite(e)?e:0},hC=function(){p.useEffect(function(){return document.body.setAttribute(as,(Op()+1).toString()),function(){var e=Op()-1;e<=0?document.body.removeAttribute(as):document.body.setAttribute(as,e.toString())}},[])},pC=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;hC();var o=p.useMemo(function(){return uC(s)},[s]);return p.createElement(dC,{styles:fC(o,!t,s,n?"":"!important")})},Su=!1;if(typeof window<"u")try{var xi=Object.defineProperty({},"passive",{get:function(){return Su=!0,!0}});window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Su=!1}var Lr=Su?{passive:!1}:!1,mC=function(e){return e.tagName==="TEXTAREA"},Ay=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!mC(e)&&n[t]==="visible")},gC=function(e){return Ay(e,"overflowY")},vC=function(e){return Ay(e,"overflowX")},Dp=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Iy(e,r);if(s){var o=My(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},yC=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},xC=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Iy=function(e,t){return e==="v"?gC(t):vC(t)},My=function(e,t){return e==="v"?yC(t):xC(t)},wC=function(e,t){return e==="h"&&t==="rtl"?-1:1},bC=function(e,t,n,r,s){var o=wC(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{if(!l)break;var y=My(e,l),w=y[0],x=y[1],b=y[2],v=x-b-o*w;(w||v)&&Iy(e,l)&&(f+=v,h+=w);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(s&&Math.abs(f)<1||!s&&i>f)||!d&&(s&&Math.abs(h)<1||!s&&-i>h))&&(u=!0),u},wi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Lp=function(e){return[e.deltaX,e.deltaY]},$p=function(e){return e&&"current"in e?e.current:e},_C=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jC=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},SC=0,$r=[];function kC(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(SC++)[0],o=p.useState(Ry)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=qN([e.lockRef.current],(e.shards||[]).map($p),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var v=wi(x),g=n.current,m="deltaX"in x?x.deltaX:g[0]-v[0],_="deltaY"in x?x.deltaY:g[1]-v[1],j,C=x.target,k=Math.abs(m)>Math.abs(_)?"h":"v";if("touches"in x&&k==="h"&&C.type==="range")return!1;var N=Dp(k,C);if(!N)return!0;if(N?j=k:(j=k==="v"?"h":"v",N=Dp(k,C)),!N)return!1;if(!r.current&&"changedTouches"in x&&(m||_)&&(r.current=j),!j)return!0;var S=r.current||j;return bC(S,b,x,S==="h"?m:_,!0)},[]),c=p.useCallback(function(x){var b=x;if(!(!$r.length||$r[$r.length-1]!==o)){var v="deltaY"in b?Lp(b):wi(b),g=t.current.filter(function(j){return j.name===b.type&&(j.target===b.target||b.target===j.shadowParent)&&_C(j.delta,v)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var m=(i.current.shards||[]).map($p).filter(Boolean).filter(function(j){return j.contains(b.target)}),_=m.length>0?l(b,m[0]):!i.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(x,b,v,g){var m={name:x,delta:b,target:v,should:g,shadowParent:NC(v)};t.current.push(m),setTimeout(function(){t.current=t.current.filter(function(_){return _!==m})},1)},[]),d=p.useCallback(function(x){n.current=wi(x),r.current=void 0},[]),f=p.useCallback(function(x){u(x.type,Lp(x),x.target,l(x,e.lockRef.current))},[]),h=p.useCallback(function(x){u(x.type,wi(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return $r.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Lr),document.addEventListener("touchmove",c,Lr),document.addEventListener("touchstart",d,Lr),function(){$r=$r.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,Lr),document.removeEventListener("touchmove",c,Lr),document.removeEventListener("touchstart",d,Lr)}},[]);var y=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(o,{styles:jC(s)}):null,y?p.createElement(pC,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function NC(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const CC=tC(Ty,kC);var Oy=p.forwardRef(function(e,t){return p.createElement(sl,Vt({},e,{ref:t,sideCar:CC}))});Oy.classNames=sl.classNames;const Xd=Oy;var EC=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ur=new WeakMap,bi=new WeakMap,_i={},dc=0,Dy=function(e){return e&&(e.host||Dy(e.parentNode))},PC=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Dy(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},TC=function(e,t,n,r){var s=PC(t,Array.isArray(e)?e:[e]);_i[n]||(_i[n]=new WeakMap);var o=_i[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var y=h.getAttribute(r),w=y!==null&&y!=="false",x=(Ur.get(h)||0)+1,b=(o.get(h)||0)+1;Ur.set(h,x),o.set(h,b),i.push(h),x===1&&w&&bi.set(h,!0),b===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),dc++,function(){i.forEach(function(f){var h=Ur.get(f)-1,y=o.get(f)-1;Ur.set(f,h),o.set(f,y),h||(bi.has(f)||f.removeAttribute(r),bi.delete(f)),y||f.removeAttribute(n)}),dc--,dc||(Ur=new WeakMap,Ur=new WeakMap,bi=new WeakMap,_i={})}},Qd=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=t||EC(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),TC(r,s,n,"aria-hidden")):function(){return null}},ol="Dialog",[Ly,pI]=St(ol),[RC,$t]=Ly(ol),$y=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=p.useRef(null),c=p.useRef(null),[u,d]=Yt({prop:r,defaultProp:s??!1,onChange:o,caller:ol});return a.jsx(RC,{scope:t,triggerRef:l,contentRef:c,contentId:xt(),titleId:xt(),descriptionId:xt(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};$y.displayName=ol;var Uy="DialogTrigger",Fy=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$t(Uy,n),o=ne(t,s.triggerRef);return a.jsx(W.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ef(s.open),...r,ref:o,onClick:U(e.onClick,s.onOpenToggle)})});Fy.displayName=Uy;var Jd="DialogPortal",[AC,zy]=Ly(Jd,{forceMount:void 0}),By=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=$t(Jd,t);return a.jsx(AC,{scope:t,forceMount:n,children:p.Children.map(r,i=>a.jsx(Zt,{present:n||o.open,children:a.jsx(Kd,{asChild:!0,container:s,children:i})}))})};By.displayName=Jd;var ma="DialogOverlay",Wy=p.forwardRef((e,t)=>{const n=zy(ma,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=$t(ma,e.__scopeDialog);return o.modal?a.jsx(Zt,{present:r||o.open,children:a.jsx(MC,{...s,ref:t})}):null});Wy.displayName=ma;var IC=_r("DialogOverlay.RemoveScroll"),MC=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$t(ma,n);return a.jsx(Xd,{as:IC,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(W.div,{"data-state":ef(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),jr="DialogContent",Vy=p.forwardRef((e,t)=>{const n=zy(jr,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=$t(jr,e.__scopeDialog);return a.jsx(Zt,{present:r||o.open,children:o.modal?a.jsx(OC,{...s,ref:t}):a.jsx(DC,{...s,ref:t})})});Vy.displayName=jr;var OC=p.forwardRef((e,t)=>{const n=$t(jr,e.__scopeDialog),r=p.useRef(null),s=ne(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return Qd(o)},[]),a.jsx(Hy,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:U(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:U(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:U(e.onFocusOutside,o=>o.preventDefault())})}),DC=p.forwardRef((e,t)=>{const n=$t(jr,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(Hy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Hy=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=$t(jr,n),c=p.useRef(null),u=ne(t,c);return Yd(),a.jsxs(a.Fragment,{children:[a.jsx(rl,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(nl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ef(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(LC,{titleId:l.titleId}),a.jsx(UC,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Zd="DialogTitle",qy=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$t(Zd,n);return a.jsx(W.h2,{id:s.titleId,...r,ref:t})});qy.displayName=Zd;var Gy="DialogDescription",Ky=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$t(Gy,n);return a.jsx(W.p,{id:s.descriptionId,...r,ref:t})});Ky.displayName=Gy;var Yy="DialogClose",Xy=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=$t(Yy,n);return a.jsx(W.button,{type:"button",...r,ref:t,onClick:U(e.onClick,()=>s.onOpenChange(!1))})});Xy.displayName=Yy;function ef(e){return e?"open":"closed"}var Qy="DialogTitleWarning",[mI,Jy]=wN(Qy,{contentName:jr,titleName:Zd,docsSlug:"dialog"}),LC=({titleId:e})=>{const t=Jy(Qy),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},$C="DialogDescriptionWarning",UC=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Jy($C).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},FC=$y,zC=Fy,BC=By,WC=Wy,VC=Vy,HC=qy,qC=Ky,Zy=Xy;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KC=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Up=e=>{const t=KC(e);return t.charAt(0).toUpperCase()+t.slice(1)},e0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...l},c)=>p.createElement("svg",{ref:c,...YC,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:e0("lucide",s),...l},[...i.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=(e,t)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(XC,{ref:o,iconNode:t,className:e0(`lucide-${GC(Up(e))}`,`lucide-${e}`,r),...s}));return n.displayName=Up(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],JC=H("bell",QC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],e2=H("book-open",ZC);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tf=H("check",t2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nf=H("chevron-down",n2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fp=H("chevron-left",r2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zp=H("chevron-right",s2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],i2=H("chevron-up",o2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Be=H("circle-check-big",a2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ku=H("circle-help",l2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uo=H("circle-x",c2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],d2=H("clock",u2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],rf=H("code",f2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],p2=H("crown",h2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],sf=H("download",m2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],v2=H("external-link",g2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],x2=H("file-check",y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],b2=H("file-code",w2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Qt=H("file-text",_2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]],S2=H("files",j2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],t0=H("layers",k2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ga=H("layout-dashboard",N2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],E2=H("lightbulb",C2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],T2=H("loader-circle",P2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],A2=H("log-out",R2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],M2=H("mail",I2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],n0=H("message-circle",O2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],r0=H("palette",D2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],of=H("panels-top-left",L2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ao=H("plus",$2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],F2=H("refresh-cw",U2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],s0=H("search",z2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],af=H("settings",B2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],o0=H("shield",W2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],H2=H("square-check-big",V2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],G2=H("square-pen",q2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],il=H("target",K2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],lf=H("trash-2",Y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Q2=H("trending-up",X2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],i0=H("triangle-alert",J2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],eE=H("upload",Z2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],nE=H("user-plus",tE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],va=H("user",rE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],cf=H("users",sE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],iE=H("workflow",oE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],a0=H("x",aE),pn=p.forwardRef((e,t)=>a.jsx(FC,{"data-slot":"dialog",ref:t,...e}));pn.displayName="Dialog";const ya=p.forwardRef((e,t)=>a.jsx(zC,{"data-slot":"dialog-trigger",ref:t,...e}));ya.displayName="DialogTrigger";const l0=p.forwardRef((e,t)=>a.jsx(BC,{"data-slot":"dialog-portal",ref:t,...e}));l0.displayName="DialogPortal";const lE=p.forwardRef((e,t)=>a.jsx(Zy,{"data-slot":"dialog-close",ref:t,...e}));lE.displayName="DialogClose";const c0=p.forwardRef(({className:e,...t},n)=>a.jsx(WC,{"data-slot":"dialog-overlay",ref:n,className:X("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));c0.displayName="DialogOverlay";const mn=p.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(l0,{"data-slot":"dialog-portal",children:[a.jsx(c0,{}),a.jsxs(VC,{"data-slot":"dialog-content",ref:r,className:X("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,a.jsxs(Zy,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(a0,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));mn.displayName="DialogContent";const gn=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{"data-slot":"dialog-header",ref:n,className:X("flex flex-col gap-2 text-center sm:text-left",e),...t}));gn.displayName="DialogHeader";const uf=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{"data-slot":"dialog-footer",ref:n,className:X("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t}));uf.displayName="DialogFooter";const vn=p.forwardRef(({className:e,...t},n)=>a.jsx(HC,{"data-slot":"dialog-title",ref:n,className:X("text-lg leading-none font-semibold",e),...t}));vn.displayName="DialogTitle";const vs=p.forwardRef(({className:e,...t},n)=>a.jsx(qC,{"data-slot":"dialog-description",ref:n,className:X("text-muted-foreground text-sm",e),...t}));vs.displayName="DialogDescription";const cE=({children:e})=>{const{projects:t,currentProject:n,loading:r,createProject:s,selectProject:o}=Ho(),{signOut:i,user:l}=Zn(),[c,u]=p.useState(!1),[d,f]=p.useState(""),[h,y]=p.useState(""),[w,x]=p.useState(!1),[b,v]=p.useState(null),g=async m=>{if(m.preventDefault(),!!d.trim()){x(!0),v(null);try{const{error:_}=await s(d.trim(),h.trim());_?v(_.message):(u(!1),f(""),y(""))}catch{v("プロジェクトの作成に失敗しました。")}finally{x(!1)}}};return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"プロジェクトを読み込み中..."})]})}):n?a.jsx(a.Fragment,{children:e}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"プロジェクトを選択"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"作業するプロジェクトを選択するか、新しいプロジェクトを作成してください"})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsxs("p",{className:"text-sm text-blue-800",children:["デバッグ情報: プロジェクト数: ",t.length]}),t.map((m,_)=>a.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[_+1,". ",m.name," (ID: ",m.id.slice(0,8),"...)"]},m.id))]}),a.jsxs($e,{children:[a.jsxs(Je,{children:[a.jsx(Ze,{children:"プロジェクト一覧"}),a.jsx(ct,{children:"あなたのプロジェクトを管理します"})]}),a.jsxs(Ue,{className:"space-y-4",children:[t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-500 mb-4",children:"プロジェクトがありません"}),a.jsxs(pn,{open:c,onOpenChange:u,children:[a.jsx(ya,{asChild:!0,children:a.jsx(Z,{children:"新しいプロジェクトを作成"})}),a.jsxs(mn,{children:[a.jsxs(gn,{children:[a.jsx(vn,{children:"新しいプロジェクトを作成"}),a.jsx(vs,{children:"プロジェクトの基本情報を入力してください"})]}),a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[b&&a.jsx(ha,{variant:"destructive",children:a.jsx(pa,{children:b})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(At,{htmlFor:"project-name",children:"プロジェクト名"}),a.jsx(We,{id:"project-name",value:d,onChange:m=>f(m.target.value),placeholder:"プロジェクト名を入力",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(At,{htmlFor:"project-description",children:"説明（任意）"}),a.jsx(We,{id:"project-description",value:h,onChange:m=>y(m.target.value),placeholder:"プロジェクトの説明"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(Z,{type:"button",variant:"outline",onClick:()=>u(!1),children:"キャンセル"}),a.jsx(Z,{type:"submit",disabled:w,children:w?"作成中...":"作成"})]})]})]})]})]}):a.jsxs("div",{className:"space-y-3",children:[t.map(m=>a.jsxs("div",{className:"p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>o(m),children:[a.jsx("h3",{className:"font-medium text-gray-900",children:m.name}),m.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:m.description}),a.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["作成日: ",new Date(m.created_at).toLocaleDateString("ja-JP")]}),a.jsx("p",{className:"text-xs text-blue-500 mt-1",children:m.owner_id===(l==null?void 0:l.id)?"オーナー":"メンバー"})]},m.id)),a.jsxs(pn,{open:c,onOpenChange:u,children:[a.jsx(ya,{asChild:!0,children:a.jsx(Z,{variant:"outline",className:"w-full",children:"新しいプロジェクトを作成"})}),a.jsxs(mn,{children:[a.jsxs(gn,{children:[a.jsx(vn,{children:"新しいプロジェクトを作成"}),a.jsx(vs,{children:"プロジェクトの基本情報を入力してください"})]}),a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[b&&a.jsx(ha,{variant:"destructive",children:a.jsx(pa,{children:b})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(At,{htmlFor:"project-name",children:"プロジェクト名"}),a.jsx(We,{id:"project-name",value:d,onChange:m=>f(m.target.value),placeholder:"プロジェクト名を入力",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(At,{htmlFor:"project-description",children:"説明（任意）"}),a.jsx(We,{id:"project-description",value:h,onChange:m=>y(m.target.value),placeholder:"プロジェクトの説明"})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(Z,{type:"button",variant:"outline",onClick:()=>u(!1),children:"キャンセル"}),a.jsx(Z,{type:"submit",disabled:w,children:w?"作成中...":"作成"})]})]})]})]})]}),a.jsx("div",{className:"pt-4 border-t",children:a.jsx("button",{onClick:i,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"ログアウト"})})]})]})]})})};var df="Progress",ff=100,[uE,gI]=St(df),[dE,fE]=uE(df),u0=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=hE,...i}=e;(s||s===0)&&!Bp(s)&&console.error(pE(`${s}`,"Progress"));const l=Bp(s)?s:ff;r!==null&&!Wp(r,l)&&console.error(mE(`${r}`,"Progress"));const c=Wp(r,l)?r:null,u=xa(c)?o(c,l):void 0;return a.jsx(dE,{scope:n,value:c,max:l,children:a.jsx(W.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":xa(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":h0(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});u0.displayName=df;var d0="ProgressIndicator",f0=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=fE(d0,n);return a.jsx(W.div,{"data-state":h0(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});f0.displayName=d0;function hE(e,t){return`${Math.round(e/t*100)}%`}function h0(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function xa(e){return typeof e=="number"}function Bp(e){return xa(e)&&!isNaN(e)&&e>0}function Wp(e,t){return xa(e)&&!isNaN(e)&&e<=t&&e>=0}function pE(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ff}\`.`}function mE(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ff} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var gE=u0,vE=f0;function ji({className:e,value:t,...n}){return a.jsx(gE,{"data-slot":"progress",className:X("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:a.jsx(vE,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function al(e){const t=e+"CollectionProvider",[n,r]=St(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:b,children:v}=x,g=te.useRef(null),m=te.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:m,collectionRef:g,children:v})};i.displayName=t;const l=e+"CollectionSlot",c=_r(l),u=te.forwardRef((x,b)=>{const{scope:v,children:g}=x,m=o(l,v),_=ne(b,m.collectionRef);return a.jsx(c,{ref:_,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=_r(d),y=te.forwardRef((x,b)=>{const{scope:v,children:g,...m}=x,_=te.useRef(null),j=ne(b,_),C=o(d,v);return te.useEffect(()=>(C.itemMap.set(_,{ref:_,...m}),()=>void C.itemMap.delete(_))),a.jsx(h,{[f]:"",ref:j,children:g})});y.displayName=d;function w(x){const b=o(e+"CollectionConsumer",x);return te.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const m=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((C,k)=>m.indexOf(C.ref.current)-m.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:y},w,r]}var yE=p.createContext(void 0);function qo(e){const t=p.useContext(yE);return e||t||"ltr"}const xE=["top","right","bottom","left"],Gn=Math.min,at=Math.max,wa=Math.round,Si=Math.floor,Kt=e=>({x:e,y:e}),wE={left:"right",right:"left",bottom:"top",top:"bottom"},bE={start:"end",end:"start"};function Nu(e,t,n){return at(e,Gn(t,n))}function yn(e,t){return typeof e=="function"?e(t):e}function xn(e){return e.split("-")[0]}function Es(e){return e.split("-")[1]}function hf(e){return e==="x"?"y":"x"}function pf(e){return e==="y"?"height":"width"}const _E=new Set(["top","bottom"]);function Ht(e){return _E.has(xn(e))?"y":"x"}function mf(e){return hf(Ht(e))}function jE(e,t,n){n===void 0&&(n=!1);const r=Es(e),s=mf(e),o=pf(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=ba(i)),[i,ba(i)]}function SE(e){const t=ba(e);return[Cu(e),t,Cu(t)]}function Cu(e){return e.replace(/start|end/g,t=>bE[t])}const Vp=["left","right"],Hp=["right","left"],kE=["top","bottom"],NE=["bottom","top"];function CE(e,t,n){switch(e){case"top":case"bottom":return n?t?Hp:Vp:t?Vp:Hp;case"left":case"right":return t?kE:NE;default:return[]}}function EE(e,t,n,r){const s=Es(e);let o=CE(xn(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Cu)))),o}function ba(e){return e.replace(/left|right|bottom|top/g,t=>wE[t])}function PE(e){return{top:0,right:0,bottom:0,left:0,...e}}function p0(e){return typeof e!="number"?PE(e):{top:e,right:e,bottom:e,left:e}}function _a(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function qp(e,t,n){let{reference:r,floating:s}=e;const o=Ht(t),i=mf(t),l=pf(i),c=xn(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let y;switch(c){case"top":y={x:d,y:r.y-s.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:f};break;case"left":y={x:r.x-s.width,y:f};break;default:y={x:r.x,y:r.y}}switch(Es(t)){case"start":y[i]-=h*(n&&u?-1:1);break;case"end":y[i]+=h*(n&&u?-1:1);break}return y}const TE=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=qp(u,r,c),h=r,y={},w=0;for(let x=0;x<l.length;x++){const{name:b,fn:v}=l[x],{x:g,y:m,data:_,reset:j}=await v({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:y,rects:u,platform:i,elements:{reference:e,floating:t}});d=g??d,f=m??f,y={...y,[b]:{...y[b],..._}},j&&w<=50&&(w++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:f}=qp(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:y}};async function Io(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:y=0}=yn(t,e),w=p0(y),b=l[h?f==="floating"?"reference":"floating":f],v=_a(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,m=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(m))?await(o.getScale==null?void 0:o.getScale(m))||{x:1,y:1}:{x:1,y:1},j=_a(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:m,strategy:c}):g);return{top:(v.top-j.top+w.top)/_.y,bottom:(j.bottom-v.bottom+w.bottom)/_.y,left:(v.left-j.left+w.left)/_.x,right:(j.right-v.right+w.right)/_.x}}const RE=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=yn(e,t)||{};if(u==null)return{};const f=p0(d),h={x:n,y:r},y=mf(s),w=pf(y),x=await i.getDimensions(u),b=y==="y",v=b?"top":"left",g=b?"bottom":"right",m=b?"clientHeight":"clientWidth",_=o.reference[w]+o.reference[y]-h[y]-o.floating[w],j=h[y]-o.reference[y],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=C?C[m]:0;(!k||!await(i.isElement==null?void 0:i.isElement(C)))&&(k=l.floating[m]||o.floating[w]);const N=_/2-j/2,S=k/2-x[w]/2-1,E=Gn(f[v],S),M=Gn(f[g],S),I=E,O=k-x[w]-M,P=k/2-x[w]/2+N,F=Nu(I,P,O),D=!c.arrow&&Es(s)!=null&&P!==F&&o.reference[w]/2-(P<I?E:M)-x[w]/2<0,q=D?P<I?P-I:P-O:0;return{[y]:h[y]+q,data:{[y]:F,centerOffset:P-F-q,...D&&{alignmentOffset:q}},reset:D}}}),AE=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...b}=yn(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=xn(s),g=Ht(l),m=xn(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(m||!x?[ba(l)]:SE(l)),C=w!=="none";!h&&C&&j.push(...EE(l,x,w,_));const k=[l,...j],N=await Io(t,b),S=[];let E=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&S.push(N[v]),f){const P=jE(s,i,_);S.push(N[P[0]],N[P[1]])}if(E=[...E,{placement:s,overflows:S}],!S.every(P=>P<=0)){var M,I;const P=(((M=o.flip)==null?void 0:M.index)||0)+1,F=k[P];if(F&&(!(f==="alignment"?g!==Ht(F):!1)||E.every(T=>T.overflows[0]>0&&Ht(T.placement)===g)))return{data:{index:P,overflows:E},reset:{placement:F}};let D=(I=E.filter(q=>q.overflows[0]<=0).sort((q,T)=>q.overflows[1]-T.overflows[1])[0])==null?void 0:I.placement;if(!D)switch(y){case"bestFit":{var O;const q=(O=E.filter(T=>{if(C){const R=Ht(T.placement);return R===g||R==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(R=>R>0).reduce((R,L)=>R+L,0)]).sort((T,R)=>T[1]-R[1])[0])==null?void 0:O[0];q&&(D=q);break}case"initialPlacement":D=l;break}if(s!==D)return{reset:{placement:D}}}return{}}}};function Gp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Kp(e){return xE.some(t=>e[t]>=0)}const IE=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=yn(e,t);switch(r){case"referenceHidden":{const o=await Io(t,{...s,elementContext:"reference"}),i=Gp(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Kp(i)}}}case"escaped":{const o=await Io(t,{...s,altBoundary:!0}),i=Gp(o,n.floating);return{data:{escapedOffsets:i,escaped:Kp(i)}}}default:return{}}}}},m0=new Set(["left","top"]);async function ME(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=xn(n),l=Es(n),c=Ht(n)==="y",u=m0.has(i)?-1:1,d=o&&c?-1:1,f=yn(t,e);let{mainAxis:h,crossAxis:y,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*d,y:h*u}:{x:h*u,y:y*d}}const OE=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await ME(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},DE=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:v,y:g}=b;return{x:v,y:g}}},...c}=yn(e,t),u={x:n,y:r},d=await Io(t,c),f=Ht(xn(s)),h=hf(f);let y=u[h],w=u[f];if(o){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",g=y+d[b],m=y-d[v];y=Nu(g,y,m)}if(i){const b=f==="y"?"top":"left",v=f==="y"?"bottom":"right",g=w+d[b],m=w-d[v];w=Nu(g,w,m)}const x=l.fn({...t,[h]:y,[f]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:o,[f]:i}}}}}},LE=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=yn(e,t),d={x:n,y:r},f=Ht(s),h=hf(f);let y=d[h],w=d[f];const x=yn(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const m=h==="y"?"height":"width",_=o.reference[h]-o.floating[m]+b.mainAxis,j=o.reference[h]+o.reference[m]-b.mainAxis;y<_?y=_:y>j&&(y=j)}if(u){var v,g;const m=h==="y"?"width":"height",_=m0.has(xn(s)),j=o.reference[f]-o.floating[m]+(_&&((v=i.offset)==null?void 0:v[f])||0)+(_?0:b.crossAxis),C=o.reference[f]+o.reference[m]+(_?0:((g=i.offset)==null?void 0:g[f])||0)-(_?b.crossAxis:0);w<j?w=j:w>C&&(w=C)}return{[h]:y,[f]:w}}}},$E=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=yn(e,t),d=await Io(t,u),f=xn(s),h=Es(s),y=Ht(s)==="y",{width:w,height:x}=o.floating;let b,v;f==="top"||f==="bottom"?(b=f,v=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,b=h==="end"?"top":"bottom");const g=x-d.top-d.bottom,m=w-d.left-d.right,_=Gn(x-d[b],g),j=Gn(w-d[v],m),C=!t.middlewareData.shift;let k=_,N=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=m),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=g),C&&!h){const E=at(d.left,0),M=at(d.right,0),I=at(d.top,0),O=at(d.bottom,0);y?N=w-2*(E!==0||M!==0?E+M:at(d.left,d.right)):k=x-2*(I!==0||O!==0?I+O:at(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:k});const S=await i.getDimensions(l.floating);return w!==S.width||x!==S.height?{reset:{rects:!0}}:{}}}};function ll(){return typeof window<"u"}function Ps(e){return g0(e)?(e.nodeName||"").toLowerCase():"#document"}function dt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function en(e){var t;return(t=(g0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function g0(e){return ll()?e instanceof Node||e instanceof dt(e).Node:!1}function Dt(e){return ll()?e instanceof Element||e instanceof dt(e).Element:!1}function Jt(e){return ll()?e instanceof HTMLElement||e instanceof dt(e).HTMLElement:!1}function Yp(e){return!ll()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dt(e).ShadowRoot}const UE=new Set(["inline","contents"]);function Go(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Lt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!UE.has(s)}const FE=new Set(["table","td","th"]);function zE(e){return FE.has(Ps(e))}const BE=[":popover-open",":modal"];function cl(e){return BE.some(t=>{try{return e.matches(t)}catch{return!1}})}const WE=["transform","translate","scale","rotate","perspective"],VE=["transform","translate","scale","rotate","perspective","filter"],HE=["paint","layout","strict","content"];function gf(e){const t=vf(),n=Dt(e)?Lt(e):e;return WE.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||VE.some(r=>(n.willChange||"").includes(r))||HE.some(r=>(n.contain||"").includes(r))}function qE(e){let t=Kn(e);for(;Jt(t)&&!ys(t);){if(gf(t))return t;if(cl(t))return null;t=Kn(t)}return null}function vf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GE=new Set(["html","body","#document"]);function ys(e){return GE.has(Ps(e))}function Lt(e){return dt(e).getComputedStyle(e)}function ul(e){return Dt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Kn(e){if(Ps(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Yp(e)&&e.host||en(e);return Yp(t)?t.host:t}function v0(e){const t=Kn(e);return ys(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jt(t)&&Go(t)?t:v0(t)}function Mo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=v0(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=dt(s);if(o){const l=Eu(i);return t.concat(i,i.visualViewport||[],Go(s)?s:[],l&&n?Mo(l):[])}return t.concat(s,Mo(s,[],n))}function Eu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function y0(e){const t=Lt(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Jt(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=wa(n)!==o||wa(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function yf(e){return Dt(e)?e:e.contextElement}function ls(e){const t=yf(e);if(!Jt(t))return Kt(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=y0(t);let i=(o?wa(n.width):n.width)/r,l=(o?wa(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const KE=Kt(0);function x0(e){const t=dt(e);return!vf()||!t.visualViewport?KE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==dt(e)?!1:t}function Sr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=yf(e);let i=Kt(1);t&&(r?Dt(r)&&(i=ls(r)):i=ls(e));const l=YE(o,n,r)?x0(o):Kt(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=dt(o),y=r&&Dt(r)?dt(r):r;let w=h,x=Eu(w);for(;x&&r&&y!==w;){const b=ls(x),v=x.getBoundingClientRect(),g=Lt(x),m=v.left+(x.clientLeft+parseFloat(g.paddingLeft))*b.x,_=v.top+(x.clientTop+parseFloat(g.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=m,u+=_,w=dt(x),x=Eu(w)}}return _a({width:d,height:f,x:c,y:u})}function xf(e,t){const n=ul(e).scrollLeft;return t?t.left+n:Sr(en(e)).left+n}function w0(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:xf(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function XE(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=en(r),l=t?cl(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Kt(1);const d=Kt(0),f=Jt(r);if((f||!f&&!o)&&((Ps(r)!=="body"||Go(i))&&(c=ul(r)),Jt(r))){const y=Sr(r);u=ls(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const h=i&&!f&&!o?w0(i,c,!0):Kt(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function QE(e){return Array.from(e.getClientRects())}function JE(e){const t=en(e),n=ul(e),r=e.ownerDocument.body,s=at(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=at(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+xf(e);const l=-n.scrollTop;return Lt(r).direction==="rtl"&&(i+=at(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}function ZE(e,t){const n=dt(e),r=en(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=vf();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const eP=new Set(["absolute","fixed"]);function tP(e,t){const n=Sr(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Jt(e)?ls(e):Kt(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function Xp(e,t,n){let r;if(t==="viewport")r=ZE(e,n);else if(t==="document")r=JE(en(e));else if(Dt(t))r=tP(t,n);else{const s=x0(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return _a(r)}function b0(e,t){const n=Kn(e);return n===t||!Dt(n)||ys(n)?!1:Lt(n).position==="fixed"||b0(n,t)}function nP(e,t){const n=t.get(e);if(n)return n;let r=Mo(e,[],!1).filter(l=>Dt(l)&&Ps(l)!=="body"),s=null;const o=Lt(e).position==="fixed";let i=o?Kn(e):e;for(;Dt(i)&&!ys(i);){const l=Lt(i),c=gf(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&eP.has(s.position)||Go(i)&&!c&&b0(e,i))?r=r.filter(d=>d!==i):s=l,i=Kn(i)}return t.set(e,r),r}function rP(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?cl(t)?[]:nP(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=Xp(t,d,s);return u.top=at(f.top,u.top),u.right=Gn(f.right,u.right),u.bottom=Gn(f.bottom,u.bottom),u.left=at(f.left,u.left),u},Xp(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function sP(e){const{width:t,height:n}=y0(e);return{width:t,height:n}}function oP(e,t,n){const r=Jt(t),s=en(t),o=n==="fixed",i=Sr(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Kt(0);function u(){c.x=xf(s)}if(r||!r&&!o)if((Ps(t)!=="body"||Go(s))&&(l=ul(t)),r){const y=Sr(t,!0,o,t);c.x=y.x+t.clientLeft,c.y=y.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?w0(s,l):Kt(0),f=i.left+l.scrollLeft-c.x-d.x,h=i.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function fc(e){return Lt(e).position==="static"}function Qp(e,t){if(!Jt(e)||Lt(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return en(e)===n&&(n=n.ownerDocument.body),n}function _0(e,t){const n=dt(e);if(cl(e))return n;if(!Jt(e)){let s=Kn(e);for(;s&&!ys(s);){if(Dt(s)&&!fc(s))return s;s=Kn(s)}return n}let r=Qp(e,t);for(;r&&zE(r)&&fc(r);)r=Qp(r,t);return r&&ys(r)&&fc(r)&&!gf(r)?n:r||qE(e)||n}const iP=async function(e){const t=this.getOffsetParent||_0,n=this.getDimensions,r=await n(e.floating);return{reference:oP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aP(e){return Lt(e).direction==="rtl"}const lP={convertOffsetParentRelativeRectToViewportRelativeRect:XE,getDocumentElement:en,getClippingRect:rP,getOffsetParent:_0,getElementRects:iP,getClientRects:QE,getDimensions:sP,getScale:ls,isElement:Dt,isRTL:aP};function j0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cP(e,t){let n=null,r;const s=en(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:y}=u;if(l||t(),!h||!y)return;const w=Si(f),x=Si(s.clientWidth-(d+h)),b=Si(s.clientHeight-(f+y)),v=Si(d),m={rootMargin:-w+"px "+-x+"px "+-b+"px "+-v+"px",threshold:at(0,Gn(1,c))||1};let _=!0;function j(C){const k=C[0].intersectionRatio;if(k!==c){if(!_)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!j0(u,e.getBoundingClientRect())&&i(),_=!1}try{n=new IntersectionObserver(j,{...m,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,m)}n.observe(e)}return i(!0),o}function uP(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=yf(e),d=s||o?[...u?Mo(u):[],...Mo(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=u&&l?cP(u,n):null;let h=-1,y=null;i&&(y=new ResizeObserver(v=>{let[g]=v;g&&g.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var m;(m=y)==null||m.observe(t)})),n()}),u&&!c&&y.observe(u),y.observe(t));let w,x=c?Sr(e):null;c&&b();function b(){const v=Sr(e);x&&!j0(x,v)&&n(),x=v,w=requestAnimationFrame(b)}return n(),()=>{var v;d.forEach(g=>{s&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),f==null||f(),(v=y)==null||v.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const dP=OE,fP=DE,hP=AE,pP=$E,mP=IE,Jp=RE,gP=LE,vP=(e,t,n)=>{const r=new Map,s={platform:lP,...n},o={...s.platform,_c:r};return TE(e,t,{...s,platform:o})};var yP=typeof document<"u",xP=function(){},Ui=yP?p.useLayoutEffect:xP;function ja(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ja(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!ja(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function S0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Zp(e,t){const n=S0(e);return Math.round(t*n)/n}function hc(e){const t=p.useRef(e);return Ui(()=>{t.current=e}),t}function wP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,y]=p.useState(r);ja(h,r)||y(r);const[w,x]=p.useState(null),[b,v]=p.useState(null),g=p.useCallback(T=>{T!==C.current&&(C.current=T,x(T))},[]),m=p.useCallback(T=>{T!==k.current&&(k.current=T,v(T))},[]),_=o||w,j=i||b,C=p.useRef(null),k=p.useRef(null),N=p.useRef(d),S=c!=null,E=hc(c),M=hc(s),I=hc(u),O=p.useCallback(()=>{if(!C.current||!k.current)return;const T={placement:t,strategy:n,middleware:h};M.current&&(T.platform=M.current),vP(C.current,k.current,T).then(R=>{const L={...R,isPositioned:I.current!==!1};P.current&&!ja(N.current,L)&&(N.current=L,_s.flushSync(()=>{f(L)}))})},[h,t,n,M,I]);Ui(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const P=p.useRef(!1);Ui(()=>(P.current=!0,()=>{P.current=!1}),[]),Ui(()=>{if(_&&(C.current=_),j&&(k.current=j),_&&j){if(E.current)return E.current(_,j,O);O()}},[_,j,O,E,S]);const F=p.useMemo(()=>({reference:C,floating:k,setReference:g,setFloating:m}),[g,m]),D=p.useMemo(()=>({reference:_,floating:j}),[_,j]),q=p.useMemo(()=>{const T={position:n,left:0,top:0};if(!D.floating)return T;const R=Zp(D.floating,d.x),L=Zp(D.floating,d.y);return l?{...T,transform:"translate("+R+"px, "+L+"px)",...S0(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:R,top:L}},[n,l,D.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:O,refs:F,elements:D,floatingStyles:q}),[d,O,F,D,q])}const bP=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Jp({element:r.current,padding:s}).fn(n):{}:r?Jp({element:r,padding:s}).fn(n):{}}}},_P=(e,t)=>({...dP(e),options:[e,t]}),jP=(e,t)=>({...fP(e),options:[e,t]}),SP=(e,t)=>({...gP(e),options:[e,t]}),kP=(e,t)=>({...hP(e),options:[e,t]}),NP=(e,t)=>({...pP(e),options:[e,t]}),CP=(e,t)=>({...mP(e),options:[e,t]}),EP=(e,t)=>({...bP(e),options:[e,t]});var PP="Arrow",k0=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(W.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});k0.displayName=PP;var TP=k0;function N0(e){const[t,n]=p.useState(void 0);return Ie(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var wf="Popper",[C0,dl]=St(wf),[RP,E0]=C0(wf),P0=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return a.jsx(RP,{scope:t,anchor:r,onAnchorChange:s,children:n})};P0.displayName=wf;var T0="PopperAnchor",R0=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=E0(T0,n),i=p.useRef(null),l=ne(t,i);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(W.div,{...s,ref:l})});R0.displayName=T0;var bf="PopperContent",[AP,IP]=C0(bf),A0=p.forwardRef((e,t)=>{var z,oe,le,re,ie,ae;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:y="optimized",onPlaced:w,...x}=e,b=E0(bf,n),[v,g]=p.useState(null),m=ne(t,ot=>g(ot)),[_,j]=p.useState(null),C=N0(_),k=(C==null?void 0:C.width)??0,N=(C==null?void 0:C.height)??0,S=r+(o!=="center"?"-"+o:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(u)?u:[u],I=M.length>0,O={padding:E,boundary:M.filter(OP),altBoundary:I},{refs:P,floatingStyles:F,placement:D,isPositioned:q,middlewareData:T}=wP({strategy:"fixed",placement:S,whileElementsMounted:(...ot)=>uP(...ot,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[_P({mainAxis:s+N,alignmentAxis:i}),c&&jP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?SP():void 0,...O}),c&&kP({...O}),NP({...O,apply:({elements:ot,rects:Ft,availableWidth:As,availableHeight:Is})=>{const{width:Ms,height:Ow}=Ft.reference,Qo=ot.floating.style;Qo.setProperty("--radix-popper-available-width",`${As}px`),Qo.setProperty("--radix-popper-available-height",`${Is}px`),Qo.setProperty("--radix-popper-anchor-width",`${Ms}px`),Qo.setProperty("--radix-popper-anchor-height",`${Ow}px`)}}),_&&EP({element:_,padding:l}),DP({arrowWidth:k,arrowHeight:N}),h&&CP({strategy:"referenceHidden",...O})]}),[R,L]=O0(D),B=Xt(w);Ie(()=>{q&&(B==null||B())},[q,B]);const J=(z=T.arrow)==null?void 0:z.x,Ge=(oe=T.arrow)==null?void 0:oe.y,be=((le=T.arrow)==null?void 0:le.centerOffset)!==0,[st,xe]=p.useState();return Ie(()=>{v&&xe(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:q?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:st,"--radix-popper-transform-origin":[(re=T.transformOrigin)==null?void 0:re.x,(ie=T.transformOrigin)==null?void 0:ie.y].join(" "),...((ae=T.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(AP,{scope:n,placedSide:R,onArrowChange:j,arrowX:J,arrowY:Ge,shouldHideArrow:be,children:a.jsx(W.div,{"data-side":R,"data-align":L,...x,ref:m,style:{...x.style,animation:q?void 0:"none"}})})})});A0.displayName=bf;var I0="PopperArrow",MP={top:"bottom",right:"left",bottom:"top",left:"right"},M0=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=IP(I0,r),i=MP[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(TP,{...s,ref:n,style:{...s.style,display:"block"}})})});M0.displayName=I0;function OP(e){return e!==null}var DP=e=>({name:"transformOrigin",options:e,fn(t){var b,v,g;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=O0(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,y=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=i?f:`${h}px`,x=`${-c}px`):u==="top"?(w=i?f:`${h}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=i?f:`${y}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=i?f:`${y}px`),{data:{x:w,y:x}}}});function O0(e){const[t,n="center"]=e.split("-");return[t,n]}var D0=P0,L0=R0,$0=A0,U0=M0,pc="rovingFocusGroup.onEntryFocus",LP={bubbles:!1,cancelable:!0},Ko="RovingFocusGroup",[Pu,F0,$P]=al(Ko),[UP,fl]=St(Ko,[$P]),[FP,zP]=UP(Ko),z0=p.forwardRef((e,t)=>a.jsx(Pu.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Pu.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(BP,{...e,ref:t})})}));z0.displayName=Ko;var BP=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=p.useRef(null),y=ne(t,h),w=qo(o),[x,b]=Yt({prop:i,defaultProp:l??null,onChange:c,caller:Ko}),[v,g]=p.useState(!1),m=Xt(u),_=F0(n),j=p.useRef(!1),[C,k]=p.useState(0);return p.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(pc,m),()=>N.removeEventListener(pc,m)},[m]),a.jsx(FP,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:x,onItemFocus:p.useCallback(N=>b(N),[b]),onItemShiftTab:p.useCallback(()=>g(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(N=>N+1),[]),onFocusableItemRemove:p.useCallback(()=>k(N=>N-1),[]),children:a.jsx(W.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...f,ref:y,style:{outline:"none",...e.style},onMouseDown:U(e.onMouseDown,()=>{j.current=!0}),onFocus:U(e.onFocus,N=>{const S=!j.current;if(N.target===N.currentTarget&&S&&!v){const E=new CustomEvent(pc,LP);if(N.currentTarget.dispatchEvent(E),!E.defaultPrevented){const M=_().filter(D=>D.focusable),I=M.find(D=>D.active),O=M.find(D=>D.id===x),F=[I,O,...M].filter(Boolean).map(D=>D.ref.current);V0(F,d)}}j.current=!1}),onBlur:U(e.onBlur,()=>g(!1))})})}),B0="RovingFocusGroupItem",W0=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=xt(),u=o||c,d=zP(B0,n),f=d.currentTabStopId===u,h=F0(n),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:x}=d;return p.useEffect(()=>{if(r)return y(),()=>w()},[r,y,w]),a.jsx(Pu.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(W.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:U(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:U(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:U(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const v=HP(b,d.orientation,d.dir);if(v!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let m=h().filter(_=>_.focusable).map(_=>_.ref.current);if(v==="last")m.reverse();else if(v==="prev"||v==="next"){v==="prev"&&m.reverse();const _=m.indexOf(b.currentTarget);m=d.loop?qP(m,_+1):m.slice(_+1)}setTimeout(()=>V0(m))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});W0.displayName=B0;var WP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function VP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function HP(e,t,n){const r=VP(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return WP[r]}function V0(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function qP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var H0=z0,q0=W0,Tu=["Enter"," "],GP=["ArrowDown","PageUp","Home"],G0=["ArrowUp","PageDown","End"],KP=[...GP,...G0],YP={ltr:[...Tu,"ArrowRight"],rtl:[...Tu,"ArrowLeft"]},XP={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yo="Menu",[Oo,QP,JP]=al(Yo),[Tr,K0]=St(Yo,[JP,dl,fl]),hl=dl(),Y0=fl(),[ZP,Ts]=Tr(Yo),[eT,Xo]=Tr(Yo),X0=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,l=hl(t),[c,u]=p.useState(null),d=p.useRef(!1),f=Xt(o),h=qo(s);return p.useEffect(()=>{const y=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(D0,{...l,children:a.jsx(ZP,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(eT,{scope:t,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:r})})})};X0.displayName=Yo;var tT="MenuAnchor",_f=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=hl(n);return a.jsx(L0,{...s,...r,ref:t})});_f.displayName=tT;var nT="MenuPortal",[vI,Q0]=Tr(nT,{forceMount:void 0}),wt="MenuContent",[rT,jf]=Tr(wt),J0=p.forwardRef((e,t)=>{const n=Q0(wt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Ts(wt,e.__scopeMenu),i=Xo(wt,e.__scopeMenu);return a.jsx(Oo.Provider,{scope:e.__scopeMenu,children:a.jsx(Zt,{present:r||o.open,children:a.jsx(Oo.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(sT,{...s,ref:t}):a.jsx(oT,{...s,ref:t})})})})}),sT=p.forwardRef((e,t)=>{const n=Ts(wt,e.__scopeMenu),r=p.useRef(null),s=ne(t,r);return p.useEffect(()=>{const o=r.current;if(o)return Qd(o)},[]),a.jsx(Sf,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:U(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),oT=p.forwardRef((e,t)=>{const n=Ts(wt,e.__scopeMenu);return a.jsx(Sf,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),iT=_r("MenuContent.ScrollLock"),Sf=p.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:y,disableOutsideScroll:w,...x}=e,b=Ts(wt,n),v=Xo(wt,n),g=hl(n),m=Y0(n),_=QP(n),[j,C]=p.useState(null),k=p.useRef(null),N=ne(t,k,b.onContentChange),S=p.useRef(0),E=p.useRef(""),M=p.useRef(0),I=p.useRef(null),O=p.useRef("right"),P=p.useRef(0),F=w?Xd:p.Fragment,D=w?{as:iT,allowPinchZoom:!0}:void 0,q=R=>{var z,oe;const L=E.current+R,B=_().filter(le=>!le.disabled),J=document.activeElement,Ge=(z=B.find(le=>le.ref.current===J))==null?void 0:z.textValue,be=B.map(le=>le.textValue),st=yT(be,L,Ge),xe=(oe=B.find(le=>le.textValue===st))==null?void 0:oe.ref.current;(function le(re){E.current=re,window.clearTimeout(S.current),re!==""&&(S.current=window.setTimeout(()=>le(""),1e3))})(L),xe&&setTimeout(()=>xe.focus())};p.useEffect(()=>()=>window.clearTimeout(S.current),[]),Yd();const T=p.useCallback(R=>{var B,J;return O.current===((B=I.current)==null?void 0:B.side)&&wT(R,(J=I.current)==null?void 0:J.area)},[]);return a.jsx(rT,{scope:n,searchRef:E,onItemEnter:p.useCallback(R=>{T(R)&&R.preventDefault()},[T]),onItemLeave:p.useCallback(R=>{var L;T(R)||((L=k.current)==null||L.focus(),C(null))},[T]),onTriggerLeave:p.useCallback(R=>{T(R)&&R.preventDefault()},[T]),pointerGraceTimerRef:M,onPointerGraceIntentChange:p.useCallback(R=>{I.current=R},[]),children:a.jsx(F,{...D,children:a.jsx(rl,{asChild:!0,trapped:s,onMountAutoFocus:U(o,R=>{var L;R.preventDefault(),(L=k.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(nl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:y,children:a.jsx(H0,{asChild:!0,...m,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:C,onEntryFocus:U(c,R=>{v.isUsingKeyboardRef.current||R.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx($0,{role:"menu","aria-orientation":"vertical","data-state":px(b.open),"data-radix-menu-content":"",dir:v.dir,...g,...x,ref:N,style:{outline:"none",...x.style},onKeyDown:U(x.onKeyDown,R=>{const B=R.target.closest("[data-radix-menu-content]")===R.currentTarget,J=R.ctrlKey||R.altKey||R.metaKey,Ge=R.key.length===1;B&&(R.key==="Tab"&&R.preventDefault(),!J&&Ge&&q(R.key));const be=k.current;if(R.target!==be||!KP.includes(R.key))return;R.preventDefault();const xe=_().filter(z=>!z.disabled).map(z=>z.ref.current);G0.includes(R.key)&&xe.reverse(),gT(xe)}),onBlur:U(e.onBlur,R=>{R.currentTarget.contains(R.target)||(window.clearTimeout(S.current),E.current="")}),onPointerMove:U(e.onPointerMove,Do(R=>{const L=R.target,B=P.current!==R.clientX;if(R.currentTarget.contains(L)&&B){const J=R.clientX>P.current?"right":"left";O.current=J,P.current=R.clientX}}))})})})})})})});J0.displayName=wt;var aT="MenuGroup",kf=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(W.div,{role:"group",...r,ref:t})});kf.displayName=aT;var lT="MenuLabel",Z0=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(W.div,{...r,ref:t})});Z0.displayName=lT;var Sa="MenuItem",em="menu.itemSelect",pl=p.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=p.useRef(null),i=Xo(Sa,e.__scopeMenu),l=jf(Sa,e.__scopeMenu),c=ne(t,o),u=p.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const h=new CustomEvent(em,{bubbles:!0,cancelable:!0});f.addEventListener(em,y=>r==null?void 0:r(y),{once:!0}),jy(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(ex,{...s,ref:c,disabled:n,onClick:U(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:U(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:U(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||Tu.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});pl.displayName=Sa;var ex=p.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=jf(Sa,n),l=Y0(n),c=p.useRef(null),u=ne(t,c),[d,f]=p.useState(!1),[h,y]=p.useState("");return p.useEffect(()=>{const w=c.current;w&&y((w.textContent??"").trim())},[o.children]),a.jsx(Oo.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:a.jsx(q0,{asChild:!0,...l,focusable:!r,children:a.jsx(W.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:U(e.onPointerMove,Do(w=>{r?i.onItemLeave(w):(i.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:U(e.onPointerLeave,Do(w=>i.onItemLeave(w))),onFocus:U(e.onFocus,()=>f(!0)),onBlur:U(e.onBlur,()=>f(!1))})})})}),cT="MenuCheckboxItem",tx=p.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(ix,{scope:e.__scopeMenu,checked:n,children:a.jsx(pl,{role:"menuitemcheckbox","aria-checked":ka(n)?"mixed":n,...s,ref:t,"data-state":Cf(n),onSelect:U(s.onSelect,()=>r==null?void 0:r(ka(n)?!0:!n),{checkForDefaultPrevented:!1})})})});tx.displayName=cT;var nx="MenuRadioGroup",[uT,dT]=Tr(nx,{value:void 0,onValueChange:()=>{}}),rx=p.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=Xt(r);return a.jsx(uT,{scope:e.__scopeMenu,value:n,onValueChange:o,children:a.jsx(kf,{...s,ref:t})})});rx.displayName=nx;var sx="MenuRadioItem",ox=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=dT(sx,e.__scopeMenu),o=n===s.value;return a.jsx(ix,{scope:e.__scopeMenu,checked:o,children:a.jsx(pl,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Cf(o),onSelect:U(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});ox.displayName=sx;var Nf="MenuItemIndicator",[ix,fT]=Tr(Nf,{checked:!1}),ax=p.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=fT(Nf,n);return a.jsx(Zt,{present:r||ka(o.checked)||o.checked===!0,children:a.jsx(W.span,{...s,ref:t,"data-state":Cf(o.checked)})})});ax.displayName=Nf;var hT="MenuSeparator",lx=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(W.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});lx.displayName=hT;var pT="MenuArrow",cx=p.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=hl(n);return a.jsx(U0,{...s,...r,ref:t})});cx.displayName=pT;var mT="MenuSub",[yI,ux]=Tr(mT),Qs="MenuSubTrigger",dx=p.forwardRef((e,t)=>{const n=Ts(Qs,e.__scopeMenu),r=Xo(Qs,e.__scopeMenu),s=ux(Qs,e.__scopeMenu),o=jf(Qs,e.__scopeMenu),i=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=p.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(_f,{asChild:!0,...u,children:a.jsx(ex,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":px(n.open),...e,ref:tl(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:U(e.onPointerMove,Do(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:U(e.onPointerLeave,Do(f=>{var y,w;d();const h=(y=n.content)==null?void 0:y.getBoundingClientRect();if(h){const x=(w=n.content)==null?void 0:w.dataset.side,b=x==="right",v=b?-5:5,g=h[b?"left":"right"],m=h[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:g,y:h.top},{x:m,y:h.top},{x:m,y:h.bottom},{x:g,y:h.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:U(e.onKeyDown,f=>{var y;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||YP[r.dir].includes(f.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),f.preventDefault())})})})});dx.displayName=Qs;var fx="MenuSubContent",hx=p.forwardRef((e,t)=>{const n=Q0(wt,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=Ts(wt,e.__scopeMenu),i=Xo(wt,e.__scopeMenu),l=ux(fx,e.__scopeMenu),c=p.useRef(null),u=ne(t,c);return a.jsx(Oo.Provider,{scope:e.__scopeMenu,children:a.jsx(Zt,{present:r||o.open,children:a.jsx(Oo.Slot,{scope:e.__scopeMenu,children:a.jsx(Sf,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:U(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:U(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:U(e.onKeyDown,d=>{var y;const f=d.currentTarget.contains(d.target),h=XP[i.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(y=l.trigger)==null||y.focus(),d.preventDefault())})})})})})});hx.displayName=fx;function px(e){return e?"open":"closed"}function ka(e){return e==="indeterminate"}function Cf(e){return ka(e)?"indeterminate":e?"checked":"unchecked"}function gT(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function vT(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function yT(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=vT(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function xT(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function wT(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return xT(n,t)}function Do(e){return t=>t.pointerType==="mouse"?e(t):void 0}var bT=X0,_T=_f,jT=J0,ST=kf,kT=Z0,NT=pl,CT=tx,ET=rx,PT=ox,TT=ax,RT=lx,AT=cx,IT=dx,MT=hx,ml="DropdownMenu",[OT,xI]=St(ml,[K0]),rt=K0(),[DT,mx]=OT(ml),gx=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=rt(t),u=p.useRef(null),[d,f]=Yt({prop:s,defaultProp:o??!1,onChange:i,caller:ml});return a.jsx(DT,{scope:t,triggerId:xt(),triggerRef:u,contentId:xt(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(bT,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};gx.displayName=ml;var vx="DropdownMenuTrigger",yx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=mx(vx,n),i=rt(n);return a.jsx(_T,{asChild:!0,...i,children:a.jsx(W.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:tl(t,o.triggerRef),onPointerDown:U(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:U(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});yx.displayName=vx;var xx="DropdownMenuContent",wx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=mx(xx,n),o=rt(n),i=p.useRef(!1);return a.jsx(jT,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:U(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:U(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wx.displayName=xx;var LT="DropdownMenuGroup",$T=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=rt(n);return a.jsx(ST,{...s,...r,ref:t})});$T.displayName=LT;var UT="DropdownMenuLabel",bx=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=rt(n);return a.jsx(kT,{...s,...r,ref:t})});bx.displayName=UT;var FT="DropdownMenuItem",_x=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=rt(n);return a.jsx(NT,{...s,...r,ref:t})});_x.displayName=FT;var zT="DropdownMenuCheckboxItem",BT=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=rt(n);return a.jsx(CT,{...s,...r,ref:t})});BT.displayName=zT;var WT="DropdownMenuRadioGroup",VT=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=rt(n);return a.jsx(ET,{...s,...r,ref:t})});VT.displayName=WT;var HT="DropdownMenuRadioItem",qT=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=rt(n);return a.jsx(PT,{...s,...r,ref:t})});qT.displayName=HT;var GT="DropdownMenuItemIndicator",KT=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=rt(n);return a.jsx(TT,{...s,...r,ref:t})});KT.displayName=GT;var YT="DropdownMenuSeparator",XT=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=rt(n);return a.jsx(RT,{...s,...r,ref:t})});XT.displayName=YT;var QT="DropdownMenuArrow",JT=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=rt(n);return a.jsx(AT,{...s,...r,ref:t})});JT.displayName=QT;var ZT="DropdownMenuSubTrigger",eR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=rt(n);return a.jsx(IT,{...s,...r,ref:t})});eR.displayName=ZT;var tR="DropdownMenuSubContent",nR=p.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=rt(n);return a.jsx(MT,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nR.displayName=tR;var rR=gx,sR=yx,jx=wx,Sx=bx,kx=_x;const tm=rR,nm=sR,Ru=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(jx,{ref:r,sideOffset:t,className:X("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white shadow-lg backdrop-blur-sm p-1 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Ru.displayName=jx.displayName;const ar=p.forwardRef(({className:e,inset:t,variant:n="default",...r},s)=>a.jsx(kx,{ref:s,className:X("relative flex cursor-default select-none items-center rounded-sm px-3 py-2 text-sm outline-none transition-colors hover:bg-gray-100 focus:bg-gray-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",n==="destructive"&&"hover:bg-red-50 focus:bg-red-50 text-red-600 hover:text-red-700",e),...r}));ar.displayName=kx.displayName;const Au=p.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(Sx,{ref:r,className:X("px-3 py-2 text-sm font-semibold text-gray-900 bg-gray-50 border-b border-gray-200",t&&"pl-8",e),...n}));Au.displayName=Sx.displayName;const lr=p.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:X("mx-2 my-1 h-px bg-gray-200",e),...t}));lr.displayName="DropdownMenuSeparator";const oR=qd("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ke({className:e,variant:t,asChild:n=!1,...r}){const s=n?my:"span";return a.jsx(s,{"data-slot":"badge",className:X(oR({variant:t}),e),...r})}function rm(e,[t,n]){return Math.min(n,Math.max(t,e))}function Nx(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Cx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iR="VisuallyHidden",aR=p.forwardRef((e,t)=>a.jsx(W.span,{...e,ref:t,style:{...Cx,...e.style}}));aR.displayName=iR;var lR=[" ","Enter","ArrowUp","ArrowDown"],cR=[" ","Enter"],kr="Select",[gl,vl,uR]=al(kr),[Rs,wI]=St(kr,[uR,dl]),yl=dl(),[dR,er]=Rs(kr),[fR,hR]=Rs(kr),Ex=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:y,form:w}=e,x=yl(t),[b,v]=p.useState(null),[g,m]=p.useState(null),[_,j]=p.useState(!1),C=qo(u),[k,N]=Yt({prop:r,defaultProp:s??!1,onChange:o,caller:kr}),[S,E]=Yt({prop:i,defaultProp:l,onChange:c,caller:kr}),M=p.useRef(null),I=b?w||!!b.closest("form"):!0,[O,P]=p.useState(new Set),F=Array.from(O).map(D=>D.props.value).join(";");return a.jsx(D0,{...x,children:a.jsxs(dR,{required:y,scope:t,trigger:b,onTriggerChange:v,valueNode:g,onValueNodeChange:m,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:xt(),value:S,onValueChange:E,open:k,onOpenChange:N,dir:C,triggerPointerDownPosRef:M,disabled:h,children:[a.jsx(gl.Provider,{scope:t,children:a.jsx(fR,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(D=>{P(q=>new Set(q).add(D))},[]),onNativeOptionRemove:p.useCallback(D=>{P(q=>{const T=new Set(q);return T.delete(D),T})},[]),children:n})}),I?a.jsxs(Xx,{"aria-hidden":!0,required:y,tabIndex:-1,name:d,autoComplete:f,value:S,onChange:D=>E(D.target.value),disabled:h,form:w,children:[S===void 0?a.jsx("option",{value:""}):null,Array.from(O)]},F):null]})})};Ex.displayName=kr;var Px="SelectTrigger",Tx=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=yl(n),i=er(Px,n),l=i.disabled||r,c=ne(t,i.onTriggerChange),u=vl(n),d=p.useRef("touch"),[f,h,y]=Jx(x=>{const b=u().filter(m=>!m.disabled),v=b.find(m=>m.value===i.value),g=Zx(b,x,v);g!==void 0&&i.onValueChange(g.value)}),w=x=>{l||(i.onOpenChange(!0),y()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(L0,{asChild:!0,...o,children:a.jsx(W.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Qx(i.value)?"":void 0,...s,ref:c,onClick:U(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&w(x)}),onPointerDown:U(s.onPointerDown,x=>{d.current=x.pointerType;const b=x.target;b.hasPointerCapture(x.pointerId)&&b.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:U(s.onKeyDown,x=>{const b=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(b&&x.key===" ")&&lR.includes(x.key)&&(w(),x.preventDefault())})})})});Tx.displayName=Px;var Rx="SelectValue",Ax=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=er(Rx,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=ne(t,c.onValueNodeChange);return Ie(()=>{u(d)},[u,d]),a.jsx(W.span,{...l,ref:f,style:{pointerEvents:"none"},children:Qx(c.value)?a.jsx(a.Fragment,{children:i}):o})});Ax.displayName=Rx;var pR="SelectIcon",Ix=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(W.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});Ix.displayName=pR;var mR="SelectPortal",Mx=e=>a.jsx(Kd,{asChild:!0,...e});Mx.displayName=mR;var Nr="SelectContent",Ox=p.forwardRef((e,t)=>{const n=er(Nr,e.__scopeSelect),[r,s]=p.useState();if(Ie(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?_s.createPortal(a.jsx(Dx,{scope:e.__scopeSelect,children:a.jsx(gl.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(Lx,{...e,ref:t})});Ox.displayName=Nr;var Ct=10,[Dx,tr]=Rs(Nr),gR="SelectContentImpl",vR=_r("SelectContent.RemoveScroll"),Lx=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:b,...v}=e,g=er(Nr,n),[m,_]=p.useState(null),[j,C]=p.useState(null),k=ne(t,z=>_(z)),[N,S]=p.useState(null),[E,M]=p.useState(null),I=vl(n),[O,P]=p.useState(!1),F=p.useRef(!1);p.useEffect(()=>{if(m)return Qd(m)},[m]),Yd();const D=p.useCallback(z=>{const[oe,...le]=I().map(ae=>ae.ref.current),[re]=le.slice(-1),ie=document.activeElement;for(const ae of z)if(ae===ie||(ae==null||ae.scrollIntoView({block:"nearest"}),ae===oe&&j&&(j.scrollTop=0),ae===re&&j&&(j.scrollTop=j.scrollHeight),ae==null||ae.focus(),document.activeElement!==ie))return},[I,j]),q=p.useCallback(()=>D([N,m]),[D,N,m]);p.useEffect(()=>{O&&q()},[O,q]);const{onOpenChange:T,triggerPointerDownPosRef:R}=g;p.useEffect(()=>{if(m){let z={x:0,y:0};const oe=re=>{var ie,ae;z={x:Math.abs(Math.round(re.pageX)-(((ie=R.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(re.pageY)-(((ae=R.current)==null?void 0:ae.y)??0))}},le=re=>{z.x<=10&&z.y<=10?re.preventDefault():m.contains(re.target)||T(!1),document.removeEventListener("pointermove",oe),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",le,{capture:!0})}}},[m,T,R]),p.useEffect(()=>{const z=()=>T(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[T]);const[L,B]=Jx(z=>{const oe=I().filter(ie=>!ie.disabled),le=oe.find(ie=>ie.ref.current===document.activeElement),re=Zx(oe,z,le);re&&setTimeout(()=>re.ref.current.focus())}),J=p.useCallback((z,oe,le)=>{const re=!F.current&&!le;(g.value!==void 0&&g.value===oe||re)&&(S(z),re&&(F.current=!0))},[g.value]),Ge=p.useCallback(()=>m==null?void 0:m.focus(),[m]),be=p.useCallback((z,oe,le)=>{const re=!F.current&&!le;(g.value!==void 0&&g.value===oe||re)&&M(z)},[g.value]),st=r==="popper"?Iu:$x,xe=st===Iu?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:y,sticky:w,hideWhenDetached:x,avoidCollisions:b}:{};return a.jsx(Dx,{scope:n,content:m,viewport:j,onViewportChange:C,itemRefCallback:J,selectedItem:N,onItemLeave:Ge,itemTextRefCallback:be,focusSelectedItem:q,selectedItemText:E,position:r,isPositioned:O,searchRef:L,children:a.jsx(Xd,{as:vR,allowPinchZoom:!0,children:a.jsx(rl,{asChild:!0,trapped:g.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:U(s,z=>{var oe;(oe=g.trigger)==null||oe.focus({preventScroll:!0}),z.preventDefault()}),children:a.jsx(nl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(st,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:z=>z.preventDefault(),...v,...xe,onPlaced:()=>P(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:U(v.onKeyDown,z=>{const oe=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!oe&&z.key.length===1&&B(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let re=I().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(z.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const ie=z.target,ae=re.indexOf(ie);re=re.slice(ae+1)}setTimeout(()=>D(re)),z.preventDefault()}})})})})})})});Lx.displayName=gR;var yR="SelectItemAlignedPosition",$x=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=er(Nr,n),i=tr(Nr,n),[l,c]=p.useState(null),[u,d]=p.useState(null),f=ne(t,k=>d(k)),h=vl(n),y=p.useRef(!1),w=p.useRef(!0),{viewport:x,selectedItem:b,selectedItemText:v,focusSelectedItem:g}=i,m=p.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&x&&b&&v){const k=o.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),S=o.valueNode.getBoundingClientRect(),E=v.getBoundingClientRect();if(o.dir!=="rtl"){const ie=E.left-N.left,ae=S.left-ie,ot=k.left-ae,Ft=k.width+ot,As=Math.max(Ft,N.width),Is=window.innerWidth-Ct,Ms=rm(ae,[Ct,Math.max(Ct,Is-As)]);l.style.minWidth=Ft+"px",l.style.left=Ms+"px"}else{const ie=N.right-E.right,ae=window.innerWidth-S.right-ie,ot=window.innerWidth-k.right-ae,Ft=k.width+ot,As=Math.max(Ft,N.width),Is=window.innerWidth-Ct,Ms=rm(ae,[Ct,Math.max(Ct,Is-As)]);l.style.minWidth=Ft+"px",l.style.right=Ms+"px"}const M=h(),I=window.innerHeight-Ct*2,O=x.scrollHeight,P=window.getComputedStyle(u),F=parseInt(P.borderTopWidth,10),D=parseInt(P.paddingTop,10),q=parseInt(P.borderBottomWidth,10),T=parseInt(P.paddingBottom,10),R=F+D+O+T+q,L=Math.min(b.offsetHeight*5,R),B=window.getComputedStyle(x),J=parseInt(B.paddingTop,10),Ge=parseInt(B.paddingBottom,10),be=k.top+k.height/2-Ct,st=I-be,xe=b.offsetHeight/2,z=b.offsetTop+xe,oe=F+D+z,le=R-oe;if(oe<=be){const ie=M.length>0&&b===M[M.length-1].ref.current;l.style.bottom="0px";const ae=u.clientHeight-x.offsetTop-x.offsetHeight,ot=Math.max(st,xe+(ie?Ge:0)+ae+q),Ft=oe+ot;l.style.height=Ft+"px"}else{const ie=M.length>0&&b===M[0].ref.current;l.style.top="0px";const ot=Math.max(be,F+x.offsetTop+(ie?J:0)+xe)+le;l.style.height=ot+"px",x.scrollTop=oe-be+x.offsetTop}l.style.margin=`${Ct}px 0`,l.style.minHeight=L+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[h,o.trigger,o.valueNode,l,u,x,b,v,o.dir,r]);Ie(()=>m(),[m]);const[_,j]=p.useState();Ie(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const C=p.useCallback(k=>{k&&w.current===!0&&(m(),g==null||g(),w.current=!1)},[m,g]);return a.jsx(wR,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:C,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(W.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$x.displayName=yR;var xR="SelectPopperPosition",Iu=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ct,...o}=e,i=yl(n);return a.jsx($0,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Iu.displayName=xR;var[wR,Ef]=Rs(Nr,{}),Mu="SelectViewport",Ux=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=tr(Mu,n),i=Ef(Mu,n),l=ne(t,o.onViewportChange),c=p.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(gl.Slot,{scope:n,children:a.jsx(W.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:U(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const y=Math.abs(c.current-d.scrollTop);if(y>0){const w=window.innerHeight-Ct*2,x=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),v=Math.max(x,b);if(v<w){const g=v+y,m=Math.min(w,g),_=g-m;f.style.height=m+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Ux.displayName=Mu;var Fx="SelectGroup",[bR,_R]=Rs(Fx),jR=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=xt();return a.jsx(bR,{scope:n,id:s,children:a.jsx(W.div,{role:"group","aria-labelledby":s,...r,ref:t})})});jR.displayName=Fx;var zx="SelectLabel",SR=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=_R(zx,n);return a.jsx(W.div,{id:s.id,...r,ref:t})});SR.displayName=zx;var Na="SelectItem",[kR,Bx]=Rs(Na),Wx=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=er(Na,n),c=tr(Na,n),u=l.value===r,[d,f]=p.useState(o??""),[h,y]=p.useState(!1),w=ne(t,g=>{var m;return(m=c.itemRefCallback)==null?void 0:m.call(c,g,r,s)}),x=xt(),b=p.useRef("touch"),v=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(kR,{scope:n,value:r,disabled:s,textId:x,isSelected:u,onItemTextChange:p.useCallback(g=>{f(m=>m||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(gl.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(W.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:U(i.onFocus,()=>y(!0)),onBlur:U(i.onBlur,()=>y(!1)),onClick:U(i.onClick,()=>{b.current!=="mouse"&&v()}),onPointerUp:U(i.onPointerUp,()=>{b.current==="mouse"&&v()}),onPointerDown:U(i.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:U(i.onPointerMove,g=>{var m;b.current=g.pointerType,s?(m=c.onItemLeave)==null||m.call(c):b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:U(i.onPointerLeave,g=>{var m;g.currentTarget===document.activeElement&&((m=c.onItemLeave)==null||m.call(c))}),onKeyDown:U(i.onKeyDown,g=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(cR.includes(g.key)&&v(),g.key===" "&&g.preventDefault())})})})})});Wx.displayName=Na;var Js="SelectItemText",Vx=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=er(Js,n),l=tr(Js,n),c=Bx(Js,n),u=hR(Js,n),[d,f]=p.useState(null),h=ne(t,v=>f(v),c.onItemTextChange,v=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,v,c.value,c.disabled)}),y=d==null?void 0:d.textContent,w=p.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:y},c.value),[c.disabled,c.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:b}=u;return Ie(()=>(x(w),()=>b(w)),[x,b,w]),a.jsxs(a.Fragment,{children:[a.jsx(W.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?_s.createPortal(o.children,i.valueNode):null]})});Vx.displayName=Js;var Hx="SelectItemIndicator",qx=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Bx(Hx,n).isSelected?a.jsx(W.span,{"aria-hidden":!0,...r,ref:t}):null});qx.displayName=Hx;var Ou="SelectScrollUpButton",Gx=p.forwardRef((e,t)=>{const n=tr(Ou,e.__scopeSelect),r=Ef(Ou,e.__scopeSelect),[s,o]=p.useState(!1),i=ne(t,r.onScrollButtonChange);return Ie(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(Yx,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Gx.displayName=Ou;var Du="SelectScrollDownButton",Kx=p.forwardRef((e,t)=>{const n=tr(Du,e.__scopeSelect),r=Ef(Du,e.__scopeSelect),[s,o]=p.useState(!1),i=ne(t,r.onScrollButtonChange);return Ie(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(Yx,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Kx.displayName=Du;var Yx=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=tr("SelectScrollButton",n),i=p.useRef(null),l=vl(n),c=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Ie(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(W.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:U(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:U(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:U(s.onPointerLeave,()=>{c()})})}),NR="SelectSeparator",CR=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(W.div,{"aria-hidden":!0,...r,ref:t})});CR.displayName=NR;var Lu="SelectArrow",ER=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=yl(n),o=er(Lu,n),i=tr(Lu,n);return o.open&&i.position==="popper"?a.jsx(U0,{...s,...r,ref:t}):null});ER.displayName=Lu;var PR="SelectBubbleInput",Xx=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=p.useRef(null),o=ne(r,s),i=Nx(t);return p.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(W.select,{...n,style:{...Cx,...n.style},ref:o,defaultValue:t})});Xx.displayName=PR;function Qx(e){return e===""||e===void 0}function Jx(e){const t=Xt(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function Zx(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=TR(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function TR(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var RR=Ex,AR=Tx,IR=Ax,MR=Ix,OR=Mx,DR=Ox,LR=Ux,$R=Wx,UR=Vx,FR=qx,zR=Gx,BR=Kx;function $u({...e}){return a.jsx(RR,{"data-slot":"select",...e})}function Uu({...e}){return a.jsx(IR,{"data-slot":"select-value",...e})}function Fu({className:e,size:t="default",children:n,...r}){return a.jsxs(AR,{"data-slot":"select-trigger","data-size":t,className:X("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,a.jsx(MR,{asChild:!0,children:a.jsx(nf,{className:"size-4 opacity-50"})})]})}function zu({className:e,children:t,position:n="popper",...r}){return a.jsx(OR,{children:a.jsxs(DR,{"data-slot":"select-content",className:X("bg-white text-gray-900 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border border-gray-200 shadow-lg",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(WR,{}),a.jsx(LR,{className:X("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(VR,{})]})})}function hr({className:e,children:t,...n}){return a.jsxs($R,{"data-slot":"select-item",className:X("hover:bg-gray-100 focus:bg-gray-100 focus:text-gray-900 [&_svg:not([class*='text-'])]:text-gray-500 relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(FR,{children:a.jsx(tf,{className:"size-4"})})}),a.jsx(UR,{children:t})]})}function WR({className:e,...t}){return a.jsx(zR,{"data-slot":"select-scroll-up-button",className:X("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(i2,{className:"size-4"})})}function VR({className:e,...t}){return a.jsx(BR,{"data-slot":"select-scroll-down-button",className:X("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(nf,{className:"size-4"})})}var xl="Checkbox",[HR,bI]=St(xl),[qR,Pf]=HR(xl);function GR(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,y]=Yt({prop:n,defaultProp:s??!1,onChange:c,caller:xl}),[w,x]=p.useState(null),[b,v]=p.useState(null),g=p.useRef(!1),m=w?!!i||!!w.closest("form"):!0,_={checked:h,disabled:o,setChecked:y,control:w,setControl:x,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:Vn(s)?!1:s,isFormControl:m,bubbleInput:b,setBubbleInput:v};return a.jsx(qR,{scope:t,..._,children:KR(f)?f(_):r})}var ew="CheckboxTrigger",tw=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:y,bubbleInput:w}=Pf(ew,e),x=ne(s,d),b=p.useRef(c);return p.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const g=()=>f(b.current);return v.addEventListener("reset",g),()=>v.removeEventListener("reset",g)}},[o,f]),a.jsx(W.button,{type:"button",role:"checkbox","aria-checked":Vn(c)?"mixed":c,"aria-required":u,"data-state":aw(c),"data-disabled":l?"":void 0,disabled:l,value:i,...r,ref:x,onKeyDown:U(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:U(n,v=>{f(g=>Vn(g)?!0:!g),w&&y&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});tw.displayName=ew;var nw=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(GR,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:l,required:i,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(tw,{...f,ref:t,__scopeCheckbox:n}),h&&a.jsx(iw,{__scopeCheckbox:n})]})})});nw.displayName=xl;var rw="CheckboxIndicator",sw=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=Pf(rw,n);return a.jsx(Zt,{present:r||Vn(o.checked)||o.checked===!0,children:a.jsx(W.span,{"data-state":aw(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});sw.displayName=rw;var ow="CheckboxBubbleInput",iw=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:y}=Pf(ow,e),w=ne(n,y),x=Nx(o),b=N0(r);p.useEffect(()=>{const g=h;if(!g)return;const m=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(m,"checked").set,C=!s.current;if(x!==o&&j){const k=new Event("click",{bubbles:C});g.indeterminate=Vn(o),j.call(g,Vn(o)?!1:o),g.dispatchEvent(k)}},[h,x,o,s]);const v=p.useRef(Vn(o)?!1:o);return a.jsx(W.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:w,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});iw.displayName=ow;function KR(e){return typeof e=="function"}function Vn(e){return e==="indeterminate"}function aw(e){return Vn(e)?"indeterminate":e?"checked":"unchecked"}function Ca({className:e,...t}){return a.jsx(nw,{"data-slot":"checkbox",className:X("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(sw,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(tf,{className:"size-3.5"})})})}const sm=[{key:"requirements",label:"要件定義",description:"要件定義フェーズの編集"},{key:"analysis_design",label:"分析・設計",description:"分析・設計フェーズの編集"},{key:"external_design",label:"外部設計",description:"外部設計フェーズの編集"},{key:"development_prep",label:"開発準備",description:"開発準備フェーズの編集"},{key:"members",label:"メンバー管理",description:"プロジェクトメンバーの管理"},{key:"settings",label:"プロジェクト設定",description:"プロジェクトの基本設定"}];function YR({isOpen:e,onClose:t}){const{user:n}=Zn(),{currentProject:r}=Ho(),{members:s,invitations:o,loading:i,fetchMembers:l,inviteMember:c,updateMemberRole:u,removeMember:d}=py(),[f,h]=p.useState(""),[y,w]=p.useState("member"),[x,b]=p.useState([]),[v,g]=p.useState(!1),[m,_]=p.useState(!1);p.useEffect(()=>{e&&r&&(console.log("ProjectMembersDialog - currentProject:",r),l(r.id))},[e,r==null?void 0:r.id]),p.useEffect(()=>{b(y==="admin"?sm.map(P=>P.key):["requirements","analysis_design","external_design","development_prep"])},[y]);const j=async()=>{if(!(!f.trim()||!r)){g(!0);try{const{error:P}=await c(r.id,f.trim(),y,x);P?alert(`招待エラー: ${P.message}`):(alert(`${f} に招待メールを送信しました`),h(""),w("member"),b(["requirements","analysis_design","external_design","development_prep"]),_(!1),await l(r.id))}catch{alert("招待処理中にエラーが発生しました")}finally{g(!1)}}},C=async P=>{if(!(!r||!window.confirm("このメンバーを削除しますか？")))try{const{error:F}=await d(r.id,P);alert(F?`削除エラー: ${F.message}`:"メンバーを削除しました")}catch{alert("削除処理中にエラーが発生しました")}},k=async(P,F)=>{if(r)try{const{error:D}=await u(r.id,P,F);alert(D?`権限更新エラー: ${D.message}`:"権限を更新しました")}catch{alert("権限更新処理中にエラーが発生しました")}},N=P=>{b(F=>F.includes(P)?F.filter(D=>D!==P):[...F,P])},S=P=>{switch(P){case"owner":return"オーナー";case"admin":return"管理者";case"member":return"メンバー";default:return"メンバー"}},E=P=>{switch(P){case"owner":return"bg-red-100 text-red-800";case"admin":return"bg-blue-100 text-blue-800";case"member":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},M=P=>{switch(P){case"owner":return a.jsx(p2,{className:"h-4 w-4"});case"admin":return a.jsx(o0,{className:"h-4 w-4"});case"member":return a.jsx(va,{className:"h-4 w-4"});default:return a.jsx(va,{className:"h-4 w-4"})}},I=()=>{if(!n||!r)return!1;const P=s.find(F=>F.user_id===n.id);return P&&["owner","admin"].includes(P.role)},O=P=>{var F;return n&&((F=s.find(D=>D.id===P))==null?void 0:F.user_id)===n.id};return r?a.jsx(pn,{open:e,onOpenChange:t,children:a.jsxs(mn,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[a.jsx(gn,{children:a.jsxs(vn,{className:"flex items-center gap-2",children:[a.jsx(cf,{className:"h-5 w-5"}),"プロジェクトメンバー管理"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:r.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["参加メンバー: ",s.length,"人 | 招待中: ",o.length,"人"]})]}),I()&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"メンバーを招待"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(At,{htmlFor:"invite-email",className:"sr-only",children:"メールアドレス"}),a.jsx(We,{id:"invite-email",type:"email",placeholder:"メールアドレスを入力",value:f,onChange:P=>h(P.target.value),onKeyPress:P=>P.key==="Enter"&&j()})]}),a.jsxs($u,{value:y,onValueChange:P=>w(P),children:[a.jsx(Fu,{className:"w-32",children:a.jsx(Uu,{})}),a.jsxs(zu,{children:[a.jsx(hr,{value:"member",children:"メンバー"}),a.jsx(hr,{value:"admin",children:"管理者"})]})]}),a.jsxs(Z,{onClick:j,disabled:!f.trim()||v,children:[a.jsx(nE,{className:"h-4 w-4 mr-2"}),v?"招待中...":"招待"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>_(!m),className:"flex items-center gap-2",children:[a.jsx(af,{className:"h-4 w-4"}),"アクセス権限を設定 ",m?"(閉じる)":"(開く)"]}),m&&a.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[a.jsx("h5",{className:"font-medium text-sm text-gray-700",children:"アクセス権限"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:sm.map(P=>a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Ca,{id:P.key,checked:x.includes(P.key),onCheckedChange:()=>N(P.key),disabled:y==="admin"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(At,{htmlFor:P.key,className:"text-sm font-medium",children:P.label}),a.jsx("p",{className:"text-xs text-gray-500",children:P.description})]})]},P.key))}),y==="admin"&&a.jsx("p",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded",children:"管理者は全ての機能にアクセスできます"})]})]})]})]}),o.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"招待中"}),a.jsx("div",{className:"space-y-2",children:o.map(P=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-yellow-200 rounded-full flex items-center justify-center",children:a.jsx(M2,{className:"h-4 w-4 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:P.invitee_email}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(ke,{className:E(P.role),children:S(P.role)}),P.scopes&&P.scopes.length>0&&a.jsxs("span",{className:"text-xs text-gray-500",children:[P.scopes.length,"個の権限"]})]})]})]}),a.jsx(ke,{variant:"outline",className:"text-yellow-700 border-yellow-300",children:"招待中"})]},P.id))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"メンバー一覧"}),i?a.jsx("div",{className:"text-center py-4 text-gray-500",children:"読み込み中..."}):s.length===0?a.jsx("div",{className:"text-center py-4 text-gray-500",children:"メンバーがいません"}):a.jsx("div",{className:"space-y-2",children:s.map(P=>{var F;return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:M(P.role)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:(F=P.user)==null?void 0:F.email}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(ke,{className:E(P.role),children:S(P.role)}),O(P.id)&&a.jsx(ke,{variant:"outline",className:"text-blue-700 border-blue-300",children:"あなた"})]})]})]}),I()&&!O(P.id)&&P.role!=="owner"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs($u,{value:P.role,onValueChange:D=>k(P.id,D),children:[a.jsx(Fu,{className:"w-24",children:a.jsx(Uu,{})}),a.jsxs(zu,{children:[a.jsx(hr,{value:"member",children:"メンバー"}),a.jsx(hr,{value:"admin",children:"管理者"})]})]}),a.jsx(Z,{variant:"outline",size:"sm",onClick:()=>C(P.id),className:"text-red-600 hover:text-red-700",children:a.jsx(a0,{className:"h-4 w-4"})})]})]},P.id)})})]})]})]})}):null}function XR({isOpen:e,onClose:t,projectName:n,onConfirm:r}){const[s,o]=te.useState(!1),[i,l]=te.useState(null),c=async()=>{o(!0),l(null);try{await r(),t()}catch(d){console.error("プロジェクト削除エラー:",d),l(d instanceof Error?d.message:"プロジェクトの削除に失敗しました")}finally{o(!1)}},u=()=>{l(null),t()};return a.jsx(pn,{open:e,onOpenChange:u,children:a.jsxs(mn,{className:"sm:max-w-[600px] bg-white",children:[a.jsxs(gn,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(uo,{className:"h-8 w-8 text-red-600"})}),a.jsx(vn,{className:"text-xl font-semibold text-gray-900",children:"プロジェクトを削除"}),a.jsxs(vs,{className:"text-base text-gray-600 mt-2",children:["プロジェクト「",a.jsx("span",{className:"font-semibold text-red-600",children:n}),"」を削除しますか？"]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(i0,{className:"h-6 w-6 text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-red-900 text-lg mb-3",children:"この操作は取り消せません"}),a.jsx("p",{className:"text-red-700 mb-4",children:"プロジェクトとそのすべてのデータが永久に削除されます。"}),a.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-4",children:[a.jsx("h5",{className:"font-medium text-red-900 mb-2",children:"削除されるデータ:"}),a.jsxs("ul",{className:"text-sm text-red-700 space-y-1",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),"プロジェクトの基本情報"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),"すべてのタスクと成果物"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),"プロジェクトメンバーの権限"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),"プロジェクトの履歴データ"]})]})]})]})]})}),i&&a.jsx("div",{className:"bg-red-50 border border-red-300 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(uo,{className:"h-4 w-4 text-red-600"}),a.jsx("p",{className:"text-sm font-medium text-red-700",children:i})]})})]}),a.jsxs(uf,{className:"gap-3 pt-6",children:[a.jsx(Z,{variant:"outline",onClick:u,disabled:s,className:"px-6 py-2",children:"キャンセル"}),a.jsx(Z,{variant:"destructive",onClick:c,disabled:s,className:"gap-2 px-6 py-2 bg-red-600 hover:bg-red-700",children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"削除中..."]}):a.jsxs(a.Fragment,{children:[a.jsx(lf,{className:"h-4 w-4"}),"プロジェクトを削除"]})})]})]})})}function QR({isOpen:e,onClose:t,projects:n,currentProject:r,onProjectSelect:s}){const o=i=>{s(i),t()};return a.jsx(pn,{open:e,onOpenChange:t,children:a.jsxs(mn,{className:"sm:max-w-lg",children:[a.jsx(gn,{children:a.jsxs(vn,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ga,{className:"h-5 w-5"}),"プロジェクトを切り替え"]})}),a.jsx("div",{className:"space-y-4",children:n.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ga,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"プロジェクトがありません"})]}):a.jsx("div",{className:"grid gap-3",children:n.map(i=>{const l=(r==null?void 0:r.id)===i.id;return a.jsx("div",{className:`
                      relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                      ${l?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 bg-white hover:border-gray-300 hover:shadow-md"}
                    `,onClick:()=>o(i),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:`font-semibold truncate ${l?"text-blue-700":"text-gray-900"}`,children:i.name}),l&&a.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"現在"})]}),i.description&&a.jsx("p",{className:`text-sm truncate ${l?"text-blue-600":"text-gray-500"}`,children:i.description})]}),a.jsx("div",{className:"flex items-center gap-2 ml-3",children:l?a.jsx(tf,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}):a.jsx(v2,{className:"h-4 w-4 text-gray-400 flex-shrink-0"})})]})},i.id)})})})]})})}function lw({className:e,...t}){return a.jsx("textarea",{"data-slot":"textarea",className:X("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function JR({isOpen:e,onClose:t,onCreateProject:n}){const[r,s]=te.useState(""),[o,i]=te.useState(""),[l,c]=te.useState(!1),[u,d]=te.useState(null),f=async()=>{if(!r.trim()){d("プロジェクト名を入力してください");return}c(!0),d(null);try{const{error:y}=await n(r.trim(),o.trim());if(y)throw y;s(""),i(""),t()}catch(y){console.error("プロジェクト作成エラー:",y),d(y instanceof Error?y.message:"プロジェクトの作成に失敗しました")}finally{c(!1)}},h=()=>{s(""),i(""),d(null),t()};return a.jsx(pn,{open:e,onOpenChange:h,children:a.jsxs(mn,{className:"sm:max-w-[500px]",children:[a.jsxs(gn,{children:[a.jsxs(vn,{className:"flex items-center gap-2",children:[a.jsx(Ao,{className:"h-5 w-5"}),"新規プロジェクト作成"]}),a.jsx(vs,{children:"新しいプロジェクトを作成します。プロジェクト名は必須です。"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(At,{htmlFor:"project-name",children:["プロジェクト名 ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(We,{id:"project-name",value:r,onChange:y=>s(y.target.value),placeholder:"プロジェクト名を入力",className:"focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(At,{htmlFor:"project-description",children:"説明（任意）"}),a.jsx(lw,{id:"project-description",value:o,onChange:y=>i(y.target.value),placeholder:"プロジェクトの説明を入力",rows:3,className:"focus:ring-blue-500 focus:border-blue-500"})]}),u&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:a.jsx("p",{className:"text-sm text-red-700",children:u})})]}),a.jsxs(uf,{className:"gap-2",children:[a.jsx(Z,{variant:"outline",onClick:h,disabled:l,children:"キャンセル"}),a.jsx(Z,{onClick:f,disabled:!r.trim()||l,className:"gap-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"作成中..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ao,{className:"h-4 w-4"}),"プロジェクトを作成"]})})]})]})})}function ZR(){const[e,t]=p.useState(""),[n,r]=p.useState(!1),[s,o]=p.useState(null),i=Pk(),l=async()=>{if(!e){o({success:!1,message:"メールアドレスを入力してください"});return}r(!0),o(null);try{const{error:c}=await Ek(e);if(c)o({success:!1,message:`エラー: ${c.message||"メール送信に失敗しました"}`});else{const u=i.enableSending?"テストメールの送信が完了しました。実際のメールを確認してください。":"テストメールの送信が完了しました。コンソールを確認してください。";o({success:!0,message:u})}}catch(c){o({success:!1,message:`予期しないエラー: ${c}`})}finally{r(!1)}};return a.jsxs(pn,{children:[a.jsx(ya,{asChild:!0,children:a.jsx(Z,{variant:"outline",size:"sm",children:"メール送信テスト"})}),a.jsxs(mn,{className:"sm:max-w-md",children:[a.jsx(gn,{children:a.jsx(vn,{children:"メール送信テスト"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs($e,{className:"border-blue-200 bg-blue-50",children:[a.jsx(Je,{className:"pb-2",children:a.jsx(Ze,{className:"text-sm text-blue-800",children:"設定状況"})}),a.jsxs(Ue,{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-blue-700",children:"APIキー:"}),a.jsx(ke,{variant:"default",className:"text-xs",children:"設定済み"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-blue-700",children:"送信元メール:"}),a.jsx("span",{className:"text-xs text-blue-700",children:i.fromEmail})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-blue-700",children:"メール送信:"}),a.jsx(ke,{variant:"default",className:"text-xs",children:"有効"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-blue-700",children:"環境:"}),a.jsx(ke,{variant:"outline",className:"text-xs",children:"本番環境"})]})]})]}),a.jsxs("div",{children:[a.jsx(At,{htmlFor:"email",children:"テスト用メールアドレス"}),a.jsx(We,{id:"email",type:"email",placeholder:"test@example.com",value:e,onChange:c=>t(c.target.value)})]}),a.jsx(Z,{onClick:l,disabled:n||!e||!i.hasApiKey,className:"w-full",children:n?"送信中...":"テストメールを送信"}),s&&a.jsxs($e,{className:s.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50",children:[a.jsx(Je,{className:"pb-2",children:a.jsx(Ze,{className:`text-sm ${s.success?"text-green-800":"text-red-800"}`,children:s.success?"成功":"エラー"})}),a.jsx(Ue,{children:a.jsx(ct,{className:s.success?"text-green-700":"text-red-700",children:s.message})})]}),a.jsxs("div",{className:"text-xs text-gray-500 space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"開発環境:"})," コンソールログにメール内容が表示されます"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"メール送信有効時:"})," 実際のメールが送信されます"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"設定変更:"})," .env.localのVITE_ENABLE_EMAIL_SENDINGを変更してください"]})]})]})]})]})}function eA({totalTasks:e,completedTasks:t,totalDeliverables:n,completedDeliverables:r,currentProject:s}){const{signOut:o,user:i}=Zn(),{projects:l,currentProject:c,selectProject:u,deleteProject:d,createProject:f}=Ho(),h=s||c,[y,w]=p.useState(!1),[x,b]=p.useState(!1),[v,g]=p.useState(!1),[m,_]=p.useState(!1),j=e>0?t/e*100:0,C=n>0?r/n*100:0,k=(j+C)/2,N=async()=>{await o()},S=()=>{w(!0)},E=()=>{b(!0)},M=async()=>{if(!h)throw new Error("プロジェクトが選択されていません");try{const{error:P}=await d(h.id);if(P)throw P;console.log("プロジェクトを削除しました:",h.name)}catch(P){throw console.error("プロジェクト削除エラー:",P),P}},I=()=>{g(!0)},O=P=>{console.log("プロジェクト切り替え:",P),u(P)};return a.jsxs("header",{className:"bg-white border-b border-gray-200 shadow-sm w-full",children:[a.jsx("div",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-gray-50 rounded-lg p-2 transition-colors",onClick:I,title:"プロジェクトを切り替え",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-sm",children:a.jsx(ga,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:h?h.name:"プロジェクトを選択"}),a.jsx("p",{className:"text-sm text-gray-500",children:h?h.description:"プロジェクトを選択してください"})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"全体進捗"}),a.jsx("div",{className:"text-xs text-gray-500",children:"プロジェクト全体"})]}),a.jsxs("div",{className:"w-24",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[a.jsxs("span",{className:"text-gray-600",children:[Math.round(k),"%"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Q2,{className:"h-3 w-3 text-green-500"}),a.jsx("span",{className:"text-green-600",children:"+5%"})]})]}),a.jsx(ji,{value:k,className:"h-2"})]})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"タスク"}),a.jsxs("div",{className:"text-xs text-gray-500",children:[t,"/",e," 完了"]})]}),a.jsxs("div",{className:"w-20",children:[a.jsxs("div",{className:"text-xs text-gray-600 mb-1 text-right",children:[Math.round(j),"%"]}),a.jsx(ji,{value:j,className:"h-2"})]})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"成果物"}),a.jsxs("div",{className:"text-xs text-gray-500",children:[r,"/",n," 完了"]})]}),a.jsxs("div",{className:"w-20",children:[a.jsxs("div",{className:"text-xs text-gray-600 mb-1 text-right",children:[Math.round(C),"%"]}),a.jsx(ji,{value:C,className:"h-2"})]})]}),a.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[a.jsxs("div",{className:"text-sm",children:[a.jsxs("div",{className:"font-medium text-gray-900",children:[Math.round(k),"%"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"進捗"})]}),a.jsx("div",{className:"w-16",children:a.jsx(ji,{value:k,className:"h-2"})})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-4 pl-4 border-l border-gray-200",children:[a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"通知",children:a.jsx(JC,{className:"h-5 w-5 text-gray-600"})}),a.jsxs(tm,{children:[a.jsx(nm,{asChild:!0,children:a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"設定",children:a.jsx(af,{className:"h-5 w-5 text-gray-600"})})}),a.jsxs(Ru,{align:"end",className:"w-56",children:[a.jsx(Au,{children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:"プロジェクト設定"}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:h?h.name:"プロジェクト管理"})]})}),a.jsx(lr,{}),a.jsxs(ar,{onClick:S,children:[a.jsx(cf,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"参加メンバー一覧"})]}),a.jsx(lr,{}),a.jsxs(ar,{onClick:I,children:[a.jsx(ga,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"プロジェクトを切り替え"})]}),a.jsxs(ar,{onClick:()=>_(!0),children:[a.jsx(Ao,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"新規プロジェクト作成"})]}),a.jsx(lr,{}),a.jsx(ZR,{}),a.jsx(lr,{}),a.jsxs(ar,{onClick:E,variant:"destructive",children:[a.jsx(lf,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"プロジェクトを削除"})]})]})]}),a.jsxs(tm,{children:[a.jsx(nm,{asChild:!0,children:a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"ユーザーメニュー",children:a.jsx(va,{className:"h-5 w-5 text-gray-600"})})}),a.jsxs(Ru,{align:"end",className:"w-56",children:[a.jsx(Au,{children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:i==null?void 0:i.email}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:"システム設計アシスタント"})]})}),a.jsx(lr,{}),a.jsxs(ar,{children:[a.jsx(ku,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"ヘルプ"})]}),a.jsx(lr,{}),a.jsxs(ar,{onClick:N,children:[a.jsx(A2,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"ログアウト"})]})]})]})]})]})]})}),a.jsx(YR,{isOpen:y,onClose:()=>w(!1)}),a.jsx(QR,{isOpen:v,onClose:()=>g(!1),projects:l,currentProject:h,onProjectSelect:O}),a.jsx(XR,{isOpen:x,onClose:()=>b(!1),projectName:(h==null?void 0:h.name)||"プロジェクト",onConfirm:M}),a.jsx(JR,{isOpen:m,onClose:()=>_(!1),onCreateProject:async(P,F)=>{const{error:D}=await f(P,F);return D||console.log("新規プロジェクトを作成しました"),{error:D}}})]})}function tA({phase:e}){const t=e.tasks.filter(o=>o.status==="completed").length,n=e.tasks.length,r=e.deliverables.filter(o=>o.status==="completed").length,s=e.deliverables.length;return a.jsx($e,{className:"rounded-2xl border-gray-200",children:a.jsx(Ue,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(Be,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"タスク進捗"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[t,"/",n," 完了"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(Be,{className:"h-4 w-4 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"成果物"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[r,"/",s," 完了"]})]})]})]})})})}function nA({phase:e,onTaskUpdate:t}){const n=s=>{switch(s){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}},r=s=>{switch(s){case"high":return"高";case"medium":return"中";case"low":return"低";default:return"低"}};return a.jsxs($e,{children:[a.jsxs(Je,{children:[a.jsx(Ze,{children:"主要タスク"}),a.jsx(ct,{children:"このフェーズで実行すべきタスクです"})]}),a.jsx(Ue,{className:"space-y-4",children:e.tasks.map(s=>{const o=s.status==="completed";return a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[a.jsx(Ca,{checked:o,onCheckedChange:i=>t(s.id,!!i),className:"mt-1"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:`text-sm ${o?"line-through text-gray-500":""}`,children:s.title}),a.jsx(ke,{variant:n(s.priority),className:"text-xs",children:r(s.priority)})]}),a.jsx("p",{className:`text-xs text-gray-600 ${o?"line-through":""}`,children:s.description})]})]},s.id)})})]})}function rA({phase:e,onStatusUpdate:t}){const n=s=>{switch(s){case"completed":return"default";case"in-progress":return"secondary";case"pending":return"outline";default:return"outline"}},r=s=>{switch(s){case"completed":return"完了";case"in-progress":return"進行中";case"pending":return"未着手";default:return"未着手"}};return a.jsxs($e,{children:[a.jsxs(Je,{children:[a.jsx(Ze,{children:"主要成果物"}),a.jsx(ct,{children:"このフェーズで作成すべき成果物です"})]}),a.jsx(Ue,{className:"space-y-4",children:e.deliverables.map(s=>a.jsxs("div",{className:"p-3 border rounded-lg space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm",children:s.title}),a.jsx(ke,{variant:n(s.status),children:r(s.status)})]}),a.jsx("p",{className:"text-xs text-gray-600",children:s.description}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"ステータス:"}),a.jsxs($u,{value:s.status,onValueChange:o=>t(s.id,o),children:[a.jsx(Fu,{className:"w-[120px] h-8",children:a.jsx(Uu,{})}),a.jsxs(zu,{children:[a.jsx(hr,{value:"pending",children:"未着手"}),a.jsx(hr,{value:"in-progress",children:"進行中"}),a.jsx(hr,{value:"completed",children:"完了"})]})]})]})]},s.id))})]})}var wl="Tabs",[sA,_I]=St(wl,[fl]),cw=fl(),[oA,Tf]=sA(wl),uw=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=qo(l),[f,h]=Yt({prop:r,onChange:s,defaultProp:o??"",caller:wl});return a.jsx(oA,{scope:n,baseId:xt(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:a.jsx(W.div,{dir:d,"data-orientation":i,...u,ref:t})})});uw.displayName=wl;var dw="TabsList",fw=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Tf(dw,n),i=cw(n);return a.jsx(H0,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(W.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});fw.displayName=dw;var hw="TabsTrigger",pw=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Tf(hw,n),l=cw(n),c=vw(i.baseId,r),u=yw(i.baseId,r),d=r===i.value;return a.jsx(q0,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(W.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:U(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:U(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:U(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});pw.displayName=hw;var mw="TabsContent",gw=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=Tf(mw,n),c=vw(l.baseId,r),u=yw(l.baseId,r),d=r===l.value,f=p.useRef(d);return p.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Zt,{present:s||d,children:({present:h})=>a.jsx(W.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});gw.displayName=mw;function vw(e,t){return`${e}-trigger-${t}`}function yw(e,t){return`${e}-content-${t}`}var iA=uw,aA=fw,lA=pw,cA=gw;function uA({className:e,...t}){return a.jsx(iA,{"data-slot":"tabs",className:X("flex flex-col gap-2",e),...t})}function dA({className:e,...t}){return a.jsx(aA,{"data-slot":"tabs-list",className:X("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function om({className:e,...t}){return a.jsx(lA,{"data-slot":"tabs-trigger",className:X("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function im({className:e,...t}){return a.jsx(cA,{"data-slot":"tabs-content",className:X("flex-1 outline-none",e),...t})}const Bu={"requirements-definition":{label:"要件定義",color:"bg-blue-500"},"basic-design":{label:"基本設計",color:"bg-green-500"},"external-design":{label:"外部設計",color:"bg-purple-500"},"development-prep":{label:"開発準備",color:"bg-orange-500"},other:{label:"その他",color:"bg-gray-500"}},am=["最新版","Draft","Review","Approved","Archived"];function fA({document:e,onEdit:t,onDelete:n,onDownload:r}){const s=Bu[e.type];return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate",children:e.name}),e.isLatest&&a.jsx(ke,{variant:"default",className:"text-xs rounded-full bg-green-500 hover:bg-green-600",children:"最新版"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx(ke,{variant:"outline",className:"text-xs rounded-full",children:s.label}),a.jsx("span",{children:"•"}),a.jsx("span",{children:formatFileSize(e.size)}),a.jsx("span",{children:"•"}),a.jsxs("span",{children:["更新: ",formatDateTimeShort(e.updateDate)]})]})]})}),e.description&&a.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:e.description}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>r(e),className:"h-8 px-3 text-xs",children:[a.jsx(sf,{className:"h-3 w-3 mr-1"}),"ダウンロード"]}),a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>t(e),className:"h-8 px-3 text-xs",children:[a.jsx(G2,{className:"h-3 w-3 mr-1"}),"編集"]}),a.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>n(e.id),className:"h-8 px-3 text-xs text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[a.jsx(lf,{className:"h-3 w-3 mr-1"}),"削除"]})]})]})}function hA({phaseId:e}){const[t,n]=p.useState([]),[r,s]=p.useState(""),[o,i]=p.useState("all"),[l,c]=p.useState(!1),[u,d]=p.useState(null),f=p.useRef(null),[h,y]=p.useState({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1}),[w,x]=p.useState(""),b=S=>{const E=S.target.files;E&&(Array.from(E).forEach(M=>{const I=new FileReader;I.onload=O=>{var q;const P=(q=O.target)==null?void 0:q.result,F=new Date,D={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:M.name,type:h.type,size:M.size,uploadDate:F,updateDate:F,author:"Current User",content:P,description:h.description,tags:h.tags,isLatest:h.isLatest};h.isLatest&&n(T=>T.map(R=>R.name===M.name?{...R,isLatest:!1}:R)),n(T=>[...T,D])},I.readAsText(M)}),c(!1),y({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1}))},v=()=>{if(!h.name.trim())return;const S=new Date,E={id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:h.name,type:h.type,size:new Blob([h.content]).size,uploadDate:S,updateDate:S,author:"Current User",content:h.content,description:h.description,tags:h.tags,isLatest:h.isLatest};h.isLatest&&n(M=>M.map(I=>I.name===h.name?{...I,isLatest:!1}:I)),n(M=>[...M,E]),c(!1),y({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1})},g=S=>{n(E=>E.filter(M=>M.id!==S))},m=S=>{const E=new Blob([S.content||""],{type:"text/plain"}),M=URL.createObjectURL(E),I=document.createElement("a");I.href=M,I.download=S.name,I.click(),URL.revokeObjectURL(M)},_=S=>{d(S),y({name:S.name,type:S.type,description:S.description||"",content:S.content||"",tags:S.tags,isLatest:S.isLatest})},j=()=>{if(!u)return;const S=new Date;h.isLatest&&n(E=>E.map(M=>M.name===h.name&&M.id!==u.id?{...M,isLatest:!1}:M)),n(E=>E.map(M=>M.id===u.id?{...M,name:h.name,type:h.type,description:h.description,content:h.content,size:new Blob([h.content]).size,updateDate:S,tags:h.tags,isLatest:h.isLatest}:M)),d(null),c(!1),y({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1})},C=S=>{S&&!h.tags.includes(S)&&y(E=>({...E,tags:[...E.tags,S]})),x("")},k=S=>{y(E=>({...E,tags:E.tags.filter(M=>M!==S)}))},N=t.filter(S=>{var I;const E=S.name.toLowerCase().includes(r.toLowerCase())||((I=S.description)==null?void 0:I.toLowerCase().includes(r.toLowerCase()))||S.tags.some(O=>O.toLowerCase().includes(r.toLowerCase())),M=o==="all"||S.type===o;return E&&M}).sort((S,E)=>new Date(E.updateDate).getTime()-new Date(S.updateDate).getTime());return t.filter(S=>S.isLatest).length,a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ドキュメント管理"}),a.jsxs(Z,{onClick:()=>c(!0),size:"sm",className:"h-8 px-3",children:[a.jsx(Ao,{className:"h-4 w-4 mr-1"}),"追加"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(s0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(We,{placeholder:"Q 検索...",value:r,onChange:S=>s(S.target.value),className:"pl-10 h-9"})]}),a.jsxs("select",{value:o,onChange:S=>i(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"all",children:"すべての種別"}),a.jsx("option",{value:"requirements-definition",children:"要件定義"}),a.jsx("option",{value:"basic-design",children:"基本設計"}),a.jsx("option",{value:"external-design",children:"外部設計"}),a.jsx("option",{value:"development-prep",children:"開発準備"}),a.jsx("option",{value:"other",children:"その他"})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:N.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(Qt,{className:"h-8 w-8 text-gray-400"})}),a.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"ドキュメントなし"}),a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"追加してください"}),a.jsxs(Z,{onClick:()=>c(!0),variant:"outline",size:"sm",children:[a.jsx(Ao,{className:"h-4 w-4 mr-2"}),"ドキュメントを追加"]})]}):a.jsx("div",{className:"space-y-3",children:N.map(S=>a.jsx(fA,{document:S,onEdit:_,onDelete:g,onDownload:m},S.id))})}),a.jsx(pn,{open:l,onOpenChange:c,children:a.jsxs(mn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(gn,{children:[a.jsx(vn,{className:"text-xl",children:u?"ドキュメント編集":"新しいドキュメント"}),a.jsx(vs,{children:"ファイルをアップロードするか、新規作成してください"})]}),a.jsxs(uA,{defaultValue:"create",className:"w-full",children:[a.jsxs(dA,{className:"grid w-full grid-cols-2 mb-6",children:[a.jsx(om,{value:"create",children:"新規作成"}),a.jsx(om,{value:"upload",disabled:!!u,children:"ファイルアップロード"})]}),a.jsxs(im,{value:"create",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"ドキュメント名"}),a.jsx(We,{value:h.name,onChange:S=>y(E=>({...E,name:S.target.value})),placeholder:"ドキュメント名を入力",className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"種別"}),a.jsx("select",{value:h.type,onChange:S=>y(E=>({...E,type:S.target.value})),className:"w-full p-2 border border-gray-200 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Object.entries(Bu).map(([S,{label:E}])=>a.jsx("option",{value:S,children:E},S))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"説明"}),a.jsx(We,{value:h.description,onChange:S=>y(E=>({...E,description:S.target.value})),placeholder:"ドキュメントの説明を入力",className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"タグ"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:h.tags.map(S=>a.jsxs(ke,{variant:"secondary",className:"text-xs rounded-full",children:[S,a.jsx("button",{onClick:()=>k(S),className:"ml-1 text-red-500 hover:text-red-700",children:"×"})]},S))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(We,{value:w,onChange:S=>x(S.target.value),placeholder:"新しいタグを入力",className:"rounded-xl",onKeyPress:S=>S.key==="Enter"&&C(w)}),a.jsx(Z,{type:"button",onClick:()=>C(w),disabled:!w.trim(),className:"rounded-xl",children:"追加"})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:am.map(S=>a.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>C(S),disabled:h.tags.includes(S),className:"text-xs rounded-full",children:S},S))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"isLatest",checked:h.isLatest,onChange:S=>y(E=>({...E,isLatest:S.target.checked})),className:"rounded"}),a.jsx("label",{htmlFor:"isLatest",className:"text-sm font-medium",children:"最新版としてマークする"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"内容"}),a.jsx(lw,{value:h.content,onChange:S=>y(E=>({...E,content:S.target.value})),placeholder:"ドキュメントの内容を入力",rows:20,className:"rounded-xl resize-none"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Z,{onClick:u?j:v,disabled:!h.name.trim(),className:"rounded-full bg-blue-600 hover:bg-blue-700",children:u?"更新":"作成"}),a.jsx(Z,{variant:"outline",onClick:()=>{c(!1),d(null),y({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1})},className:"rounded-full",children:"キャンセル"})]})]}),a.jsxs(im,{value:"upload",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"種別"}),a.jsx("select",{value:h.type,onChange:S=>y(E=>({...E,type:S.target.value})),className:"w-full p-2 border border-gray-200 rounded-xl bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Object.entries(Bu).map(([S,{label:E}])=>a.jsx("option",{value:S,children:E},S))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"説明"}),a.jsx(We,{value:h.description,onChange:S=>y(E=>({...E,description:S.target.value})),placeholder:"ドキュメントの説明を入力",className:"rounded-xl"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"タグ"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:h.tags.map(S=>a.jsxs(ke,{variant:"secondary",className:"text-xs rounded-full",children:[S,a.jsx("button",{onClick:()=>k(S),className:"ml-1 text-red-500 hover:text-red-700",children:"×"})]},S))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(We,{value:w,onChange:S=>x(S.target.value),placeholder:"新しいタグを入力",className:"rounded-xl",onKeyPress:S=>S.key==="Enter"&&C(w)}),a.jsx(Z,{type:"button",onClick:()=>C(w),disabled:!w.trim(),className:"rounded-xl",children:"追加"})]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:am.map(S=>a.jsx(Z,{type:"button",variant:"outline",size:"sm",onClick:()=>C(S),disabled:h.tags.includes(S),className:"text-xs rounded-full",children:S},S))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"isLatestUpload",checked:h.isLatest,onChange:S=>y(E=>({...E,isLatest:S.target.checked})),className:"rounded"}),a.jsx("label",{htmlFor:"isLatestUpload",className:"text-sm font-medium",children:"最新版としてマークする"})]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-12 text-center cursor-pointer hover:border-gray-400 transition-colors bg-gray-50",onClick:()=>{var S;return(S=f.current)==null?void 0:S.click()},children:[a.jsx(eE,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-xl mb-2",children:"ファイルをドラッグ&ドロップ"}),a.jsx("p",{className:"text-sm text-gray-500",children:"または、クリックしてファイルを選択"}),a.jsx("input",{ref:f,type:"file",multiple:!0,onChange:b,className:"hidden",accept:".txt,.md,.doc,.docx,.pdf"})]})]})]})]})})]})}const lm=[{id:1,title:"要件定義",description:"「何を作るのか」を明確にし、システムに求められる機能や非機能要件を具体化する",duration:"2-6週間",keyActivities:["プロジェクトの目的と目標の明確化","現状業務の分析と課題特定","ユーザーヒアリングと要求収集","機能要件の洗い出しと詳細化","非機能要件の定義","要件の優先順位付け"],deliverables:["企画書","要件定義書","業務フロー図（As-Is/To-Be）","ユーザーストーリー","機能一覧"],tips:["要件ヒアリングでは「なぜ」を深く掘り下げる","MoSCoW法で要件の優先順位を明確化","ステークホルダー全員の合意を文書で確認"]},{id:2,title:"基本設計",description:"要件定義で定義された内容を、システムとしてどう実現するかを具体化する",duration:"2-4週間",keyActivities:["システム全体構成設計","データベース論理・物理設計","機能概要設計","外部インターフェース設計","非機能要件の詳細化"],deliverables:["基本設計書","システム構成図","データベース設計書","テスト計画書（概要）"],tips:["ステークホルダーとの定期的なレビューを実施","アーキテクチャの選択理由を文書化","パフォーマンス要件を数値で明確化"]},{id:3,title:"外部設計",description:"基本設計の内容を、ユーザーにとって使いやすい形に落とし込む",duration:"3-5週間",keyActivities:["ユーザーインターフェース設計","ユーザーエクスペリエンス設計","入力・出力情報の詳細設計","エラーハンドリングの検討","帳票設計"],deliverables:["画面設計書","ワイヤーフレーム・プロトタイプ","入出力設計書","UI/UX仕様書"],tips:["ユーザビリティテストを早期実施","アクセシビリティを考慮した設計","レスポンシブデザインの検討"]},{id:4,title:"開発準備",description:"開発をスムーズに開始するための最終準備",duration:"1-2週間",keyActivities:["開発環境の構築","開発技術の最終決定","バージョン管理システムの導入","コーディング規約の策定","プロジェクト管理ツールの準備"],deliverables:["開発環境構築手順書","コーディング規約","開発スケジュール詳細","チーム開発ガイドライン"],tips:["CI/CDパイプラインの早期構築","コードレビュープロセスの確立","チーム内のコミュニケーションルール策定"]}],pA=[{title:"段階的な開発アプローチ",description:"各フェーズを順序立てて進め、前の段階の成果物を確実に固めてから次へ進む",icon:t0},{title:"ステークホルダー中心の開発",description:"関係者全員を巻き込み、合意形成を重視しながらプロジェクトを進める",icon:cf},{title:"継続的な改善とレビュー",description:"定期的な振り返りと改善を通じて、品質向上とリスク軽減を図る",icon:F2},{title:"透明性のある情報共有",description:"進捗状況、課題、決定事項を関係者全員に適切に共有する",icon:n0},{title:"品質重視の開発",description:"テストやレビューを通じて品質を確保し、保守性の高いシステムを構築する",icon:o0},{title:"包括的なドキュメント化",description:"開発プロセスと成果物を適切に文書化し、ナレッジを蓄積する",icon:Qt}],mA=[{title:"要件の曖昧さ",description:"要件が曖昧なまま設計を進めると、後で大幅な修正が必要になる",solution:"具体的で測定可能な要件を定義し、不明点は必ず確認する"},{title:"ステークホルダーとの認識齟齬",description:"関係者間で認識が異なると、プロジェクトが迷走する",solution:"定期的なミーティングと文書による確認を徹底する"},{title:"技術選定の遅れ",description:"技術選定が遅れると、設計や開発に影響する",solution:"早期に技術調査を行い、PoC（概念実証）で検証する"},{title:"ドキュメントの不備",description:"不十分なドキュメントは、後の開発や保守で問題となる",solution:"テンプレートを活用し、レビューを通じて品質を確保する"}];function gA(){return a.jsxs("div",{className:"space-y-8",children:[a.jsxs($e,{children:[a.jsxs(Je,{children:[a.jsxs(Ze,{className:"flex items-center gap-2",children:[a.jsx(il,{className:"h-6 w-6"}),"システム開発の基本原則"]}),a.jsx(ct,{children:"成功するシステム開発プロジェクトのための基本的な考え方と原則"})]}),a.jsx(Ue,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:pA.map((e,t)=>{const n=e.icon;return a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(n,{className:"h-5 w-5 text-blue-600 mt-1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:e.title}),a.jsx("p",{className:"text-sm text-gray-600",children:e.description})]})]})},t)})})})]}),a.jsxs($e,{children:[a.jsxs(Je,{children:[a.jsxs(Ze,{className:"flex items-center gap-2",children:[a.jsx(d2,{className:"h-6 w-6"}),"フェーズ別実行ガイド"]}),a.jsx(ct,{children:"各フェーズの詳細な実行手順と成果物"})]}),a.jsx(Ue,{children:a.jsx("div",{className:"space-y-8",children:lm.map((e,t)=>a.jsxs("div",{className:"relative",children:[t<lm.length-1&&a.jsx("div",{className:"absolute left-4 top-16 w-0.5 h-full bg-gray-200"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:e.id})}),a.jsxs("div",{className:"flex-1 pb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:e.title}),a.jsx(ke,{variant:"outline",children:e.duration})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:e.description}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"主要活動"}),a.jsx("ul",{className:"space-y-1",children:e.keyActivities.map((n,r)=>a.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[a.jsx(Be,{className:"h-3 w-3 text-green-500 mt-1 flex-shrink-0"}),n]},r))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"主要成果物"}),a.jsx("ul",{className:"space-y-1",children:e.deliverables.map((n,r)=>a.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[a.jsx(Qt,{className:"h-3 w-3 text-blue-500 mt-1 flex-shrink-0"}),n]},r))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"重要なポイント"}),a.jsx("ul",{className:"space-y-1",children:e.tips.map((n,r)=>a.jsxs("li",{className:"text-sm text-gray-600 flex items-start gap-2",children:[a.jsx(E2,{className:"h-3 w-3 text-yellow-500 mt-1 flex-shrink-0"}),n]},r))})]})]})]})]})]},e.id))})})]}),a.jsxs($e,{children:[a.jsxs(Je,{children:[a.jsxs(Ze,{className:"flex items-center gap-2",children:[a.jsx(i0,{className:"h-6 w-6"}),"よくある課題と対策"]}),a.jsx(ct,{children:"システム開発でよく発生する問題とその解決策"})]}),a.jsx(Ue,{children:a.jsx("div",{className:"space-y-4",children:mA.map((e,t)=>a.jsxs("div",{className:"p-4 border border-orange-200 rounded-lg bg-orange-50",children:[a.jsx("h4",{className:"text-sm font-medium text-orange-900 mb-2",children:e.title}),a.jsx("p",{className:"text-sm text-orange-800 mb-3",children:e.description}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(ke,{variant:"outline",className:"text-xs mt-0.5",children:"解決策"}),a.jsx("p",{className:"text-sm text-green-800",children:e.solution})]})]},t))})})]}),a.jsxs($e,{children:[a.jsxs(Je,{children:[a.jsxs(Ze,{className:"flex items-center gap-2",children:[a.jsx(Be,{className:"h-6 w-6"}),"プロジェクト成功のチェックリスト"]}),a.jsx(ct,{children:"各フェーズで確認すべき項目"})]}),a.jsx(Ue,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-medium text-green-900 mb-3",children:"フェーズ完了時の確認項目"}),a.jsxs("ul",{className:"space-y-2 text-sm text-green-800",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Be,{className:"h-4 w-4"}),"すべての成果物が作成され、レビューが完了している"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Be,{className:"h-4 w-4"}),"ステークホルダーの承認が得られている"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Be,{className:"h-4 w-4"}),"次フェーズの前提条件が満たされている"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Be,{className:"h-4 w-4"}),"リスクや課題が特定され、対策が検討されている"]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Be,{className:"h-4 w-4"}),"必要な文書が整備され、チームで共有されている"]})]})]})})})]})]})}var bl="Collapsible",[vA,xw]=St(bl),[yA,Rf]=vA(bl),ww=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c,u]=Yt({prop:r,defaultProp:s??!1,onChange:i,caller:bl});return a.jsx(yA,{scope:n,disabled:o,contentId:xt(),open:c,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),children:a.jsx(W.div,{"data-state":If(c),"data-disabled":o?"":void 0,...l,ref:t})})});ww.displayName=bl;var bw="CollapsibleTrigger",_w=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Rf(bw,n);return a.jsx(W.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":If(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:U(e.onClick,s.onOpenToggle)})});_w.displayName=bw;var Af="CollapsibleContent",jw=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Rf(Af,e.__scopeCollapsible);return a.jsx(Zt,{present:n||s.open,children:({present:o})=>a.jsx(xA,{...r,ref:t,present:o})})});jw.displayName=Af;var xA=p.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,i=Rf(Af,n),[l,c]=p.useState(r),u=p.useRef(null),d=ne(t,u),f=p.useRef(0),h=f.current,y=p.useRef(0),w=y.current,x=i.open||l,b=p.useRef(x),v=p.useRef(void 0);return p.useEffect(()=>{const g=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(g)},[]),Ie(()=>{const g=u.current;if(g){v.current=v.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const m=g.getBoundingClientRect();f.current=m.height,y.current=m.width,b.current||(g.style.transitionDuration=v.current.transitionDuration,g.style.animationName=v.current.animationName),c(r)}},[i.open,r]),a.jsx(W.div,{"data-state":If(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!x,...o,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:x&&s})});function If(e){return e?"open":"closed"}var wA=ww,bA=_w,_A=jw,Ut="Accordion",jA=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Mf,SA,kA]=al(Ut),[_l,jI]=St(Ut,[kA,xw]),Of=xw(),Sw=te.forwardRef((e,t)=>{const{type:n,...r}=e,s=r,o=r;return a.jsx(Mf.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?a.jsx(PA,{...o,ref:t}):a.jsx(EA,{...s,ref:t})})});Sw.displayName=Ut;var[kw,NA]=_l(Ut),[Nw,CA]=_l(Ut,{collapsible:!1}),EA=te.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...i}=e,[l,c]=Yt({prop:n,defaultProp:r??"",onChange:s,caller:Ut});return a.jsx(kw,{scope:e.__scopeAccordion,value:te.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:te.useCallback(()=>o&&c(""),[o,c]),children:a.jsx(Nw,{scope:e.__scopeAccordion,collapsible:o,children:a.jsx(Cw,{...i,ref:t})})})}),PA=te.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...o}=e,[i,l]=Yt({prop:n,defaultProp:r??[],onChange:s,caller:Ut}),c=te.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=te.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(kw,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:a.jsx(Nw,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(Cw,{...o,ref:t})})})}),[TA,jl]=_l(Ut),Cw=te.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:o="vertical",...i}=e,l=te.useRef(null),c=ne(l,t),u=SA(n),f=qo(s)==="ltr",h=U(e.onKeyDown,y=>{var N;if(!jA.includes(y.key))return;const w=y.target,x=u().filter(S=>{var E;return!((E=S.ref.current)!=null&&E.disabled)}),b=x.findIndex(S=>S.ref.current===w),v=x.length;if(b===-1)return;y.preventDefault();let g=b;const m=0,_=v-1,j=()=>{g=b+1,g>_&&(g=m)},C=()=>{g=b-1,g<m&&(g=_)};switch(y.key){case"Home":g=m;break;case"End":g=_;break;case"ArrowRight":o==="horizontal"&&(f?j():C());break;case"ArrowDown":o==="vertical"&&j();break;case"ArrowLeft":o==="horizontal"&&(f?C():j());break;case"ArrowUp":o==="vertical"&&C();break}const k=g%v;(N=x[k].ref.current)==null||N.focus()});return a.jsx(TA,{scope:n,disabled:r,direction:s,orientation:o,children:a.jsx(Mf.Slot,{scope:n,children:a.jsx(W.div,{...i,"data-orientation":o,ref:c,onKeyDown:r?void 0:h})})})}),Ea="AccordionItem",[RA,Df]=_l(Ea),Ew=te.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...s}=e,o=jl(Ea,n),i=NA(Ea,n),l=Of(n),c=xt(),u=r&&i.value.includes(r)||!1,d=o.disabled||e.disabled;return a.jsx(RA,{scope:n,open:u,disabled:d,triggerId:c,children:a.jsx(wA,{"data-orientation":o.orientation,"data-state":Mw(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(r):i.onItemClose(r)}})})});Ew.displayName=Ea;var Pw="AccordionHeader",Tw=te.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=jl(Ut,n),o=Df(Pw,n);return a.jsx(W.h3,{"data-orientation":s.orientation,"data-state":Mw(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Tw.displayName=Pw;var Wu="AccordionTrigger",Rw=te.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=jl(Ut,n),o=Df(Wu,n),i=CA(Wu,n),l=Of(n);return a.jsx(Mf.ItemSlot,{scope:n,children:a.jsx(bA,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...l,...r,ref:t})})});Rw.displayName=Wu;var Aw="AccordionContent",Iw=te.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,s=jl(Ut,n),o=Df(Aw,n),i=Of(n);return a.jsx(_A,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...i,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Iw.displayName=Aw;function Mw(e){return e?"open":"closed"}var AA=Sw,IA=Ew,MA=Tw,OA=Rw,DA=Iw;function cm({...e}){return a.jsx(AA,{"data-slot":"accordion",...e})}function um({className:e,...t}){return a.jsx(IA,{"data-slot":"accordion-item",className:X("border-b last:border-b-0",e),...t})}function dm({className:e,children:t,...n}){return a.jsx(MA,{className:"flex",children:a.jsxs(OA,{"data-slot":"accordion-trigger",className:X("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,a.jsx(nf,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function fm({className:e,children:t,...n}){return a.jsx(DA,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...n,children:a.jsx("div",{className:X("pt-0 pb-4",e),children:t})})}function LA({phases:e}){const[t,n]=p.useState({}),r=e.flatMap(w=>w.deliverables.map(x=>({id:`${w.id}-${x.id}`,title:x.title,description:x.description,phaseId:w.id,phaseName:w.title,completed:x.status==="completed",required:!0}))),s=[{id:"stakeholder-approval",title:"ステークホルダー承認",description:"各フェーズの成果物についてステークホルダーの承認を得ている",phaseId:"all",phaseName:"全フェーズ",completed:!1,required:!0},{id:"risk-assessment",title:"リスク評価",description:"各フェーズで特定されたリスクと対策が文書化されている",phaseId:"all",phaseName:"全フェーズ",completed:!1,required:!0},{id:"quality-review",title:"品質レビュー",description:"すべての成果物について品質レビューが完了している",phaseId:"all",phaseName:"全フェーズ",completed:!1,required:!0},{id:"documentation-complete",title:"文書化完了",description:"設計の背景、理由、制約事項が適切に文書化されている",phaseId:"all",phaseName:"全フェーズ",completed:!1,required:!0}],o=[...r,...s],i=(w,x)=>{n(b=>({...b,[w]:x}))},l=w=>w.completed?"completed":t[w.id]?"checked":"pending",c=o.filter(w=>w.completed||t[w.id]).length,u=o.length,d=c/u*100,f=e.reduce((w,x)=>(w[x.id]=o.filter(b=>b.phaseId===x.id),w),{}),h=o.filter(w=>w.phaseId==="all"),y=w=>{const x=l(w),b=x==="completed"||x==="checked";return a.jsxs("div",{className:`flex items-start gap-4 p-4 rounded-xl border transition-all duration-200 hover:shadow-sm ${b?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:[a.jsx("div",{className:"flex items-center pt-1",children:x==="completed"?a.jsx(Be,{className:"h-5 w-5 text-green-600"}):a.jsx(Ca,{checked:x==="checked",onCheckedChange:v=>i(w.id,v),className:"h-5 w-5 rounded-full border-2"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:`text-sm font-medium transition-all duration-200 ${b?"text-green-800 line-through":"text-gray-900"}`,children:w.title}),a.jsx("p",{className:`text-xs mt-1 transition-all duration-200 ${b?"text-green-600":"text-gray-500"}`,children:w.description})]})]},w.id)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"完了状況"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-700",children:[c,"/",u," 項目完了"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"全体の進捗"})]}),a.jsx("div",{className:"w-14 h-14 rounded-full bg-white border-2 border-blue-200 flex items-center justify-center shadow-sm",children:a.jsxs("span",{className:"text-base font-bold text-blue-600",children:[Math.round(d),"%"]})})]})]}),a.jsx("div",{className:"w-full bg-blue-100 rounded-full h-4",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-4 rounded-full transition-all duration-500 ease-out",style:{width:`${d}%`}})})]})}),a.jsxs($e,{children:[a.jsxs(Je,{children:[a.jsx(Ze,{children:"フェーズ別成果物"}),a.jsx(ct,{children:"各フェーズで作成すべき成果物の一覧"})]}),a.jsx(Ue,{children:a.jsx(cm,{type:"multiple",className:"w-full space-y-2",children:e.map(w=>{const x=f[w.id]||[],b=x.filter(v=>v.completed||t[v.id]).length;return a.jsxs(um,{value:w.id,className:"border rounded-lg px-4",children:[a.jsx(dm,{className:"hover:no-underline",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:w.title})}),a.jsxs(ke,{variant:b===x.length?"default":"outline",className:"rounded-full",children:[b,"/",x.length]})]})}),a.jsx(fm,{className:"pt-0 pb-4",children:a.jsx("div",{className:"space-y-3",children:x.map(y)})})]},w.id)})})})]}),h.length>0&&a.jsxs($e,{children:[a.jsxs(Je,{children:[a.jsx(Ze,{className:"text-orange-900",children:"重要な確認項目"}),a.jsx(ct,{children:"プロジェクト全体を通して確認すべき必須項目"})]}),a.jsx(Ue,{children:a.jsx(cm,{type:"single",collapsible:!0,className:"w-full",children:a.jsxs(um,{value:"general-items",className:"border rounded-lg px-4",children:[a.jsx(dm,{className:"hover:no-underline",children:a.jsxs("div",{className:"flex items-center justify-between w-full pr-4",children:[a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("h3",{className:"text-lg font-medium text-orange-900",children:"プロジェクト全体の確認事項"})}),a.jsx(ke,{variant:"outline",className:"rounded-full border-orange-300 text-orange-700",children:"必須"})]})}),a.jsx(fm,{className:"pt-0 pb-4",children:a.jsx("div",{className:"space-y-3",children:h.map(w=>{const b=l(w)==="checked";return a.jsxs("div",{className:`flex items-start gap-4 p-4 rounded-xl border transition-all duration-200 hover:shadow-sm ${b?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200 hover:bg-orange-100"}`,children:[a.jsx("div",{className:"flex items-center pt-1",children:a.jsx(Ca,{checked:b,onCheckedChange:v=>i(w.id,v),className:"h-5 w-5 rounded-full border-2"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:`text-sm font-medium transition-all duration-200 ${b?"text-green-800 line-through":"text-orange-900"}`,children:w.title}),a.jsx("p",{className:`text-xs mt-1 transition-all duration-200 ${b?"text-green-600":"text-orange-700"}`,children:w.description})]})]},w.id)})})})]})})})]}),d===100&&a.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-200",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:a.jsx(Be,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-green-900",children:"おめでとうございます！"}),a.jsx("p",{className:"text-sm text-green-700",children:"すべての項目が完了しました。開発フェーズに進む準備が整いました。"})]})]})})]})}const $A=[{id:"project-proposal-template",title:"企画書テンプレート",description:"システム開発の目的、ターゲット、期待効果、ビジネスゴールを整理するための企画書テンプレート。",category:"requirements-definition",type:"document",icon:il,difficulty:"intermediate",content:`# システム開発企画書

## 1. プロジェクト概要
### 1.1 プロジェクト名
[プロジェクト名を記載]

### 1.2 開発期間
- 開始予定日: [YYYY/MM/DD]
- 完了予定日: [YYYY/MM/DD]
- 開発期間: [X]ヶ月

### 1.3 プロジェクト担当者
- プロジェクトマネージャー: [氏名]
- システムアーキテクト: [氏名]
- 開発リーダー: [氏名]

## 2. 背景・目的
### 2.1 現状の課題
[現在の業務や既存システムの課題を具体的に記載]
- 課題1: [詳細]
- 課題2: [詳細]
- 課題3: [詳細]

### 2.2 プロジェクトの目的
[このシステム開発によって解決したい課題と目標を記載]
1. [目的1]
2. [目的2]
3. [目的3]

### 2.3 期待される効果
[システム導入後に期待される効果を定量的・定性的に記載]
- 定量的効果:
  - 処理時間短縮: [XX]%削減
  - コスト削減: [XX]万円/年
  - 生産性向上: [XX]%向上
- 定性的効果:
  - [効果1]
  - [効果2]

## 3. 対象範囲・ターゲット
### 3.1 対象業務
[システム化する業務の範囲を明確に定義]

### 3.2 対象ユーザー
- 主要ユーザー: [部署名・役職]（約[XX]名）
- 副次ユーザー: [部署名・役職]（約[XX]名）

### 3.3 対象データ
[取り扱うデータの種類と規模]

## 4. システム要件概要
### 4.1 主要機能
[システムの主要機能を簡潔に列挙]
1. [機能1]: [概要]
2. [機能2]: [概要]
3. [機能3]: [概要]

### 4.2 非機能要件
- 性能要件: [応答時間、処理能力等]
- 可用性要件: [稼働率、保守時間等]
- セキュリティ要件: [認証、暗号化等]

## 5. 技術方針
### 5.1 システム構成
[システムアーキテクチャの概要]

### 5.2 開発技術
- フロントエンド: [技術スタック]
- バックエンド: [技術スタック]
- データベース: [DBMS名]
- インフラ: [クラウド/オンプレミス]

## 6. スケジュール・マイルストーン
### 6.1 フェーズ構成
| フェーズ | 期間 | 主要成果物 |
|---------|------|-----------|
| 要件定義 | [期間] | 要件定義書 |
| 基本設計 | [期間] | 基本設計書 |
| 詳細設計 | [期間] | 詳細設計書 |
| 開発・テスト | [期間] | システム |
| 本稼働 | [期間] | - |

### 6.2 主要マイルストーン
- [YYYY/MM/DD]: 要件定義完了
- [YYYY/MM/DD]: 基本設計完了
- [YYYY/MM/DD]: 開発完了
- [YYYY/MM/DD]: システムテスト完了
- [YYYY/MM/DD]: 本稼働開始

## 7. リスク・課題
### 7.1 想定リスク
| リスク | 影響度 | 発生確率 | 対策 |
|--------|--------|----------|------|
| [リスク1] | [高/中/低] | [高/中/低] | [対策内容] |
| [リスク2] | [高/中/低] | [高/中/低] | [対策内容] |

### 7.2 前提条件・制約事項
- [前提条件1]
- [制約事項1]

## 8. 体制・役割分担
### 8.1 プロジェクト体制図
[体制図を挿入]

### 8.2 役割分担
| 役割 | 担当者 | 責任範囲 |
|------|--------|----------|
| [役割1] | [氏名] | [責任内容] |
| [役割2] | [氏名] | [責任内容] |

## 9. 予算
### 9.1 開発費用
- 人件費: [XX]万円
- 外部委託費: [XX]万円
- ソフトウェアライセンス費: [XX]万円
- ハードウェア費: [XX]万円
- その他: [XX]万円
- **合計**: [XX]万円

### 9.2 運用費用（年間）
- 保守費: [XX]万円
- ライセンス費: [XX]万円
- インフラ費: [XX]万円
- **合計**: [XX]万円

## 10. 承認
| 承認者 | 役職 | 署名 | 日付 |
|--------|------|------|------|
| [氏名] | [役職] | | [YYYY/MM/DD] |
| [氏名] | [役職] | | [YYYY/MM/DD] |

---
作成日: [YYYY/MM/DD]
作成者: [氏名]
版数: 1.0`},{id:"requirements-definition-template",title:"要件定義書テンプレート",description:"機能要件・非機能要件を体系的に整理し、開発の基盤となる要件定義書を作成するためのテンプレート。",category:"requirements-definition",type:"document",icon:x2,difficulty:"advanced",content:`# 要件定義書

## 1. 文書概要
### 1.1 文書の目的
本文書は、[システム名]の要件を明確化し、開発チーム全体で共有することを目的とする。

### 1.2 対象読者
- プロジェクトマネージャー
- システムアーキテクト
- 開発チーム
- テストチーム
- ユーザー代表

### 1.3 文書の構成
[文書の構成を説明]

## 2. システム概要
### 2.1 システムの目的
[システムの目的を明確に記載]

### 2.2 システムの概要
[システムの全体像を簡潔に説明]

### 2.3 システムの適用範囲
[システムが対象とする業務範囲を明確化]

## 3. 機能要件
### 3.1 機能要件一覧
| 要件ID | 機能名 | 優先度 | 概要 |
|--------|--------|--------|------|
| F001 | [機能名] | Must | [機能概要] |
| F002 | [機能名] | Should | [機能概要] |
| F003 | [機能名] | Could | [機能概要] |

### 3.2 機能要件詳細
#### 3.2.1 [機能名] (F001)
**概要**: [機能の概要]
**詳細**: [機能の詳細仕様]
**入力**: [入力データ・条件]
**処理**: [処理内容]
**出力**: [出力データ・結果]
**制約**: [制約事項]
**例外処理**: [エラー処理]

#### 3.2.2 [機能名] (F002)
[同様の形式で記載]

### 3.3 画面遷移要件
[画面遷移図や画面フロー図を挿入]

### 3.4 データ要件
#### 3.4.1 データ一覧
| データ名 | 概要 | 主要項目 | 更新頻度 |
|----------|------|----------|----------|
| [データ名] | [概要] | [項目] | [頻度] |

#### 3.4.2 データ関連図
[ER図やデータフロー図を挿入]

## 4. 非機能要件
### 4.1 性能要件
#### 4.1.1 応答時間要件
| 処理 | 目標値 | 条件 |
|------|--------|------|
| 画面表示 | 3秒以内 | 通常時 |
| 検索処理 | 5秒以内 | 1万件以下 |
| バッチ処理 | 30分以内 | 日次処理 |

#### 4.1.2 スループット要件
- 同時アクセス数: [XX]ユーザー
- 1日あたりトランザクション数: [XX]件

### 4.2 可用性要件
- 稼働率: 99.9%
- 定期メンテナンス: 月1回 2時間以内
- 障害復旧時間: 4時間以内

### 4.3 セキュリティ要件
#### 4.3.1 認証・認可
- ユーザー認証: [認証方式]
- パスワードポリシー: [ポリシー]
- セッション管理: [管理方式]

#### 4.3.2 データ保護
- データ暗号化: [暗号化方式]
- 通信暗号化: HTTPS/TLS 1.3
- バックアップ: [頻度・保存期間]

#### 4.3.3 監査・ログ
- アクセスログ: [記録内容]
- 操作ログ: [記録内容]
- ログ保存期間: [期間]

### 4.4 運用・保守要件
#### 4.4.1 運用要件
- 運用時間: [時間帯]
- 監視項目: [監視対象]
- 通知条件: [通知条件]

#### 4.4.2 保守要件
- 保守時間帯: [時間帯]
- 更新頻度: [頻度]
- データ移行: [移行方針]

### 4.5 拡張性要件
- ユーザー数拡張: [倍率]
- データ量拡張: [倍率]
- 機能拡張: [拡張性]

## 5. 制約事項
### 5.1 技術制約
[技術的な制約事項]

### 5.2 環境制約
[環境・インフラの制約事項]

### 5.3 スケジュール制約
[スケジュール上の制約事項]

### 5.4 予算制約
[予算上の制約事項]

## 6. インターフェース要件
### 6.1 外部システム連携
| 連携先システム | 連携方式 | データ形式 | 頻度 |
|----------------|----------|------------|------|
| [システム名] | [方式] | [形式] | [頻度] |

### 6.2 ユーザーインターフェース要件
[UI/UXに関する要件]

## 7. 移行要件
### 7.1 データ移行
[既存システムからのデータ移行要件]

### 7.2 運用移行
[運用体制の移行要件]

## 8. テスト要件
### 8.1 テスト方針
[テストの基本方針]

### 8.2 テスト種別
- 単体テスト: [カバレッジ・基準]
- 結合テスト: [テスト観点]
- システムテスト: [テスト観点]
- 受入テスト: [テスト観点]

## 9. 用語集
| 用語 | 定義 |
|------|------|
| [用語1] | [定義] |
| [用語2] | [定義] |

## 10. 参考資料
[参考にした資料・文献]

---
作成日: [YYYY/MM/DD]
作成者: [氏名]
レビュー者: [氏名]
承認者: [氏名]
版数: 1.0`},{id:"business-flow-template",title:"業務フロー図テンプレート",description:"現状（As-Is）と将来（To-Be）の業務フローを可視化するためのテンプレート。",category:"requirements-definition",type:"template",icon:iE,difficulty:"intermediate",content:`# 業務フロー分析書

## 1. 分析概要
### 1.1 分析目的
[業務フロー分析の目的を記載]

### 1.2 分析範囲
[分析対象の業務範囲を明確化]

### 1.3 分析方法
[ヒアリング、観察、文書調査等の手法]

## 2. 現状業務フロー（As-Is）
### 2.1 業務フロー概要
[現状の業務フローの全体像]

### 2.2 業務フロー詳細
#### フロー図
[フローチャートを挿入]
※記号説明
- ○: 開始/終了
- □: 処理・作業
- ◇: 判断・分岐
- □(二重線): システム処理

#### フロー説明
| ステップ | 作業内容 | 担当者 | 所要時間 | 使用ツール | 備考 |
|----------|----------|--------|----------|------------|------|
| 1 | [作業内容] | [担当者] | [時間] | [ツール] | [備考] |
| 2 | [作業内容] | [担当者] | [時間] | [ツール] | [備考] |

### 2.3 現状の課題・問題点
#### 2.3.1 効率性の課題
[作業効率、時間、コストに関する課題]
- 課題1: [詳細]
- 課題2: [詳細]

#### 2.3.2 品質の課題
[品質、精度、信頼性に関する課題]
- 課題1: [詳細]
- 課題2: [詳細]

#### 2.3.3 情報管理の課題
[情報共有、管理、セキュリティに関する課題]
- 課題1: [詳細]
- 課題2: [詳細]

### 2.4 現状分析結果
#### ボトルネック分析
[処理の遅延箇所や非効率な部分]

#### リスク分析
[業務上のリスクや問題の発生要因]

## 3. 改善方針
### 3.1 改善の基本方針
[業務改善の基本的な考え方]

### 3.2 改善目標
#### 定量目標
- 処理時間短縮: [XX]%削減
- 工数削減: [XX]時間/月
- エラー率削減: [XX]%

#### 定性目標
- [目標1]
- [目標2]

## 4. 将来業務フロー（To-Be）
### 4.1 業務フロー概要
[将来の業務フローの全体像]

### 4.2 業務フロー詳細
#### フロー図
[改善後のフローチャートを挿入]

#### フロー説明
| ステップ | 作業内容 | 担当者 | 所要時間 | システム機能 | 改善点 |
|----------|----------|--------|----------|--------------|--------|
| 1 | [作業内容] | [担当者] | [時間] | [機能] | [改善内容] |
| 2 | [作業内容] | [担当者] | [時間] | [機能] | [改善内容] |

### 4.3 システム化範囲
#### 自動化対象業務
[システムで自動化する業務を明確化]

#### 残存手作業
[システム導入後も手作業で行う業務]

### 4.4 改善効果
#### 定量効果
| 項目 | As-Is | To-Be | 改善効果 |
|------|-------|-------|----------|
| 処理時間 | [XX]時間 | [XX]時間 | [XX]%削減 |
| 人件費 | [XX]万円 | [XX]万円 | [XX]万円削減 |
| エラー率 | [XX]% | [XX]% | [XX]%削減 |

#### 定性効果
- [効果1]
- [効果2]

## 5. 移行計画
### 5.1 移行方針
[現状から将来への移行方法]

### 5.2 移行ステップ
| フェーズ | 期間 | 移行内容 | 注意点 |
|----------|------|----------|--------|
| Phase1 | [期間] | [内容] | [注意点] |
| Phase2 | [期間] | [内容] | [注意点] |

### 5.3 リスクと対策
| リスク | 影響 | 対策 |
|--------|------|------|
| [リスク1] | [影響] | [対策] |
| [リスク2] | [影響] | [対策] |

## 6. 教育・研修計画
### 6.1 研修対象者
[研修が必要な対象者を特定]

### 6.2 研修内容
[システム操作、業務手順等の研修内容]

### 6.3 研修スケジュール
[研修の実施時期とスケジュール]

## 7. 付録
### 7.1 業務フロー図記号説明
[使用する記号の説明]

### 7.2 関連資料
[参考資料や関連文書]

---
作成日: [YYYY/MM/DD]
作成者: [氏名]
確認者: [氏名]
版数: 1.0`},{id:"stakeholder-interview-template",title:"ステークホルダーヒアリングシート",description:"効果的なヒアリングを行うための質問項目と記録用のテンプレート。",category:"requirements-definition",type:"template",icon:n0,difficulty:"beginner",content:`# ステークホルダーヒアリングシート

## ヒアリング情報
- **実施日時**: [YYYY/MM/DD HH:MM-HH:MM]
- **実施場所**: [場所]
- **ヒアリング対象者**: [氏名・所属・役職]
- **ヒアリング実施者**: [氏名]
- **記録者**: [氏名]

## 1. 基本情報
### 1.1 対象者の役割・責任
**Q1**: 現在のお仕事の内容と責任範囲を教えてください。
**A**: 

**Q2**: 新システムに期待する役割は何ですか？
**A**: 

### 1.2 現在の業務状況
**Q3**: 普段どのような業務に一番時間を費やしていますか？
**A**: 

**Q4**: 業務で使用している主なツールやシステムは何ですか？
**A**: 

## 2. 現状の課題・問題点
### 2.1 業務上の課題
**Q5**: 現在の業務で最も困っていることは何ですか？
**A**: 

**Q6**: 日常業務で無駄だと感じることや改善したいことはありますか？
**A**: 

**Q7**: 現在のシステムで不便に感じることはありますか？
**A**: 

### 2.2 情報管理の課題
**Q8**: 情報の共有や管理で困っていることはありますか？
**A**: 

**Q9**: データの入力や確認作業で時間がかかることはありますか？
**A**: 

### 2.3 コミュニケーションの課題
**Q10**: 他部署や関係者との連携で課題を感じることはありますか？
**A**: 

## 3. システムへの要望・期待
### 3.1 機能要望
**Q11**: 新しいシステムに絶対に必要だと思う機能は何ですか？
**A**: 

**Q12**: あったら便利だと思う機能はありますか？
**A**: 

**Q13**: 現在のシステムで気に入っている機能があれば教えてください。
**A**: 

### 3.2 操作性への要望
**Q14**: システムの操作で重視したいことは何ですか？（例：簡単、高速、正確等）
**A**: 

**Q15**: どのようなデバイスからシステムを使用したいですか？
**A**: 

### 3.3 性能への要望
**Q16**: システムの処理速度についてどの程度を期待しますか？
**A**: 

**Q17**: 同時に何人程度がシステムを使用すると想定されますか？
**A**: 

## 4. 運用・保守について
### 4.1 運用時間
**Q18**: システムをいつ使用しますか？（平日/休日、時間帯等）
**A**: 

**Q19**: システムが停止した場合の業務への影響はどの程度ですか？
**A**: 

### 4.2 データ管理
**Q20**: 扱うデータにセキュリティ上の配慮が必要なものはありますか？
**A**: 

**Q21**: どの程度の期間、データを保存する必要がありますか？
**A**: 

### 4.3 サポート体制
**Q22**: システムの操作で困った時、どのようなサポートを期待しますか？
**A**: 

**Q23**: 新システムの研修はどの程度必要だと思いますか？
**A**: 

## 5. 成功基準・評価指標
### 5.1 成功の定義
**Q24**: このシステムが成功したと言えるのはどのような状態ですか？
**A**: 

**Q25**: システム導入前後で何がどう変わっていれば良いと思いますか？
**A**: 

### 5.2 評価指標
**Q26**: システムの効果を測る指標として何が適切だと思いますか？
**A**: 

## 6. 制約・懸念事項
### 6.1 制約事項
**Q27**: システム導入にあたって制約や制限はありますか？
**A**: 

**Q28**: 予算や期間について何か制約はありますか？
**A**: 

### 6.2 懸念事項
**Q29**: 新システム導入について心配なことはありますか？
**A**: 

**Q30**: 現在の業務が変わることで困ることはありますか？
**A**: 

## 7. その他
### 7.1 追加要望
**Q31**: その他、システムに関してご要望やご意見はありますか？
**A**: 

### 7.2 優先順位
**Q32**: 今日お話いただいた内容で、特に重要だと思うものを3つ教えてください。
**A**: 
1. 
2. 
3. 

## 8. フォローアップ
### 8.1 次回確認事項
- [ ] [確認事項1]
- [ ] [確認事項2]
- [ ] [確認事項3]

### 8.2 追加ヒアリング
**必要性**: [要/不要]
**実施予定**: [日時]
**内容**: [ヒアリング内容]

## 9. ヒアリング実施者所見
### 9.1 重要ポイント
[ヒアリングで得られた重要な情報]

### 9.2 課題・検討事項
[さらに詳細確認が必要な事項]

### 9.3 次のアクション
[このヒアリング結果を受けて行うべき次のアクション]

---
記録日: [YYYY/MM/DD]
記録者: [氏名]
確認者: [ヒアリング対象者氏名]`},{id:"system-architecture-template",title:"システム全体構成設計書テンプレート",description:"システムアーキテクチャの基本構成を設計するためのテンプレート。レイヤー構成、技術選択、非機能要件を含む。",category:"basic-design",type:"document",icon:t0,difficulty:"intermediate",content:`# システム全体構成設計書

## 1. 概要
### 1.1 文書の目的
本文書は[システム名]のシステム全体構成を定義し、アーキテクチャの設計方針を明確化することを目的とする。

### 1.2 システム概要
[システムの概要を記載]

## 2. アーキテクチャ方針
### 2.1 基本方針
- **拡張性**: 将来の機能拡張に対応可能な構成
- **保守性**: 運用・保守が容易な構成
- **可用性**: 高い可用性を実現する構成
- **セキュリティ**: セキュアな構成

### 2.2 設計原則
1. **疎結合**: コンポーネント間の依存関係を最小化
2. **モジュール化**: 機能ごとに独立したモジュール構成
3. **標準技術**: 業界標準の技術を採用
4. **性能重視**: 高性能を実現する設計

## 3. システム全体構成
### 3.1 システム構成図
[システム構成図を挿入]

### 3.2 レイヤー構成
#### 3.2.1 プレゼンテーション層
**役割**: ユーザーインターフェースとユーザー操作の処理
**技術**: [フロントエンド技術]
**特徴**:
- レスポンシブデザイン対応
- アクセシビリティ対応
- SEO対応

#### 3.2.2 アプリケーション層
**役割**: ビジネスロジックの実装
**技術**: [バックエンド技術]
**特徴**:
- RESTful API提供
- 認証・認可処理
- バリデーション処理

#### 3.2.3 データアクセス層
**役割**: データベースアクセスの抽象化
**技術**: [ORM/データアクセス技術]
**特徴**:
- データベース依存性の隠蔽
- トランザクション管理
- 接続プール管理

#### 3.2.4 データ層
**役割**: データの永続化
**技術**: [データベース技術]
**特徴**:
- ACID特性の保証
- 高可用性構成
- バックアップ・復旧

## 4. 技術構成
### 4.1 技術スタック一覧
| レイヤー | 技術 | バージョン | 選定理由 |
|----------|------|------------|----------|
| フロントエンド | [技術名] | [バージョン] | [理由] |
| バックエンド | [技術名] | [バージョン] | [理由] |
| データベース | [技術名] | [バージョン] | [理由] |
| Web Server | [技術名] | [バージョン] | [理由] |
| OS | [技術名] | [バージョン] | [理由] |

### 4.2 フレームワーク・ライブラリ
#### フロントエンド
- [フレームワーク名]: [用途・選定理由]
- [ライブラリ名]: [用途・選定理由]

#### バックエンド
- [フレームワーク名]: [用途・選定理由]
- [ライブラリ名]: [用途・選定理由]

## 5. インフラ構成
### 5.1 物理構成
[物理構成図を挿入]

### 5.2 ネットワーク構成
#### 5.2.1 ネットワーク構成図
[ネットワーク構成図を挿入]

#### 5.2.2 セグメント設計
| セグメント | 用途 | IPアドレス範囲 | VLAN ID |
|------------|------|----------------|---------|
| [セグメント名] | [用途] | [IP範囲] | [VLAN] |

### 5.3 サーバー構成
#### 5.3.1 サーバー一覧
| サーバー名 | 役割 | スペック | OS | 台数 |
|------------|------|----------|----|----- |
| [サーバー名] | [役割] | [スペック] | [OS] | [台数] |

#### 5.3.2 ロードバランサー構成
[ロードバランサーの構成と設定]

### 5.4 ストレージ構成
- **データベース用**: [ストレージ仕様]
- **ファイル用**: [ストレージ仕様]
- **バックアップ用**: [ストレージ仕様]

## 6. セキュリティ設計
### 6.1 セキュリティ方針
[セキュリティの基本方針]

### 6.2 認証・認可
#### 6.2.1 認証方式
- **ユーザー認証**: [認証方式]
- **システム間認証**: [認証方式]

#### 6.2.2 認可設計
[権限管理の仕組み]

### 6.3 通信セキュリティ
- **暗号化プロトコル**: [プロトコル]
- **証明書管理**: [管理方法]

### 6.4 データ保護
- **データ暗号化**: [暗号化方式]
- **個人情報保護**: [保護方法]

## 7. 性能設計
### 7.1 性能要件
| 項目 | 目標値 | 条件 |
|------|--------|------|
| 応答時間 | [XX]秒以内 | [条件] |
| スループット | [XX]TPS | [条件] |
| 同時接続数 | [XX]ユーザー | [条件] |

### 7.2 性能対策
#### 7.2.1 フロントエンド
- [対策1]
- [対策2]

#### 7.2.2 バックエンド
- [対策1]
- [対策2]

#### 7.2.3 データベース
- [対策1]
- [対策2]

## 8. 可用性設計
### 8.1 可用性要件
- **稼働率**: [XX]%
- **復旧時間**: [XX]時間以内

### 8.2 冗長化設計
[冗長化の仕組みと構成]

### 8.3 障害対策
#### 8.3.1 障害検知
[監視・アラートの仕組み]

#### 8.3.2 自動復旧
[自動復旧の仕組み]

#### 8.3.3 手動復旧
[手動復旧の手順]

## 9. 運用設計
### 9.1 監視設計
#### 9.1.1 監視対象
| 監視項目 | 監視方法 | 閾値 | 通知先 |
|----------|----------|------|--------|
| [項目] | [方法] | [閾値] | [通知先] |

#### 9.2 ログ設計
[ログの出力方針と管理方法]

### 9.3 バックアップ設計
[バックアップの方針と手順]

## 10. 移行設計
### 10.1 移行方針
[既存システムからの移行方針]

### 10.2 移行手順
[移行の手順とスケジュール]

---
作成日: [YYYY/MM/DD]
作成者: [氏名]
レビュー者: [氏名]
承認者: [氏名]
版数: 1.0`},{id:"ui-design-template",title:"画面設計書テンプレート",description:"ワイヤーフレーム、画面遷移図、入力検証ルールを含む包括的な画面設計テンプレート。",category:"external-design",type:"document",icon:of,difficulty:"intermediate",content:`# 画面設計書

## 1. 概要
### 1.1 文書の目的
本文書は[システム名]の画面設計仕様を定義し、開発の指針とすることを目的とする。

### 1.2 対象画面
[設計対象の画面範囲]

### 1.3 設計方針
- **ユーザビリティ**: 直感的で使いやすいインターフェース
- **アクセシビリティ**: WCAG 2.1 AA準拠
- **レスポンシブ**: モバイル・タブレット・PC対応
- **一貫性**: 統一されたデザインシステム

## 2. 画面一覧
### 2.1 画面構成
| 画面ID | 画面名 | 機能概要 | 対象ユーザー | 優先度 |
|--------|--------|----------|--------------|--------|
| SCR001 | [画面名] | [機能概要] | [ユーザー種別] | [高/中/低] |
| SCR002 | [画面名] | [機能概要] | [ユーザー種別] | [高/中/低] |

### 2.2 画面遷移図
[画面遷移図を挿入]

## 3. 共通設計
### 3.1 レイアウト設計
#### 3.1.1 基本レイアウト
[基本レイアウト図を挿入]

#### 3.1.2 グリッドシステム
- **デスクトップ**: 12カラムグリッド
- **タブレット**: 8カラムグリッド  
- **モバイル**: 4カラムグリッド

#### 3.1.3 ブレークポイント
| デバイス | 画面幅 | 最適化内容 |
|----------|--------|------------|
| モバイル | ~768px | [最適化内容] |
| タブレット | 769px~1024px | [最適化内容] |
| デスクトップ | 1025px~ | [最適化内容] |

### 3.2 カラーパレット
#### 3.2.1 ブランドカラー
- **プライマリ**: #[HEX] - [用途]
- **セカンダリ**: #[HEX] - [用途]
- **アクセント**: #[HEX] - [用途]

#### 3.2.2 システムカラー
- **成功**: #[HEX] - 成功メッセージ
- **警告**: #[HEX] - 警告メッセージ
- **エラー**: #[HEX] - エラーメッセージ
- **情報**: #[HEX] - 情報メッセージ

### 3.3 タイポグラフィ
#### 3.3.1 フォント
- **メインフォント**: [フォント名]
- **サブフォント**: [フォント名]

#### 3.3.2 文字サイズ
| 用途 | サイズ | 行間 | 用途 |
|------|--------|------|------|
| h1 | 32px | 1.2 | ページタイトル |
| h2 | 24px | 1.3 | セクションタイトル |
| h3 | 20px | 1.4 | サブタイトル |
| body | 16px | 1.5 | 本文 |
| small | 14px | 1.4 | 補足テキスト |

### 3.4 コンポーネント設計
#### 3.4.1 ボタン
[ボタンの種類とスタイル]

#### 3.4.2 フォーム
[入力フィールドの種類とスタイル]

#### 3.4.3 ナビゲーション
[ナビゲーションの種類とスタイル]

## 4. 画面詳細設計
### 4.1 [画面名] (SCR001)
#### 4.1.1 画面概要
**目的**: [画面の目的]
**対象ユーザー**: [対象ユーザー]
**アクセス方法**: [アクセス経路]

#### 4.1.2 ワイヤーフレーム
[ワイヤーフレーム図を挿入]

#### 4.1.3 画面要素
| 要素ID | 要素名 | 種別 | 必須 | 説明 |
|--------|--------|------|------|------|
| E001 | [要素名] | [種別] | [○/△/-] | [説明] |
| E002 | [要素名] | [種別] | [○/△/-] | [説明] |

#### 4.1.4 入力項目詳細
##### E001: [項目名]
- **種別**: [テキスト/選択/日付等]
- **最大文字数**: [文字数]
- **入力形式**: [形式]
- **必須チェック**: [チェック内容]
- **形式チェック**: [チェック内容]
- **初期値**: [初期値]
- **プレースホルダー**: [表示文言]

#### 4.1.5 表示項目詳細
##### E002: [項目名]
- **データソース**: [データの取得元]
- **表示形式**: [表示形式]
- **更新タイミング**: [更新条件]
- **ソート**: [ソート方法]
- **フィルタ**: [フィルタ条件]

#### 4.1.6 操作・イベント
| 操作対象 | イベント | 処理内容 | 遷移先 |
|----------|----------|----------|--------|
| [ボタン名] | クリック | [処理内容] | [遷移先] |
| [フィールド名] | 入力 | [処理内容] | - |

#### 4.1.7 エラーハンドリング
| エラー条件 | エラーメッセージ | 表示位置 | 対処方法 |
|------------|------------------|----------|----------|
| [条件] | [メッセージ] | [位置] | [対処法] |

#### 4.1.8 権限制御
| ユーザー種別 | 参照 | 追加 | 更新 | 削除 |
|--------------|------|------|------|------|
| [種別1] | ○ | ○ | ○ | × |
| [種別2] | ○ | × | × | × |

#### 4.1.9 レスポンシブ対応
##### モバイル表示
[モバイル時の表示方法]

##### タブレット表示
[タブレット時の表示方法]

## 5. 画面遷移仕様
### 5.1 遷移パターン
[画面遷移のパターンと条件]

### 5.2 パンくずリスト
[パンくずリストの表示仕様]

### 5.3 戻る・進む操作
[ブラウザの戻る・進むボタンの動作]

## 6. 操作性・UX設計
### 6.1 キーボード操作
[キーボードでの操作方法]

### 6.2 マウス操作
[マウスでの操作方法]

### 6.3 タッチ操作
[タッチデバイスでの操作方法]

### 6.4 ローディング表示
[読み込み中の表示方法]

### 6.5 プログレス表示
[進捗状況の表示方法]

## 7. アクセシビリティ
### 7.1 対応方針
[アクセシビリティ対応の方針]

### 7.2 スクリーンリーダー対応
[スクリーンリーダーへの対応]

### 7.3 キーボードナビゲーション
[キーボードでのナビゲーション]

## 8. 性能・表示速度
### 8.1 表示速度要件
[画面表示速度の要件]

### 8.2 最適化方針
[表示速度最適化の方針]

## 9. テスト観点
### 9.1 表示テスト
[表示確認のテスト項目]

### 9.2 操作テスト
[操作確認のテスト項目]

### 9.3 レスポンシブテスト
[レスポンシブ対応のテスト項目]

---
作成日: [YYYY/MM/DD]
作成者: [氏名]
デザイナー: [氏名]
レビュー者: [氏名]
版数: 1.0`},{id:"coding-standards",title:"コーディング規約テンプレート",description:"JavaScript/TypeScript、Python、Java等の言語別コーディング規約テンプレート。",category:"development-prep",type:"document",icon:b2,difficulty:"beginner",content:`# コーディング規約

## 1. 概要
### 1.1 目的
本規約は、開発チーム全体でコードの品質と可読性を保つことを目的とする。

### 1.2 適用範囲
- プロジェクト: [プロジェクト名]
- 対象言語: [対象言語]
- 対象者: 開発チーム全員

### 1.3 基本方針
- **可読性**: 理解しやすいコード
- **保守性**: 変更・修正しやすいコード
- **一貫性**: 統一されたスタイル
- **効率性**: パフォーマンスを考慮したコード

## 2. ファイル構成・命名規則
### 2.1 ディレクトリ構成
\`\`\`
src/
├── components/          # コンポーネント
├── pages/              # ページ
├── hooks/              # カスタムフック
├── utils/              # ユーティリティ
├── types/              # 型定義
├── constants/          # 定数
├── api/                # API関連
├── styles/             # スタイル
└── tests/              # テスト
\`\`\`

### 2.2 ファイル命名規則
| 種類 | 命名規則 | 例 |
|------|----------|-----|
| コンポーネント | PascalCase | \`UserProfile.tsx\` |
| ページ | kebab-case | \`user-profile.tsx\` |
| ユーティリティ | camelCase | \`dateUtils.ts\` |
| 定数 | UPPER_SNAKE_CASE | \`API_ENDPOINTS.ts\` |
| 型定義 | PascalCase | \`UserTypes.ts\` |

### 2.3 変数・関数命名規則
#### 2.3.1 変数名
- **camelCase**を使用
- 意味のある名前を付ける
- 略語は避ける

\`\`\`typescript
// ✅ Good
const userName = 'john_doe';
const userAge = 25;
const isUserActive = true;

// ❌ Bad
const un = 'john_doe';
const a = 25;
const flag = true;
\`\`\`

#### 2.3.2 関数名
- **camelCase**を使用
- 動詞から始める
- 何をする関数か明確にする

\`\`\`typescript
// ✅ Good
function getUserProfile(userId: string): UserProfile {}
function validateEmail(email: string): boolean {}
function calculateTotalPrice(items: Item[]): number {}

// ❌ Bad
function user(id: string): UserProfile {}
function check(email: string): boolean {}
function total(items: Item[]): number {}
\`\`\`

#### 2.3.3 定数名
- **UPPER_SNAKE_CASE**を使用
- 意味のある名前を付ける

\`\`\`typescript
// ✅ Good
const MAX_RETRY_COUNT = 3;
const API_BASE_URL = 'https://api.example.com';
const DEFAULT_TIMEOUT = 5000;

// ❌ Bad
const max = 3;
const url = 'https://api.example.com';
const timeout = 5000;
\`\`\`

## 3. TypeScript/JavaScript 規約
### 3.1 型定義
#### 3.1.1 基本的な型定義
\`\`\`typescript
// インターフェース定義
interface User {
  id: string;
  name: string;
  email: string;
  age?: number; // オプショナル
}

// 型エイリアス
type Status = 'pending' | 'approved' | 'rejected';
type UserRole = 'admin' | 'user' | 'guest';
\`\`\`

#### 3.1.2 Generics の使用
\`\`\`typescript
// ✅ Good
interface ApiResponse<T> {
  data: T;
  status: number;
  message: string;
}

function fetchData<T>(url: string): Promise<ApiResponse<T>> {
  // 実装
}

// 使用例
const users = await fetchData<User[]>('/api/users');
\`\`\`

### 3.2 関数・メソッド
#### 3.2.1 Arrow Function vs Function Declaration
\`\`\`typescript
// ✅ コンポーネント: Arrow Function
const UserProfile: React.FC<Props> = ({ user }) => {
  return <div>{user.name}</div>;
};

// ✅ ユーティリティ関数: Function Declaration
function formatDate(date: Date): string {
  return date.toLocaleDateString();
}

// ✅ イベントハンドラー: Arrow Function
const handleClick = useCallback((event: MouseEvent) => {
  // 処理
}, []);
\`\`\`

#### 3.2.2 async/await の使用
\`\`\`typescript
// ✅ Good
async function fetchUserData(userId: string): Promise<User> {
  try {
    const response = await fetch(\`/api/users/\${userId}\`);
    if (!response.ok) {
      throw new Error('Failed to fetch user data');
    }
    return await response.json();
  } catch (error) {
    console.error('Error fetching user data:', error);
    throw error;
  }
}

// ❌ Bad - Promise chain
function fetchUserData(userId: string): Promise<User> {
  return fetch(\`/api/users/\${userId}\`)
    .then(response => response.json())
    .catch(error => console.error(error));
}
\`\`\`

### 3.3 条件分岐・ループ
#### 3.3.1 条件分岐
\`\`\`typescript
// ✅ Good - Early Return
function validateUser(user: User): boolean {
  if (!user.email) {
    return false;
  }
  
  if (!user.name) {
    return false;
  }
  
  return true;
}

// ✅ Good - Optional Chaining
const userName = user?.profile?.name ?? 'Unknown';

// ✅ Good - Nullish Coalescing
const timeout = config.timeout ?? DEFAULT_TIMEOUT;
\`\`\`

#### 3.3.2 配列操作
\`\`\`typescript
// ✅ Good - map, filter, reduce の活用
const activeUsers = users
  .filter(user => user.isActive)
  .map(user => ({
    id: user.id,
    name: user.name,
    email: user.email
  }));

// ✅ Good - 分割代入
const [first, second, ...rest] = items;
const { name, email } = user;
\`\`\`

## 4. React/Next.js 規約
### 4.1 コンポーネント設計
#### 4.1.1 関数コンポーネント
\`\`\`typescript
// ✅ Good
interface UserCardProps {
  user: User;
  onEdit?: (user: User) => void;
  onDelete?: (userId: string) => void;
}

const UserCard: React.FC<UserCardProps> = ({ 
  user, 
  onEdit, 
  onDelete 
}) => {
  return (
    <div className="user-card">
      <h3>{user.name}</h3>
      <p>{user.email}</p>
      {onEdit && <button onClick={() => onEdit(user)}>Edit</button>}
      {onDelete && <button onClick={() => onDelete(user.id)}>Delete</button>}
    </div>
  );
};
\`\`\`

#### 4.1.2 Hooks の使用
\`\`\`typescript
// ✅ Good - カスタムフック
function useUserData(userId: string) {
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const fetchUser = async () => {
      try {
        setLoading(true);
        const userData = await fetchUserData(userId);
        setUser(userData);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Unknown error');
      } finally {
        setLoading(false);
      }
    };

    if (userId) {
      fetchUser();
    }
  }, [userId]);

  return { user, loading, error };
}
\`\`\`

### 4.2 State 管理
\`\`\`typescript
// ✅ Good - useReducer for complex state
interface State {
  users: User[];
  loading: boolean;
  error: string | null;
}

type Action = 
  | { type: 'FETCH_START' }
  | { type: 'FETCH_SUCCESS'; payload: User[] }
  | { type: 'FETCH_ERROR'; payload: string };

function userReducer(state: State, action: Action): State {
  switch (action.type) {
    case 'FETCH_START':
      return { ...state, loading: true, error: null };
    case 'FETCH_SUCCESS':
      return { ...state, loading: false, users: action.payload };
    case 'FETCH_ERROR':
      return { ...state, loading: false, error: action.payload };
    default:
      return state;
  }
}
\`\`\`

## 5. エラーハンドリング
### 5.1 エラーの種類と対応
\`\`\`typescript
// カスタムエラークラス
class ApiError extends Error {
  constructor(
    message: string,
    public status: number,
    public code?: string
  ) {
    super(message);
    this.name = 'ApiError';
  }
}

// エラーハンドリング
async function apiCall<T>(url: string): Promise<T> {
  try {
    const response = await fetch(url);
    
    if (!response.ok) {
      throw new ApiError(
        'API request failed',
        response.status,
        'API_ERROR'
      );
    }
    
    return await response.json();
  } catch (error) {
    if (error instanceof ApiError) {
      // API エラーの処理
      throw error;
    } else {
      // その他のエラー
      throw new Error('Unexpected error occurred');
    }
  }
}
\`\`\`

## 6. コメント・ドキュメント
### 6.1 JSDoc
\`\`\`typescript
/**
 * ユーザーデータを取得する
 * @param userId - ユーザーID
 * @param includeProfile - プロフィール情報を含めるかどうか
 * @returns ユーザーデータ
 * @throws {ApiError} API呼び出しに失敗した場合
 */
async function fetchUser(
  userId: string, 
  includeProfile = false
): Promise<User> {
  // 実装
}
\`\`\`

### 6.2 インラインコメント
\`\`\`typescript
// ✅ Good - why not what
// XSS攻撃を防ぐためにHTMLエスケープを行う
const escapedHtml = escapeHtml(userInput);

// ブラウザの互換性のため setTimeout を使用
// requestAnimationFrame は IE10以下で未対応
setTimeout(callback, 0);

// ❌ Bad - what not why
// ユーザー名を取得
const name = user.name;
\`\`\`

## 7. テスト
### 7.1 テストファイル命名
\`\`\`
src/
├── utils/
│   ├── dateUtils.ts
│   └── dateUtils.test.ts
├── components/
│   ├── UserCard.tsx
│   └── UserCard.test.tsx
\`\`\`

### 7.2 テストの書き方
\`\`\`typescript
describe('UserCard', () => {
  it('should render user name and email', () => {
    const user = {
      id: '1',
      name: 'John Doe',
      email: 'john@example.com'
    };
    
    render(<UserCard user={user} />);
    
    expect(screen.getByText('John Doe')).toBeInTheDocument();
    expect(screen.getByText('john@example.com')).toBeInTheDocument();
  });
  
  it('should call onEdit when edit button is clicked', () => {
    const user = { id: '1', name: 'John', email: 'john@example.com' };
    const onEdit = jest.fn();
    
    render(<UserCard user={user} onEdit={onEdit} />);
    
    fireEvent.click(screen.getByText('Edit'));
    
    expect(onEdit).toHaveBeenCalledWith(user);
  });
});
\`\`\`

## 8. パフォーマンス
### 8.1 React最適化
\`\`\`typescript
// ✅ memo for expensive components
const ExpensiveComponent = React.memo<Props>(({ data }) => {
  return <div>{/* expensive rendering */}</div>;
});

// ✅ useMemo for expensive calculations
const expensiveValue = useMemo(() => {
  return heavyCalculation(data);
}, [data]);

// ✅ useCallback for event handlers
const handleClick = useCallback((id: string) => {
  onItemClick(id);
}, [onItemClick]);
\`\`\`

## 9. セキュリティ
### 9.1 基本原則
\`\`\`typescript
// ✅ 入力値の検証
function validateEmail(email: string): boolean {
  const emailRegex = /^[^s@]+@[^s@]+.[^s@]+$/;
  return emailRegex.test(email);
}

// ✅ XSS対策
import DOMPurify from 'dompurify';

function SafeHtml({ html }: { html: string }) {
  const cleanHtml = DOMPurify.sanitize(html);
  return <div dangerouslySetInnerHTML={{ __html: cleanHtml }} />;
}

// ✅ 環境変数の使用
const apiUrl = ({}).NEXT_PUBLIC_API_URL;
\`\`\`

## 10. Linter・Formatter設定
### 10.1 ESLint設定例
\`\`\`json
{
  "extends": [
    "@typescript-eslint/recommended",
    "next/core-web-vitals"
  ],
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "@typescript-eslint/explicit-function-return-type": "warn",
    "prefer-const": "error",
    "no-console": "warn"
  }
}
\`\`\`

### 10.2 Prettier設定例
\`\`\`json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2
}
\`\`\`

---
作成日: [YYYY/MM/DD]
作成者: [氏名]
レビュー者: [氏名]
版数: 1.0`},{id:"meeting-minutes",title:"会議議事録テンプレート",description:"設計レビュー、進捗報告、課題管理等の会議で使用する議事録テンプレート。",category:"common",type:"template",icon:va,difficulty:"beginner",content:`# 会議議事録

## 会議基本情報
- **会議名**: [会議名]
- **開催日時**: [YYYY/MM/DD HH:MM-HH:MM]
- **開催場所**: [場所 / オンライン（ツール名）]
- **司会**: [氏名]
- **記録**: [氏名]

## 参加者
### 出席者
| 氏名 | 所属・役職 | 備考 |
|------|------------|------|
| [氏名] | [所属・役職] | [備考] |
| [氏名] | [所属・役職] | [備考] |

### 欠席者
| 氏名 | 所属・役職 | 欠席理由 |
|------|------------|----------|
| [氏名] | [所属・役職] | [理由] |

## 会議の目的・議題
### 目的
[会議の目的を記載]

### 議題
1. [議題1]
2. [議題2]
3. [議題3]

## 配布資料
- [資料名1] - [作成者]
- [資料名2] - [作成者]
- [資料名3] - [作成者]

## 前回議事録確認
### 前回のアクションアイテム進捗
| 項目 | 担当者 | 期限 | 状況 | 備考 |
|------|--------|------|------|------|
| [項目] | [担当者] | [期限] | [完了/進行中/未着手] | [備考] |

## 討議内容・決定事項
### 議題1: [議題名]
#### 討議内容
[討議の内容を詳細に記載]

#### 決定事項
- [決定事項1]
- [決定事項2]

#### 残課題・懸念事項
- [課題1]
- [課題2]

### 議題2: [議題名]
#### 討議内容
[討議の内容を詳細に記載]

#### 決定事項
- [決定事項1]
- [決定事項2]

#### 残課題・懸念事項
- [課題1]
- [課題2]

## アクションアイテム
| No | 内容 | 担当者 | 期限 | 確認方法 | 優先度 |
|----|------|--------|------|----------|--------|
| 1 | [アクション内容] | [担当者] | [YYYY/MM/DD] | [確認方法] | [高/中/低] |
| 2 | [アクション内容] | [担当者] | [YYYY/MM/DD] | [確認方法] | [高/中/低] |

## 次回会議
- **開催予定日**: [YYYY/MM/DD HH:MM-HH:MM]
- **議題予定**: 
  1. [予定議題1]
  2. [予定議題2]
- **準備事項**: [準備が必要な事項]

## その他・補足事項
[その他の重要な情報や補足事項]

## 添付資料
- [添付資料1]
- [添付資料2]

---
**記録者確認**: [記録者氏名] [確認日: YYYY/MM/DD]
**司会者確認**: [司会者氏名] [確認日: YYYY/MM/DD]
**配布先**: [配布先一覧]
**配布日**: [YYYY/MM/DD]`}],hm={"requirements-definition":"要件定義","basic-design":"基本設計","external-design":"外部設計","development-prep":"開発準備",common:"共通"},UA={"requirements-definition":s0,"basic-design":Qt,"external-design":r0,"development-prep":rf,common:af},FA={document:Qt,checklist:Be,template:of};function zA(){const[e,t]=p.useState("all"),[n,r]=p.useState("all"),s=$A.filter(i=>{const l=e==="all"||i.category===e,c=n==="all"||i.type===n;return l&&c}),o=i=>{const l=new Blob([i.content],{type:"text/markdown"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=`${i.title.replace(/\s+/g,"_")}.md`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c),console.log(`Downloaded: ${i.title}`)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"テンプレート一覧"}),a.jsx("p",{className:"text-gray-600",children:"システム開発で使用できるテンプレートをダウンロードできます。各フェーズに応じたテンプレートをご利用ください。"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"カテゴリ:"}),a.jsxs("select",{value:e,onChange:i=>t(i.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"すべて"}),Object.entries(hm).map(([i,l])=>a.jsx("option",{value:i,children:l},i))]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"タイプ:"}),a.jsxs("select",{value:n,onChange:i=>r(i.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"すべて"}),a.jsx("option",{value:"document",children:"文書"}),a.jsx("option",{value:"checklist",children:"チェックリスト"}),a.jsx("option",{value:"template",children:"テンプレート"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(i=>{const l=i.icon;UA[i.category];const c=FA[i.type];return a.jsxs($e,{className:"rounded-2xl border-gray-200 hover:shadow-lg transition-all duration-200",children:[a.jsxs(Je,{className:"pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center",children:a.jsx(l,{className:"h-5 w-5 text-blue-600"})}),a.jsx("div",{children:a.jsx(ke,{variant:"outline",className:"text-xs",children:hm[i.category]})})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(c,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"text-xs text-gray-500",children:i.type})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(Ze,{className:"text-lg line-clamp-2 flex-1 min-w-0",children:i.title}),a.jsx(ke,{variant:i.difficulty==="beginner"?"secondary":i.difficulty==="intermediate"?"default":"destructive",className:"text-xs flex-shrink-0",children:i.difficulty==="beginner"?"初級":i.difficulty==="intermediate"?"中級":"上級"})]})]}),a.jsxs(Ue,{className:"pt-0",children:[a.jsx(ct,{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:i.description}),a.jsxs(Z,{onClick:()=>o(i),className:"w-full rounded-xl bg-blue-600 hover:bg-blue-700",children:[a.jsx(sf,{className:"h-4 w-4 mr-2"}),"ダウンロード"]})]})]},i.id)})}),s.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Qt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"テンプレートが見つかりません"}),a.jsx("p",{className:"text-gray-600",children:"別のフィルター条件を試してください。"})]})]})}const mc=768;function BA(){const[e,t]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${mc-1}px)`),r=()=>{t(window.innerWidth<mc)};return n.addEventListener("change",r),t(window.innerWidth<mc),()=>n.removeEventListener("change",r)},[]),!!e}const WA=[{id:"requirements-definition",label:"要件定義",icon:a.jsx("span",{children:"🔍"})},{id:"basic-design",label:"基本設計",icon:a.jsx("span",{children:"📝"})},{id:"external-design",label:"外部設計",icon:a.jsx("span",{children:"📐"})},{id:"development-prep",label:"開発準備",icon:a.jsx("span",{children:"⚙️"})}];function VA({phase:e}){const t=e.tasks.filter(o=>o.status==="completed").length,n=e.tasks.length,r=e.deliverables.filter(o=>o.status==="completed").length,s=e.deliverables.length;return a.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-xl border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Be,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"font-semibold text-gray-800",children:"進捗サマリー"})]}),a.jsx("span",{className:"text-xs text-gray-500",children:e.title})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-700",children:"タスク"}),a.jsxs("div",{className:"font-bold",children:[t,"/",n," 完了"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-700",children:"成果物"}),a.jsxs("div",{className:"font-bold",children:[r,"/",s," 完了"]})]})]})]})}function HA({phase:e,onTaskUpdate:t}){const n=s=>{switch(s){case"high":return"bg-red-100 text-red-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-gray-100 text-gray-600";default:return"bg-gray-100 text-gray-600"}},r=s=>{switch(s){case"high":return"高";case"medium":return"中";case"low":return"低";default:return"低"}};return a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-base font-bold mb-2",children:"主要タスク"}),a.jsx("div",{className:"space-y-3",children:e.tasks.map(s=>a.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg bg-white",children:[a.jsx("input",{type:"checkbox",checked:s.status==="completed",onChange:()=>t(s.id,s.status==="completed"?"not-started":"completed"),className:"mt-1 accent-blue-500"}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-sm ${s.status==="completed"?"line-through text-gray-400":""}`,children:s.title}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${n(s.priority)}`,children:r(s.priority)})]}),a.jsx("p",{className:`text-xs text-gray-600 ${s.status==="completed"?"line-through":""}`,children:s.description})]})]},s.id))})]})}function qA({phase:e,onStatusUpdate:t}){const n=s=>{switch(s){case"completed":return"bg-green-100 text-green-700";case"in-progress":return"bg-yellow-100 text-yellow-700";case"not-started":return"bg-gray-100 text-gray-600";default:return"bg-gray-100 text-gray-600"}},r=s=>{switch(s){case"completed":return"完了";case"in-progress":return"進行中";case"not-started":return"未着手";default:return"未着手"}};return a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-base font-bold mb-2",children:"主要成果物"}),a.jsx("div",{className:"space-y-3",children:e.deliverables.map(s=>a.jsxs("div",{className:"p-3 border rounded-lg bg-white space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:s.title}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${n(s.status)}`,children:r(s.status)})]}),a.jsx("p",{className:"text-xs text-gray-600",children:s.description}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"ステータス:"}),a.jsxs("select",{value:s.status,onChange:o=>t(s.id,o.target.value),className:"border rounded px-2 py-1 text-xs",children:[a.jsx("option",{value:"not-started",children:"未着手"}),a.jsx("option",{value:"in-progress",children:"進行中"}),a.jsx("option",{value:"completed",children:"完了"})]})]})]},s.id))})]})}function GA({phaseData:e,onCheck:t}){const n=r=>{const s=r.length,o=r.filter(i=>i.status==="completed").length;return{completed:o,total:s,percent:s?Math.round(o/s*100):0}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-bold mb-2",children:"成果物チェックリスト"}),Object.entries(e).map(([r,s])=>{const o=s,i=n(o.deliverables);return a.jsxs("details",{className:"bg-white rounded-xl shadow p-4",children:[a.jsxs("summary",{className:"flex items-center gap-2 cursor-pointer font-semibold text-base",children:[a.jsx("span",{className:"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold",children:o.title[0]}),a.jsx("span",{children:o.title}),a.jsxs("span",{className:"ml-auto text-xs bg-gray-100 rounded px-2 py-0.5",children:[i.completed,"/",i.total," 完了"]}),a.jsxs("span",{className:"ml-2 text-xs bg-green-100 text-green-800 rounded px-2",children:[i.percent,"%"]})]}),a.jsx("ul",{className:"mt-3 space-y-2",children:o.deliverables.map((l,c)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:l.status==="completed",onChange:()=>t(r,l.id,l.status==="completed"?"not-started":"completed"),className:"accent-blue-500"}),a.jsx("span",{className:l.status==="completed"?"line-through text-gray-400":"",children:l.title})]},l.id))})]},r)})]})}const KA=[{id:"project-proposal-template",title:"企画書テンプレート",description:"システム開発の目的、ターゲット、期待効果、ビジネスゴールを整理するための企画書テンプレート。",category:"requirements-definition",type:"document",icon:il,difficulty:"intermediate",content:`# システム開発企画書
...（省略）`},{id:"requirements-definition-template",title:"要件定義書テンプレート",description:"機能要件・非機能要件を体系的に整理し、開発の基盤となる要件定義書を作成するためのテンプレート。",category:"requirements-definition",type:"document",icon:Qt,difficulty:"advanced",content:`# 要件定義書
...（省略）`},{id:"business-flow-template",title:"業務フロー図テンプレート",description:"現状（As-Is）と将来（To-Be）の業務フローを可視化するためのテンプレート。",category:"requirements-definition",type:"template",icon:of,difficulty:"intermediate",content:`# 業務フロー分析書
...（省略）`},{id:"coding-standards",title:"コーディング規約テンプレート",description:"JavaScript/TypeScript、Python、Java等の言語別コーディング規約テンプレート。",category:"development-prep",type:"document",icon:rf,difficulty:"beginner",content:`# コーディング規約
...（省略）`},{id:"meeting-minutes",title:"会議議事録テンプレート",description:"設計レビュー、進捗報告、課題管理等の会議で使用する議事録テンプレート。",category:"common",type:"template",icon:Qt,difficulty:"beginner",content:`# 会議議事録
...（省略）`}],YA={"requirements-definition":"要件定義","basic-design":"基本設計","external-design":"外部設計","development-prep":"開発準備",common:"共通"},XA={beginner:"初級",intermediate:"中級",advanced:"上級"};function QA(){const e=t=>{const n=new Blob([t.content],{type:"text/markdown"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`${t.title.replace(/\s+/g,"_")}.md`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"テンプレート一覧"}),a.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"システム開発で使える各種テンプレートをダウンロードできます。"}),a.jsx("div",{className:"space-y-4",children:KA.map(t=>{const n=t.icon;return a.jsxs("div",{className:"border rounded-xl p-4 bg-white flex flex-col gap-2",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(n,{className:"h-5 w-5 text-blue-600"})}),a.jsx("span",{className:"text-xs text-gray-500",children:YA[t.category]}),a.jsx("span",{className:`ml-auto px-2 py-0.5 rounded text-xs font-bold ${t.difficulty==="beginner"?"bg-green-100 text-green-800":t.difficulty==="intermediate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:XA[t.difficulty]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"font-semibold text-base truncate flex-1",children:t.title})}),a.jsx("p",{className:"text-xs text-gray-600 mb-2",children:t.description}),a.jsxs("button",{onClick:()=>e(t),className:"w-full rounded-lg bg-blue-600 hover:bg-blue-700 text-white py-2 flex items-center justify-center gap-2 text-sm font-medium",children:[a.jsx(sf,{className:"h-4 w-4"}),"ダウンロード"]})]},t.id)})})]})}function JA(){const e=[{title:"段階的な開発アプローチ",description:"各フェーズを順序立てて進め、前の段階の成果物を確実に固めてから次へ進む",icon:"📚"},{title:"ステークホルダー中心の開発",description:"関係者全員を巻き込み、合意形成を重視しながらプロジェクトを進める",icon:"👥"},{title:"継続的な改善とレビュー",description:"定期的な振り返りと改善を通じて、品質向上とリスク軽減を図る",icon:"🔄"},{title:"透明性のある情報共有",description:"進捗状況、課題、決定事項を関係者全員に適切に共有する",icon:"💬"},{title:"品質重視の開発",description:"テストやレビューを通じて品質を確保し、保守性の高いシステムを構築する",icon:"🛡️"},{title:"包括的なドキュメント化",description:"開発プロセスと成果物を適切に文書化し、ナレッジを蓄積する",icon:"📄"}],t=[{id:1,title:"要件定義",duration:"2-6週間",description:"「何を作るのか」を明確にし、システムに求められる機能や非機能要件を具体化する",keyActivities:["プロジェクトの目的と目標の明確化","現状業務の分析と課題特定","ユーザーヒアリングと要求収集","機能要件の洗い出しと詳細化","非機能要件の定義","要件の優先順位付け"],deliverables:["企画書","要件定義書","業務フロー図（As-Is/To-Be）","ユーザーストーリー","機能一覧"],tips:["要件ヒアリングでは「なぜ」を深く掘り下げる","MoSCoW法で要件の優先順位を明確化","ステークホルダー全員の合意を文書で確認"]},{id:2,title:"基本設計",duration:"2-4週間",description:"要件定義で定義された内容を、システムとしてどう実現するかを具体化する",keyActivities:["システム全体構成設計","データベース論理・物理設計","機能概要設計","外部インターフェース設計","非機能要件の詳細化"],deliverables:["基本設計書","システム構成図","データベース設計書","テスト計画書（概要）"],tips:["ステークホルダーとの定期的なレビューを実施","アーキテクチャの選定理由を文書化","パフォーマンス要件を数値で明確化"]},{id:3,title:"外部設計",duration:"3-5週間",description:"基本設計の内容を、ユーザーにとって使いやすい形に落とし込む",keyActivities:["UI設計","UX設計","入力・出力情報の詳細設計","エラーハンドリングの検討","帳票設計"],deliverables:["画面設計書","ワイヤーフレーム・プロトタイプ","入出力設計書","UI/UX仕様書"],tips:["ユーザビリティテストを早期実施","アクセシビリティを考慮した設計","レスポンシブデザインの検討"]},{id:4,title:"開発準備",duration:"1-2週間",description:"開発をスムーズに開始するための最終準備",keyActivities:["開発環境の構築","開発技術の最終決定","バージョン管理システムの導入","コーディング規約の策定","プロジェクト管理ツールの準備"],deliverables:["開発環境構築手順書","コーディング規約","開発スケジュール詳細","チーム開発ガイドライン"],tips:["CI/CDパイプラインの早期構築","コードレビュープロセスの確立","チーム内のコミュニケーションルール策定"]}],n=[{title:"要件の曖昧さ",description:"要件が曖昧なまま設計を進めると、後で大幅な修正が必要になる",solution:"具体的で測定可能な要件を定義し、不明点は必ず確認する"},{title:"ステークホルダーとの認識齟齬",description:"関係者間で認識が異なると、プロジェクトが迷走する",solution:"定期的なミーティングと文書による確認を徹底する"},{title:"技術選定の遅れ",description:"技術選定が遅れると、設計や開発に影響する",solution:"早期に技術調査を行い、PoC（概念実証）で検証する"},{title:"ドキュメントの不備",description:"不十分なドキュメントは、後の開発や保守で問題となる",solution:"テンプレートを活用し、レビューを通じて品質を確保する"}];return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow",children:[a.jsx("h2",{className:"text-lg font-bold mb-2",children:"システム開発の基本原則"}),a.jsx("ul",{className:"space-y-2",children:e.map((r,s)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-2xl mt-1",children:r.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold",children:r.title}),a.jsx("div",{className:"text-sm text-gray-600",children:r.description})]})]},s))})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow",children:[a.jsx("h2",{className:"text-lg font-bold mb-2",children:"フェーズ別実行ガイド"}),a.jsx("div",{className:"divide-y",children:t.map(r=>a.jsxs("details",{className:"py-4",children:[a.jsxs("summary",{className:"font-semibold text-base cursor-pointer flex items-center gap-2",children:[a.jsx("span",{className:"w-7 h-7 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:r.id}),a.jsx("span",{children:r.title}),a.jsx("span",{className:"ml-2 text-xs bg-gray-100 rounded px-2 py-0.5",children:r.duration})]}),a.jsxs("div",{className:"mt-3 ml-8 space-y-2",children:[a.jsx("div",{className:"text-sm text-gray-700 mb-1",children:r.description}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-sm",children:"主要活動"}),a.jsx("ul",{className:"list-disc ml-5 text-sm text-gray-600",children:r.keyActivities.map((s,o)=>a.jsx("li",{children:s},o))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-sm mt-2",children:"成果物"}),a.jsx("ul",{className:"list-disc ml-5 text-sm text-gray-600",children:r.deliverables.map((s,o)=>a.jsx("li",{children:s},o))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-sm mt-2",children:"重要ポイント"}),a.jsx("ul",{className:"list-disc ml-5 text-sm text-gray-600",children:r.tips.map((s,o)=>a.jsx("li",{children:s},o))})]})]})]},r.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 shadow",children:[a.jsx("h2",{className:"text-lg font-bold mb-2",children:"よくある落とし穴と対策"}),a.jsx("div",{className:"divide-y",children:n.map((r,s)=>a.jsxs("details",{className:"py-3",children:[a.jsx("summary",{className:"font-semibold text-base cursor-pointer",children:r.title}),a.jsxs("div",{className:"mt-2 ml-6",children:[a.jsx("div",{className:"text-sm text-gray-700 mb-1",children:r.description}),a.jsxs("div",{className:"text-sm text-green-700 font-semibold",children:["対策: ",r.solution]})]})]},s))})]})]})}function ZA(){const[e,t]=te.useState([{id:"1",name:"要件定義書.md",type:"requirements-definition",size:2048,uploadDate:new Date("2024-07-01T10:00:00"),updateDate:new Date("2024-07-10T12:00:00"),author:"山田太郎",content:`# 要件定義書
...（省略）`,description:"システムの要件をまとめたドキュメント",tags:["最新版","Draft"],isLatest:!0},{id:"2",name:"基本設計書.md",type:"basic-design",size:4096,uploadDate:new Date("2024-07-05T09:00:00"),updateDate:new Date("2024-07-12T15:00:00"),author:"佐藤花子",content:`# 基本設計書
...（省略）`,description:"システムの基本設計をまとめたドキュメント",tags:["最新版"],isLatest:!0}]),[n,r]=te.useState(!1),[s,o]=te.useState(null),[i,l]=te.useState({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1}),c=y=>`${(y/1024).toFixed(1)} KB`,u=y=>y.toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),d=()=>{if(!i.name.trim())return;const y=new Date;t(w=>[...w,{id:Date.now().toString(),name:i.name,type:i.type,size:new Blob([i.content]).size,uploadDate:y,updateDate:y,author:"Current User",content:i.content,description:i.description,tags:i.tags,isLatest:i.isLatest}]),r(!1),l({name:"",type:"requirements-definition",description:"",content:"",tags:[],isLatest:!1})},f=y=>{const w=new Blob([y.content||""],{type:"text/markdown"}),x=URL.createObjectURL(w),b=document.createElement("a");b.href=x,b.download=y.name,b.click(),URL.revokeObjectURL(x)},h=()=>{e.filter(y=>y.isLatest).forEach(y=>f(y))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-lg font-bold",children:"ドキュメント管理"}),a.jsx("button",{className:"bg-blue-600 text-white rounded px-3 py-1 text-sm",onClick:()=>r(!0),children:"アップロード"})]}),a.jsx("button",{className:"w-full bg-green-100 text-green-800 rounded py-2 font-semibold mb-2",onClick:h,children:"最新版一括ダウンロード"}),a.jsx("div",{className:"space-y-3",children:e.map(y=>a.jsxs("div",{className:"border rounded-xl bg-white",children:[a.jsxs("button",{className:"w-full flex justify-between items-center p-3",onClick:()=>o(s===y.id?null:y.id),children:[a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"font-semibold text-base",children:y.name}),a.jsx("span",{className:"text-xs text-gray-500",children:y.description}),a.jsxs("div",{className:"flex gap-2 mt-1",children:[a.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 rounded px-2",children:y.type==="requirements-definition"?"要件定義":y.type==="basic-design"?"基本設計":y.type==="external-design"?"外部設計":y.type==="development-prep"?"開発準備":"その他"}),y.isLatest&&a.jsx("span",{className:"text-xs bg-green-200 text-green-800 rounded px-2",children:"最新版"}),y.tags.map((w,x)=>a.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 rounded px-2",children:w},x))]})]}),a.jsx("span",{className:"text-xs text-gray-400",children:u(y.updateDate)})]}),s===y.id&&a.jsxs("div",{className:"p-4 border-t space-y-2",children:[a.jsxs("div",{className:"text-xs text-gray-500",children:["サイズ: ",c(y.size)," / 作成者: ",y.author]}),a.jsxs("div",{className:"text-xs text-gray-500",children:["アップロード: ",u(y.uploadDate)," / 更新: ",u(y.updateDate)]}),a.jsx("div",{className:"bg-gray-50 rounded p-2 text-xs font-mono overflow-x-auto max-h-32",children:y.content}),a.jsx("div",{className:"flex gap-2 mt-2",children:a.jsx("button",{className:"bg-blue-600 text-white rounded px-3 py-1 text-xs",onClick:()=>f(y),children:"ダウンロード"})})]})]},y.id))}),n&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-30 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-xs space-y-4 shadow-lg",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:"新規ドキュメントアップロード"}),a.jsx("input",{className:"w-full border rounded px-2 py-1",placeholder:"ファイル名.md",value:i.name,onChange:y=>l({...i,name:y.target.value})}),a.jsxs("select",{className:"w-full border rounded px-2 py-1 bg-white shadow-sm",value:i.type,onChange:y=>l({...i,type:y.target.value}),children:[a.jsx("option",{value:"requirements-definition",children:"要件定義"}),a.jsx("option",{value:"basic-design",children:"基本設計"}),a.jsx("option",{value:"external-design",children:"外部設計"}),a.jsx("option",{value:"development-prep",children:"開発準備"}),a.jsx("option",{value:"other",children:"その他"})]}),a.jsx("input",{className:"w-full border rounded px-2 py-1",placeholder:"説明",value:i.description,onChange:y=>l({...i,description:y.target.value})}),a.jsx("textarea",{className:"w-full border rounded px-2 py-1",rows:4,placeholder:"内容 (Markdown)",value:i.content,onChange:y=>l({...i,content:y.target.value})}),a.jsx("input",{className:"w-full border rounded px-2 py-1",placeholder:"タグ（カンマ区切り）",value:i.tags.join(","),onChange:y=>l({...i,tags:y.target.value.split(",").map(w=>w.trim()).filter(Boolean)})}),a.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[a.jsx("input",{type:"checkbox",checked:i.isLatest,onChange:y=>l({...i,isLatest:y.target.checked})}),"最新版としてマーク"]}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx("button",{className:"bg-blue-600 text-white rounded px-3 py-1 text-xs",onClick:d,children:"アップロード"}),a.jsx("button",{className:"bg-gray-300 text-gray-700 rounded px-3 py-1 text-xs",onClick:()=>r(!1),children:"キャンセル"})]})]})})]})}function eI(){const[e,t]=p.useState("requirements-definition"),[n,r]=p.useState(!1),[s,o]=p.useState("phase"),[i,l]=p.useState({"requirements-definition":{title:"要件定義",tasks:[{id:"t1",title:"目的・目標の明確化",description:"プロジェクトの目的や目標を明確にする",status:"not-started",priority:"high"},{id:"t2",title:"現状分析",description:"現状業務の分析と課題特定",status:"not-started",priority:"high"},{id:"t3",title:"ヒアリング",description:"ユーザーヒアリングと要求収集",status:"not-started",priority:"medium"}],deliverables:[{id:"d1",title:"企画書",description:"システム開発の目的や期待効果をまとめた文書",status:"not-started"},{id:"d2",title:"要件定義書",description:"機能・非機能要件を詳細に記述した文書",status:"not-started"}]},"basic-design":{title:"基本設計",tasks:[{id:"t1",title:"システム構成設計",description:"全体アーキテクチャ設計",status:"not-started",priority:"high"},{id:"t2",title:"DB設計",description:"データベース論理・物理設計",status:"not-started",priority:"high"}],deliverables:[{id:"d1",title:"基本設計書",description:"システム全体像を記述した文書",status:"not-started"}]},"external-design":{title:"外部設計",tasks:[{id:"t1",title:"UI設計",description:"画面レイアウトや操作フロー設計",status:"not-started",priority:"medium"},{id:"t2",title:"UX設計",description:"ユーザー体験の最適化設計",status:"not-started",priority:"medium"}],deliverables:[{id:"d1",title:"画面設計書",description:"各画面のレイアウトや要素を記述した文書",status:"not-started"}]},"development-prep":{title:"開発準備",tasks:[{id:"t1",title:"環境構築",description:"開発環境のセットアップ",status:"not-started",priority:"high"},{id:"t2",title:"コーディング規約策定",description:"チーム内のコーディングルール策定",status:"not-started",priority:"medium"}],deliverables:[{id:"d1",title:"開発環境手順書",description:"開発環境のセットアップ手順書",status:"not-started"}]}}),c=(f,h)=>{l(y=>{const w=y[e],x=w.tasks.map(b=>b.id===f?{...b,status:h}:b);return{...y,[e]:{...w,tasks:x}}})},u=(f,h)=>{l(y=>{const w=y[e],x=w.deliverables.map(b=>b.id===f?{...b,status:h}:b);return{...y,[e]:{...w,deliverables:x}}})},d=(f,h,y)=>{l(w=>{const x=w[f],b=x.deliverables.map(v=>v.id===h?{...v,status:y}:v);return{...w,[f]:{...x,deliverables:b}}})};return console.log("activeView:",s),a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[a.jsxs("header",{className:"flex items-center justify-between h-14 px-4 bg-white border-b shadow-sm",children:[a.jsx("span",{className:"font-bold text-lg",children:"システム設計アシスタント"}),a.jsxs("button",{onClick:()=>r(!0),className:"p-2",children:[a.jsx("span",{className:"text-2xl",children:"☰"})," "]})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 pb-20",children:[s==="phase"&&a.jsxs(a.Fragment,{children:[a.jsx(VA,{phase:i[e]}),a.jsx(HA,{phase:i[e],onTaskUpdate:c}),a.jsx(qA,{phase:i[e],onStatusUpdate:u})]}),s==="templates"&&a.jsx(QA,{}),s==="guide"&&a.jsx(JA,{}),s==="documents"&&a.jsx(ZA,{}),s==="deliverables-checklist"&&a.jsx(GA,{phaseData:i,onCheck:d})]}),a.jsx("footer",{className:"fixed bottom-0 left-0 w-full bg-white border-t flex justify-around items-center h-24 z-20",children:WA.map(f=>a.jsxs("button",{onClick:()=>{t(f.id),o("phase")},className:`flex flex-col items-center justify-center flex-1 py-2 ${e===f.id&&s==="phase"?"text-blue-600 font-bold":"text-gray-500"}`,children:[a.jsx("span",{className:"text-2xl",children:f.icon}),a.jsx("span",{className:"text-sm mt-1",children:f.label})]},f.id))}),n&&a.jsxs("div",{className:"fixed inset-0 z-30 bg-black bg-opacity-30 flex",children:[a.jsxs("div",{className:"w-64 bg-white h-full shadow-lg p-6 flex flex-col",children:[a.jsx("button",{onClick:()=>r(!1),className:"self-end mb-4 text-2xl",children:"×"}),a.jsxs("nav",{className:"flex flex-col gap-4",children:[a.jsx("button",{className:"text-left text-base py-2",onClick:()=>{o("templates"),r(!1)},children:"テンプレート"}),a.jsx("button",{className:"text-left text-base py-2",onClick:()=>{o("guide"),r(!1)},children:"基本ガイド"}),a.jsx("button",{className:"text-left text-base py-2",onClick:()=>{o("documents"),r(!1)},children:"ドキュメント管理"}),a.jsx("button",{className:"text-left text-base py-2",onClick:()=>{o("deliverables-checklist"),r(!1)},children:"成果物チェック"})]})]}),a.jsx("div",{className:"flex-1",onClick:()=>r(!1)})]})]})}const pm={要件定義:il,基本設計:Qt,外部設計:r0,開発準備:rf},tI=()=>{const{currentProject:e}=Ho(),{phases:t,tasks:n,deliverables:r,loading:s,updateTask:o,updateDeliverable:i}=jk(),l=BA(),[c,u]=p.useState("phases"),[d,f]=p.useState(!0),[h,y]=p.useState(!0),w=t.map(N=>({...N,title:N.name,tasks:n.filter(S=>S.phase_id===N.id),deliverables:r.filter(S=>S.phase_id===N.id),questions:[],advice:[]}));console.log("MainApp - phasesWithData:",w),console.log("MainApp - currentProject:",e),console.log("MainApp - phases:",t),console.log("MainApp - tasks:",n),console.log("MainApp - deliverables:",r);const[x,b]=p.useState(()=>w.length>0?w[0].id:"");p.useEffect(()=>{console.log("MainApp - useEffect triggered, phasesWithData.length:",w.length),console.log("MainApp - current activePhase:",x),console.log("MainApp - phasesWithData IDs:",w.map(N=>N.id)),w.length>0&&!w.find(N=>N.id===x)&&(console.log("MainApp - Setting new activePhase to:",w[0].id),b(w[0].id))},[w,x]);const v=w.find(N=>N.id===x);console.log("MainApp - currentPhase:",v),console.log("MainApp - activePhase:",x);const g=w.reduce((N,S)=>N+S.tasks.length,0),m=w.reduce((N,S)=>N+S.tasks.filter(E=>E.status==="completed").length,0),_=w.reduce((N,S)=>N+S.deliverables.length,0),j=w.reduce((N,S)=>N+S.deliverables.filter(E=>E.status==="completed").length,0),C=async(N,S,E)=>{await o(S,{status:E?"completed":"todo"})},k=async(N,S,E)=>{await i(S,{status:E})};return s?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"text-lg",children:"読み込み中..."})}):l?a.jsx(eI,{}):w.length===0?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg mb-2",children:"フェーズデータが見つかりません"}),a.jsx("div",{className:"text-sm text-gray-500",children:"プロジェクトにフェーズが設定されていない可能性があります"})]})}):a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[a.jsx(eA,{totalTasks:g,completedTasks:m,totalDeliverables:_,completedDeliverables:j,currentProject:e}),a.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[a.jsxs("div",{className:`${d?"w-64":"w-20"} bg-white border-r border-gray-200 transition-all duration-300 flex flex-col relative shadow-sm`,children:[a.jsx("button",{onClick:()=>f(!d),className:"absolute -right-3 top-6 w-6 h-6 bg-white border border-gray-200 rounded-full flex items-center justify-center shadow-sm hover:shadow-md transition-all duration-200 z-10",children:d?a.jsx(Fp,{className:"h-3 w-3"}):a.jsx(zp,{className:"h-3 w-3"})}),a.jsxs("nav",{className:"flex-1 p-4 space-y-6 overflow-y-auto",children:[a.jsxs("div",{children:[d&&a.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3 px-3",children:"ツール"}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("button",{onClick:()=>u("guide"),className:`w-full flex items-center ${d?"justify-start":"justify-center"} gap-3 px-3 py-3 text-left rounded-2xl transition-all duration-200 ${c==="guide"?"bg-blue-100 text-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-100"}`,title:d?"":"基本手順",children:[a.jsx(e2,{className:"h-5 w-5 flex-shrink-0"}),d&&a.jsx("span",{className:"text-sm font-medium",children:"基本手順"})]}),a.jsxs("button",{onClick:()=>u("checklist"),className:`w-full flex items-center ${d?"justify-start":"justify-center"} gap-3 px-3 py-3 text-left rounded-2xl transition-all duration-200 ${c==="checklist"?"bg-blue-100 text-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-100"}`,title:d?"":"成果物チェック",children:[a.jsx(H2,{className:"h-5 w-5 flex-shrink-0"}),d&&a.jsx("span",{className:"text-sm font-medium",children:"成果物チェック"})]}),a.jsxs("button",{onClick:()=>u("templates"),className:`w-full flex items-center ${d?"justify-start":"justify-center"} gap-3 px-3 py-3 text-left rounded-2xl transition-all duration-200 ${c==="templates"?"bg-blue-100 text-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-100"}`,title:d?"":"テンプレート",children:[a.jsx(S2,{className:"h-5 w-5 flex-shrink-0"}),d&&a.jsx("span",{className:"text-sm font-medium",children:"テンプレート"})]})]})]}),a.jsxs("div",{children:[d&&a.jsx("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3 px-3",children:"フェーズ"}),a.jsx("div",{className:"space-y-2",children:w.map(N=>{const S=pm[N.title]||pm.要件定義,E=N.tasks.length>0?N.tasks.filter(I=>I.status==="completed").length/N.tasks.length*100:0,M=c==="phases"&&x===N.id;return a.jsxs("button",{onClick:()=>{console.log("Phase clicked:",N.title,"ID:",N.id),u("phases"),b(N.id)},className:`w-full flex items-center ${d?"justify-start":"justify-center"} gap-3 px-3 py-3 text-left rounded-2xl transition-all duration-200 ${M?"bg-blue-100 text-blue-700 shadow-sm":"text-gray-700 hover:bg-gray-100"}`,title:d?"":N.title,children:[a.jsx(S,{className:"h-5 w-5 flex-shrink-0"}),d&&a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:"block text-sm font-medium truncate",children:N.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full transition-all duration-300",style:{width:`${E}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:[Math.round(E),"%"]})]})]})]},N.id)})})]})]}),d&&a.jsx("div",{className:"p-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[a.jsx(ku,{className:"h-4 w-4"}),a.jsx("span",{children:"サポートが必要ですか？"})]})}),!d&&a.jsx("div",{className:"p-4 border-t border-gray-100",children:a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"サポートが必要ですか？",children:a.jsx(ku,{className:"h-4 w-4 text-gray-500"})})})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx("div",{className:"p-6",children:c==="guide"?a.jsx(gA,{}):c==="checklist"?a.jsx(LA,{phases:w}):c==="templates"?a.jsx(zA,{}):v&&a.jsxs("div",{className:"space-y-6",children:[a.jsx(tA,{phase:v}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(nA,{phase:v,onTaskUpdate:(N,S)=>C(v.id,N,S)}),a.jsx(rA,{phase:v,onStatusUpdate:(N,S)=>k(v.id,N,S)})]})]})})}),a.jsxs("div",{className:`${h?"w-96":"w-16"} bg-white border-l border-gray-200 transition-all duration-300 flex flex-col relative shadow-sm`,children:[a.jsx("button",{onClick:()=>y(!h),className:"absolute -left-3 top-6 w-6 h-6 bg-white border border-gray-200 rounded-full flex items-center justify-center shadow-sm hover:shadow-md transition-all duration-200 z-10",children:h?a.jsx(zp,{className:"h-3 w-3"}):a.jsx(Fp,{className:"h-3 w-3"})}),h?a.jsx(hA,{phaseId:(v==null?void 0:v.id)||"requirements-definition"}):a.jsx("div",{className:"flex flex-col items-center py-6",children:a.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:a.jsx(Qt,{className:"h-6 w-6 text-gray-600"})})})]})]})]})};function nI(){const[e]=oj(),t=Dv(),{user:n}=Zn(),{acceptInvitation:r,declineInvitation:s}=py(),[o,i]=p.useState("loading"),[l,c]=p.useState(""),[u,d]=p.useState(null),f=e.get("token");p.useEffect(()=>{(async()=>{var b;if(!f){i("error"),c("招待リンクが無効です。");return}try{console.log("Fetching invitation with token:",f),console.log("Current user state:",n),console.log("User email:",n==null?void 0:n.email);const{data:v,error:g}=await V.from("project_invitations").select("id, project_id, email, role, scopes, expires_at, created_at").eq("token",f).single();if(console.log("Basic invitation data:",v),console.log("Basic invitation error:",g),g){console.error("Error fetching basic invitation:",g),i("error"),c("招待データの取得に失敗しました。");return}if(!v){console.error("No invitation found with token:",f),i("error"),c("有効な招待が見つかりません。招待リンクが正しいかご確認ください。");return}if(console.log("Project ID from invitation:",v.project_id),console.log("Project ID type:",typeof v.project_id),console.log("Project ID length:",(b=v.project_id)==null?void 0:b.length),console.log("Invitation email:",v.email),!n){console.log("User is not authenticated, showing login required message"),i("error"),c(`ログインが必要です。招待メールアドレス: ${v.email}`);return}console.log("User is authenticated:",n.email),console.log("Fetching project data for ID:",v.project_id);const{data:m,error:_}=await V.from("projects").select("name, description").eq("id",v.project_id).single();console.log("Project data:",m),console.log("Project error:",_),console.log("Project error details:",_==null?void 0:_.details);const j=v.email||"招待者@example.com",C=j.split("@")[0]||"招待者";console.log("Inviter email:",j);const k=new Date,N=new Date(v.expires_at);if(k>N){i("error"),c("この招待は期限切れです。");return}if(n&&n.email){console.log("Checking existing member for project_id:",v.project_id,"user_id:",n.id);const{data:S}=await V.from("project_members").select("id").eq("project_id",v.project_id).eq("user_id",n.id).single();if(console.log("Existing member check result:",S),S){i("error"),c("既にプロジェクトのメンバーです。");return}}if(n&&n.email&&n.email!==v.email){console.log("Email mismatch - User email:",n.email,"Invitation email:",v.email),i("error"),c("この招待は別のメールアドレス宛てです。正しいアカウントでログインしてください。");return}console.log("All checks passed, setting status to pending"),d({project_name:(m==null?void 0:m.name)||"プロジェクト名",project_description:(m==null?void 0:m.description)||"",inviter_email:j,inviter_name:C,role:v.role,scopes:v.scopes||[]}),i("pending")}catch(v){console.error("Error fetching invitation data:",v),i("error"),c("招待データの取得に失敗しました。")}})()},[f,n]);const h=async()=>{if(f)try{const{error:x}=await r(f);if(x)throw x;i("success"),c("プロジェクトへの参加が完了しました！"),setTimeout(()=>{t("/")},2e3)}catch{i("error"),c("招待の承認に失敗しました。")}},y=async()=>{if(f)try{const{error:x}=await s(f);if(x)throw x;i("declined"),c("招待を辞退しました。")}catch{i("error"),c("招待の辞退に失敗しました。")}},w=()=>{t("/")};return o==="loading"?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx($e,{className:"w-full max-w-md",children:a.jsx(Ue,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(T2,{className:"h-8 w-8 animate-spin text-blue-600"}),a.jsx("span",{className:"ml-2 text-gray-600",children:"招待を確認中..."})]})})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs($e,{className:"w-full max-w-md",children:[a.jsxs(Je,{className:"text-center",children:[o==="success"?a.jsx(Be,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}):o==="error"?a.jsx(uo,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}):o==="declined"?a.jsx(uo,{className:"h-12 w-12 text-gray-600 mx-auto mb-4"}):null,a.jsxs(Ze,{children:[o==="success"&&"招待を承認しました",o==="error"&&"エラーが発生しました",o==="declined"&&"招待を辞退しました"]}),a.jsx(ct,{children:l})]}),a.jsxs(Ue,{className:"space-y-4",children:[o==="pending"&&u&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("h3",{className:"font-medium text-lg mb-2",children:[u==null?void 0:u.project_name," への招待"]}),(u==null?void 0:u.project_description)&&a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:u.project_description}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:["招待者: ",a.jsx("span",{className:"font-medium",children:u==null?void 0:u.inviter_name})]}),a.jsxs("p",{className:"text-gray-600",children:["役割: ",a.jsx("span",{className:"font-medium",children:(u==null?void 0:u.role)==="admin"?"管理者":"メンバー"})]}),(u==null?void 0:u.scopes)&&u.scopes.length>0&&a.jsxs("p",{className:"text-gray-600",children:["アクセス権限: ",a.jsxs("span",{className:"font-medium",children:[u.scopes.length,"個の権限"]})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Z,{variant:"outline",onClick:y,className:"flex-1",children:[a.jsx(uo,{className:"h-4 w-4 mr-2"}),"辞退"]}),a.jsxs(Z,{onClick:h,className:"flex-1",children:[a.jsx(Be,{className:"h-4 w-4 mr-2"}),"参加する"]})]})]}),o==="success"&&a.jsx(Z,{onClick:w,className:"w-full",children:"プロジェクトに移動"}),(o==="error"||o==="declined")&&a.jsx(Z,{variant:"outline",onClick:()=>t("/"),className:"w-full",children:"ホームに戻る"})]})]})})}function rI(){return a.jsx(sj,{children:a.jsx(bk,{children:a.jsx(_k,{children:a.jsx(Sk,{children:a.jsx(Tk,{children:a.jsxs(ej,{children:[a.jsx(uu,{path:"/invite",element:a.jsx(kp,{children:a.jsx(nI,{})})}),a.jsx(uu,{path:"/*",element:a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx(kp,{children:a.jsx(cE,{children:a.jsx(tI,{})})})})})]})})})})})})}gc.createRoot(document.getElementById("root")).render(a.jsx(te.StrictMode,{children:a.jsx(rI,{})}));
